(function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="XuIZ")})({"+16d":function(e,t){},"+oHS":function(e,t,r){e.exports=r("XEyi")},"+qqD":function(e,t,r){var n=r("b42z"),o=r("ijsr");e.exports=function(e,t,r,s){try{return s?t(n(r)[0],r[1]):t(r)}catch(i){throw o(e),i}}},"+vPT":function(e,t,r){var n={};n=r("yWZl"),e.exports=n},"/5b1":function(e,t,r){var n=r("GHVm"),o=r("gfA+"),s="["+o+"]",i=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),a=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(u,"")),r}};e.exports={start:a(1),end:a(2),trim:a(3)}},"/EgQ":function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"/FZm":function(e,t,r){e.exports=r("Kxu3")},"/GqU":function(e,t,r){var n=r("RK3t"),o=r("HYAF");e.exports=function(e){return n(o(e))}},"/Gw5":function(e,t,r){var n=r("J712");e.exports=n},"/HVM":function(e,t,r){r("UUWy"),r("Pkew");var n=r("C3ug");e.exports=n},"/JNE":function(e,t,r){"use strict";var n=r("pevS"),o=r("Bvq2"),s=r("YiBS"),i=r("39uu"),u=r("T/97"),a=r("ZyXh"),c=r("bBVJ"),f=r("Q0Rw"),l=r("nJYk"),d=r("A2Ma"),_=r("SqY4"),p=d("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",m=_>=51||!o((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),v=l("concat"),y=function(e){if(!i(e))return!1;var t=e[p];return void 0!==t?!!t:s(e)},b=!m||!v;n({target:"Array",proto:!0,forced:b},{concat:function(e){var t,r,n,o,s,i=u(this),l=f(i,0),d=0;for(t=-1,n=arguments.length;t<n;t++)if(s=-1===t?i:arguments[t],y(s)){if(o=a(s.length),d+o>g)throw TypeError(h);for(r=0;r<o;r++,d++)r in s&&c(l,d,s[r])}else{if(d>=g)throw TypeError(h);c(l,d++,s)}return l.length=d,l}})},"/b8u":function(e,t,r){var n=r("STAE");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},"/byt":function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"/qmn":function(e,t,r){var n=r("2oRo");e.exports=n.Promise},"04Ix":function(e,t,r){var n=r("hdMt");function o(e,t,r){return t in e?n(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=o},"04M5":function(e,t,r){"use strict";var n=r("mIMY"),o=r("QYBB"),s=r("A2Ma"),i=r("wbIY"),u=s("species");e.exports=function(e){var t=n(e),r=o.f;i&&t&&!t[u]&&r(t,u,{configurable:!0,get:function(){return this}})}},"05LJ":function(e,t,r){var n=r("G9WS"),o=n(r("ZbhI")),s=r("WfN0"),i=r("Uwh9").inherits;e.exports=new(i(s,{constructor:function(){s.call(this)},init:function(e,t,r){e="string"===typeof e?e:e+"";var n=(0,o.default)(e).call(e,"//");-1===n?this.apiUrl=e:(e=e.substr(n),this.apiUrl=window.location.protocol+e),$.flXHRproxy&&$.flXHRproxy.registerOptions(this.apiUrl,{xmlResponseText:!1}),$.ajaxTransport("+script",(function(e){if(e.crossDomain){var t,r=document.head||jQuery("head")[0]||document.documentElement;return{send:function(n,o){t=document.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,r||o(200,"success"))},t.onerror=function(){o(void 0,"error")},r.insertBefore(t,r.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}})),this.commonParams=t,this.errorHandler=r}}))},"07d7":function(e,t,r){var n=r("AO7/"),o=r("busE"),s=r("sEFX");n||o(Object.prototype,"toString",s,{unsafe:!0})},"0BFm":function(e,t,r){var n=r("G9WS"),o=r("iYz8"),s=r("6UaR"),i=r("Dcj1"),u=r("O0yt"),a=r("0lTi"),c=r("UtpJ");r("4mDm"),r("oVuX"),r("sMBO"),r("qePV"),r("07d7"),r("5s+n"),r("rB9j"),r("JfAA"),r("PKPk"),r("UxlC"),r("EnZy"),r("3bBZ");var f=n(r("OBge")),l=n(r("IeeE")),d=n(r("guyh")),_=n(r("UtpJ")),p=n(r("RXMP")),g=n(r("Kwsy")),h=n(r("lHQ6")),m=n(r("nhkr")),v=n(r("ZbhI"));function y(e,t){var r;if("undefined"===typeof u||null==i(e)){if(s(e)||(r=b(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,l=!1;return{s:function(){r=o(e)},n:function(){var e=r.next();return f=e.done,e},e:function(e){l=!0,c=e},f:function(){try{f||null==r.return||r.return()}finally{if(l)throw c}}}}function b(e,t){var r;if(e){if("string"===typeof e)return w(e,t);var n=c(r=Object.prototype.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?a(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=r("80UC"),S=r("Uwh9"),k=r("tMi5"),M=S.urlConvert,E=S.inherits,A=S.extend,I=S.fnEmpty,O=S.toString,T=S.isEmpty,U=S.isEmptyObject,R=S.each,L=S.jsonHandler,j=S.strToNumCompare,C=k.isGroupUser,P=k.isShopModeUser,F=k.createGroupInfo,B=k.msgOperatorReplace,D=k.sortGroupMember,N=k.covertSourceType,G=k.systemGroupKey,W=k.getContactInfo,q=k.getShopKey,H=r("0rV4"),Y=r("lmK3"),J=r("b0FF"),K=r("QbSn"),V=r("kWLn"),X=new V({}),z=r("rXEH"),Q=r("+vPT"),Z=r("IeyT"),ee=r("hIjh"),te=r("4dMV"),re=r("xzMW"),ne=J["groupchat-info"],oe=5,se=1,ie=function(e){for(var t=[],r=0;r<e.length;r++){var n;!T(e[r])&&(0,v.default)(n=["text","image","audio","location"]).call(n,O(e[r].show_type))>-1&&(T(e[r].refer)||U(e[r].refer))&&t.push(e[r])}return t},ue=function(e,t,r){for(var n=null,o=0;o<r.length;o++)if(r[o].refer){if(n=r[o].refer,"string"===typeof n&&(n=L.parse(n)),!T(n)&&!U(n)){"string"===typeof n.invitation&&(n.invitation=L.parse(n.invitation)),T(n.invitation)||"[object Object]"!==Object.prototype.toString.call(n.invitation)||r[o].sender_id===e&&r[o].sender_source===t||(n.invitation.role=n.invitation.role&&"2"===O(n.invitation.role)?"1":n.invitation.role&&"1"===O(n.invitation.role)?"2":""),T(n.invitation)||(n.invitation.refer_time=r[o].send_time);break}n=null}return T(n)||(n.referMsgIndex=o),n},ae=function(e,t){var r=this,n=function(){var e=[],t=0;return function(o,s){if(t++,t>se)return s(null);r.getMsgRecords(o,(function(t){if(0===t.length)return s(null);var r=ue(o.user_id,o.user_source,t);r&&s({refer:r,user_id:o.user_id,user_source:o.user_source}),Array.prototype.push.apply(e,ie(t)),!r&&e.length<oe?(o.msg_id=t[t.length-1].msg_id,n(o,s)):!r&&e.length>=oe&&s(null)}),(function(){s(null)}))}}();n(e,t)},ce=function(e,t,r){var n=this,o=ue(e,t,r),s=e+"@"+t;if(o){var i=T(o.referMsgIndex)?0:o.referMsgIndex,u=q(r[i]);T(u)||(s+="@@"+u),delete o.referMsgIndex,Q.setRefer(s,o)}else{var a=n.getRefer(s);if(a)return;var c={user_id:e,user_source:t,msg_id:r[r.length-1].msg_id,count:20,option:-1};ae.call(n,c,(function(e){if(e&&e.refer){var t=e.user_id+"@"+e.user_source,r=q(e);T(r)||(t+="@@"+r),Q.setRefer(t,e.refer)}}))}},fe=function(e){var t=!0;return(e.options&&e.options.unread_count_hide+""==="1"||e.options&&e.options.talk_list_order_ig+""==="1")&&(t=!1),t},le=function(e){var t=[],r={},n=H.checkUid(e).ebuidKey,o=e[n];if("object"!==(0,m.default)(o)||isNaN(o.length))t.push(e[n]),r[e[n]]={},r[e[n]]["key"]=n;else for(var s=0;s<o.length;s++)if(H.checkUid(o[s]).isHaveEbuid){n=H.checkUid(o[s]).ebuidKey;var i=o[s][n];t.push(i),r[i]={},r[i]["num"]=s,r[i]["key"]=n}return{uids:t,originObj:r}},de=function(e,t){var r=e.user_id+"@"+e.user_source,n=t.user_id+"@"+t.user_source;return r===n},_e=function(e){var t={user_name:T(e)||T(e.user_name)?ne.user_name:e.user_name,avatar:T(e)||T(e.avatar)?ne.avatar:e.avatar};return A(!0,ne,t)},pe=function(e,t){var r=[];return R(e.members,(function(e,n){if(!T(n)&&!T(n.user_id)&&!T(n.user_source))if("create"===t){var o=ne.member_info,s=X.getUserRemote(n.user_id,n.user_source);r.push({user_id:n.user_id,user_source:k.covertSourceType(n.user_source),authority:T(n.authority)?o.authority:n.authority,nick_name:T(n.nick_name)?T(s)||T(s.user_name)?o.nick_name:s.user_name:n.nick_name,forbidden:T(n.forbidden)?o.forbidden:n.forbidden})}else if("update"===t){var i,u;if(-1===(0,v.default)(i=L.stringify(n)).call(i,"authority")&&-1===(0,v.default)(u=L.stringify(n)).call(u,"nick_name"))return;var a={user_id:n.user_id,user_source:k.covertSourceType(n.user_source)};R(n,(function(e,t){var r,n;T(t)||-1===(0,v.default)(r=["authority"]).call(r,e)||(a[e]=t),-1!==(0,v.default)(n=["nick_name"]).call(n,e)&&(a[e]=t)})),r.push(a)}else if("slient"===t){var c;if(-1===(0,v.default)(c=L.stringify(n)).call(c,"forbidden"))return;r.push({user_id:n.user_id,user_source:k.covertSourceType(n.user_source),forbidden:n.forbidden})}})),r},ge=5,he=0,me={},ve={};e.exports=E(x,{constructor:function(e){x.call(this),this.lasttime=0,this.options={api:"",ws:"",user_id:"",source:"",im_token:"",client_version:"1.7.2.0",os_type:e.name?e.name:"",os_version:e.version?e.version:"",appid:"",extend_flag:0,unread_index:1,sdk_version:(0,h.default)("1.7.2.0".split(".").join(""),16),getNewToken:function(e){e("token")}},this.cometCommonParams={},this.userCore=X},_exchangeUid:function(e,t){var r=this;if(!H.checkUid(e).isHaveEbuid)return t(!0);var n=le(e),o=n.uids,s=n.originObj;r.exchangeXid(o,(function(r){R(r,(function(t,r){var n=H.checkUid(e).ebuidKey,o=s[t]["key"];if("object"!==(0,m.default)(e[n])||isNaN(e[n].length))e[o]=r;else{var i=s[t]["num"];e[n][i][o]=r}})),t(!0)}),(function(){t(!1)}))},_filterReferMsg:function(e,t,r){return ue(e,t,r)},_isAddUnreadNum:function(e){return fe(e)},_getNewToken:function(e){var t=(new Date).getTime(),r=t-this.lasttime,n=3e3;if(r>n)this.lasttime=t,this.options.getNewToken((function(t){e(t)}));else{var o=this;(0,g.default)((function(){o._getNewToken(e)}),r-n)}},_init:function(e){A(this.options,e),J["appid"]=this.options.appid,T(this.options.is_show_audio_video)?J["is_show_audio_video"]=this.options.supported_functions&&this.options.supported_functions.is_show_audio_video:J["is_show_audio_video"]=this.options.is_show_audio_video,J["is_support_provide_contactinfo"]=this.options.supported_functions&&this.options.supported_functions.is_support_provide_contactinfo,J["is_support_forward"]=this.options.supported_functions&&this.options.supported_functions.is_support_forward,J["is_not_sync_page"]=this.options.is_not_sync_page,J["auto_delete_anoymous_contact"]=this.options.auto_delete_anoymous_contact;var t={user_id:this.options.user_id+"",source:k.covertSourceType(this.options.source),im_token:this.options.im_token+"",client_version:this.options.client_version?this.options.client_version+"":"1.7.2.0",client_type:this.options.client_type+"",os_type:this.options.os_type+"",os_version:this.options.os_version+"",appid:this.options.appid+"",extend_flag:0,unread_index:T(this.options.unread_index)?0:this.options.unread_index,sdk_version:this.options.sdk_version,device_id:this.options.device_id+""};X.getLoginInfo((function(e){T(e)||T(e.user)||e.user.user_id!=t.user_id||e.user.user_source!=t.source||Q.getUnreadIndexDB((function(e){!T(e)&&Number(e)>Number(t.unread_index)&&(t.unread_index=e)}))})),T(t.im_token)&&(t.device_id=this.options.user_id+""),!T(this.options.is_show_group)&&this.options.is_show_group&&!T(this.options.is_shop_mode)&&this.options.is_shop_mode?t.extend_flag=5:!T(this.options.is_show_group)&&this.options.is_show_group?t.extend_flag=1:!T(this.options.is_shop_mode)&&this.options.is_shop_mode&&(t.extend_flag=4),this.cometCommonParams=A(!0,{},t);var r=this,n=S.isEmpty(this.options.envs)?null:te[this.options.envs],o=S.isEmpty(n)?S.isEmpty(this.options.api)?"":this.options.api:n.api;Y.init(o,t,(function(e){switch(e&&e.error_code){case 40002:case 40012:case 40013:if(r.stop("ajax error code:"+e.error_code),++he>ge)return;r._getNewToken((function(e){r.options.im_token+""!==e+""&&(r.options.im_token=e,r.init(r.options),r.start())}));break;default:he=0;break}}));var s=!T(t.user_id)&&t.user_id===t.device_id&&T(t.im_token);K.set(t.user_id,t.source,s);var i=K.get();ne.creater=i},_send:function(e){var t={to_id:e.msg.to_id};this._exchangeUid(t,(function(r){var n;if(r){var o=e.msg,s=K.get(),i={sender_id:T(o.sender_id)?T(o.shop_id)?s.user_id:o.shop_id:o.sender_id,sender_source:T(o.sender_source)?T(o.shop_source)?N(s.user_source):N(o.shop_source):N(o.sender_source),to_id:t.to_id,to_source:N(o.to_source),msg_type:o.msg_type,msg_status:0,show_type:o.show_type,content:A(!0,{},o.content),options:o.options,refer:A(!0,{},o.refer),at_info:o.at_info,show_in_app:o.show_in_app},u=i.sender_id+"@"+i.sender_source,a=i.to_id+"@"+i.to_source,c=s.user_id+"@"+s.user_source;-1==(0,v.default)(n=[u,a]).call(n,c)&&(i.kf_id=T(o.kf_id)?s.user_id:o.kf_id,i.kf_source=T(o.kf_source)?N(s.user_source):N(o.kf_source)),e.onSendMsgBegin(),Q.send(i,(function(t){var r,n={user:{user_id:i.to_id,user_source:i.to_source},msg:{sender_id:i.sender_id,sender_source:i.sender_source,to_id:i.to_id,to_source:i.to_source,content:i.content,send_time:t.send_time,msg_id:t.msg_id,msg_index:t.msg_index,msg_type:i.msg_type,msg_status:i.msg_status,showed_count:t.showed_count}};!T(o.forward_msg_content)&&o.forward_msg_show_type&&(n.msg.content=o.forward_msg_content,n.msg.forward_msg_show_type=o.forward_msg_show_type,n.msg.show_type=o.forward_msg_show_type),-1==(0,v.default)(r=[u,a]).call(r,c)&&P({user_source:i.sender_source})&&(n.user.shop_id=i.sender_id,n.user.shop_source=i.sender_source),z.insert(n);var s=i.to_id+"@"+i.to_source;if(P(i)){var f=q(i);s+="@@"+f}var l=Q.getLastMsg(s);z.setLastShowMsg(s,l),e.onSendMsgSuccess(t)}),(function(t){if(!T(t)&&42032==t.error_code&&C({user_source:e.msg.to_source})){var r={content:i.content,send_time:(new Date).getTime(),msg_id:i.msg_id,msg_type:i.msg_type,msg_status:0,client_only:"1",options:i.options};e.onSendMsgSuccess({send_time:r.send_time,msg_id:r.msg_id})}else e.onSendMsgFail(t)}))}else e.onSendMsgFail("MB换取失败!")}))},getMsgRecords:function(e,t,r){var n=this,o=K.get();n._exchangeUid(e,(function(){var s=e.user_id+"@"+e.user_source,i=T(e.shop_id)||T(e.shop_source)?s:s+"@@"+e.shop_id+"@"+e.shop_source,u=z.getLastShowMsg(i);if(!T(u)&&P(u)){var a=u.sender_id+"@"+u.sender_source,c=u.to_id+"@"+u.to_source,f=P({user_source:u.sender_source})?a:P({user_source:u.to_source})?c:null;T(f)||(e.shop_id=f==a?u.sender_id:f==c?u.to_id:null,e.shop_source=f==a?u.sender_source:f==c?u.to_source:null)}Q.getMsgRecords(e,(function(r,s){if(0===r.length)return t(A(!0,[],r),s);if("-1"===O(e.option))if(C({user_source:e.user_source})){if(!e.msg_id){var u={ids:[{user_id:e.user_id,user_source:e.user_source}],forceUpdate:!0};ee.getGroupInfo(u,(function(){var t=ee.getGroupInfoFromLocal(e.user_id,e.user_source);T(t)||n.triggerEvent("contactInfoChanged",[t])}),(function(){}))}}else if(e.msg_id){var a=ue(e.user_id,e.user_source,r);if(a){var c=e.user_id+"@"+e.user_source,f=T(a.referMsgIndex)?0:a.referMsgIndex,l=q(r[f]);T(l)||(c+="@@"+l),delete a.referMsgIndex,Q.setRefer(c,a)}}else ce.call(n,e.user_id,e.user_source,r);var d=[];if(C({user_source:e.user_source})){var _=e.user_id+"@"+e.user_source;R(r,(function(e,t){var r=t.to_id+"@"+t.to_source,n=_===r;d.push({user_id:n?t.sender_id:t.to_id,user_source:n?t.sender_source:t.to_source})})),1==e.option&&R(r,(function(e,t){var r=t.content,o=W(t);if(T(t)||T(r)||T(o))return!0;var s=o.user_key,i=o.user_id,u=o.user_source;if("operation_tip"===t.show_type){var a=ee.getGroupInfoFromLocal(i,u);switch(r.op_type){case"change_group_name":if(!T(a)){var c,f="更改群名称为：";a.user_name=T(r.default_text)||-1===(0,v.default)(c=r.default_text).call(c,f)?a.user_name:r.default_text.split(f)[1];var l={};l[s]=a,ee.setGroupInfoToLocal(l)}break;case"join_invite":case"join":case"tranfer_group_owner":var d=ee.getGroupMemberUserInfoFromLocal();if(t=B(t,d),!T(a)&&!T(a.group_info)&&!T(a.group_info.current_count)&&!T(t.content.targets)&&t.content.targets.length>0){a.group_info.current_count+=t.content.targets.length;l={};l[s]=a,ee.setGroupInfoToLocal(l);var _=[];R(t.content.targets,(function(e,t){_.push({user_id:t.id,user_source:t.source})}));var p={group_req:[{group_id:i,group_source:u,target:_}]};n.getGroupMemberInfo(p)}break;case"rm_from_group":d=ee.getGroupMemberUserInfoFromLocal();if(t=B(t,d),!T(a)&&!T(a.group_info)&&!T(a.group_info.current_count)&&!T(t.content.targets)&&t.content.targets.length>0){a.group_info.current_count-=t.content.targets.length;l={};l[s]=a,ee.setGroupInfoToLocal(l)}break;default:break}}}))}else d=[{user_id:e.user_id,user_source:e.user_source,shop_id:T(e.shop_id)?null:e.shop_id,shop_source:T(e.shop_source)?null:e.shop_source},{user_id:o.user_id,user_source:o.user_source}];n.getContact(d,(function(o){var u=[],a=[];(0,p.default)(r).call(r,(function(t,r){var n=t.sender_id+"@"+t.sender_source,s=e.user_id+"@"+e.user_source,i=T(e.shop_id)||T(e.shop_source)?null:e.shop_id+"@"+e.shop_source;if(n=n!=s||T(i)?n:n+"@@"+i,t.sender_info=T(o[n])?t.sender_info:o[n],C({user_source:e.user_source})){var c=e.user_id+"@"+e.user_source,f=ee.getGroupMemberUserInfoFromLocal(c,n);if(T(f)){var l=c+"@@"+n;-1===(0,v.default)(a).call(a,l)&&n!==G&&n!==c&&(u.push({group_id:e.user_id,group_source:e.user_source,target:[{user_id:t.sender_id,user_source:t.sender_source}]}),a.push(l))}t.sender_info=A(!0,t.sender_info,f)}var d=t.to_id+"@"+t.to_source;if(d=d!=s||T(i)?d:d+"@@"+i,t.to_info=o[d],"image"===t.show_type&&t.content&&(t.content.url=M(t.content.url+"")),"audio"===t.show_type){var _=t.content.oldUrl?t.content.oldUrl:t.content.url;t.content.url=J["audio-converter"](_),t.content.oldUrl=_}var p=ee.getGroupMemberUserInfoFromLocal();t=B(t,p)}));var c,f=Q.getLastMsg(i)?Q.getLastMsg(i):r.length>0?r[0]:null;C({user_source:e.user_source})&&(c=ee.getGroupMemberUserInfoFromLocal()),f=B(f,c);var l=z.getLastShowMsg(i);if(!T(f)&&!T(f.msg_status)&&f.msg_status+""!=="2"&&(S.isEmpty(l)||0!=S.strToNumCompare(l.msg_id,f.msg_id))&&!(l&&l.replace&&l.replace.msg_id&&0===S.strToNumCompare(l.replace.msg_id,f.msg_id))){var d=Q.getMsgById(f.msg_id);T(d)||d.msg_status+""=="2"?l&&S.strToNumCompare(l.msg_id,f.msg_id)<0&&z.setLastShowMsg(i,f):z.setLastShowMsg(i,f)}if(0==u.length)return t&&t(A(!0,[],r),s);var _={group_req:u};n.getGroupMemberInfo(_,(function(){R(r,(function(t,r){var n=r.sender_id+"@"+r.sender_source;if(r.sender_info=o[n],C({user_source:e.user_source})){var s=e.user_id+"@"+e.user_source,i=ee.getGroupMemberUserInfoFromLocal(s,n);T(i)?ee.setGroupMemberUserInfoToLocal(s+"@@"+n,r.sender_info):r.sender_info=A(!0,r.sender_info,i)}})),t&&t(A(!0,[],r),s)}),(function(){t&&t(A(!0,[],r),s)}))}))}),r)}))},getReplaceMsgRecords:function(e,t,r){var n=this,o=K.get();n._exchangeUid(e,(function(){Q.getReplaceMsgRecords(e,(function(r){if(0===r.length)return t(r);n.getContact([{user_id:e.user_id,user_source:e.user_source},{user_id:o.user_id,user_source:o.user_source}],(function(n){$.each(r,(function(t,r){if(T(r.replace)||T(r.replace.content)||T(r.replace.content._replaceMsg)||r.replace.content._replaceMsg==r.replace.content.text){if(!C({user_source:e.user_source})&&!P(r)&&!T(r.content._replaceMsg)){o=$.extend({},r,{msg_status:1});o.replace.content.text=r.content._replaceMsg,o=B(o,n),r.content.text=o.content.text}}else{var o=$.extend({},r,{msg_status:1});o.replace.content.text=r.replace.content._replaceMsg,o=B(o,n),r.content.text=o.content.text}})),t(r)}))}),r)}))},getDeletedMsgRecords:function(e,t,r){var n=this;n._exchangeUid(e,(function(){Q.getDeletedMsgRecords(e,(function(e){if(0===e.length)return t(e);t(e)}),r)}))},start:I,stop:I,me:function(){return K.get()},addSession:function(e){var t=this,r=e.user;t._exchangeUid(r,(function(){t.getContact(r.user_id,r.user_source,(function(e){X.addUser(e),z.insert({user:{user_id:e.user_id,user_source:e.user_source,is_chat_to:!0},msg:null})}))}))},getContact:function(){var e=this,t=arguments;if(3===t.length){var r=t[0],n=N(t[1]),o=t[2];if(S.isEmpty(r)||S.isEmpty(n))return o({});var s={user_id:r},i=r+"@"+n;e._exchangeUid(s,(function(){if(C({user_source:n})){var t={ids:[{user_id:r,user_source:n}]};e.getGroupInfo(t,(function(e){o(e[i])}),(function(){o(null)}))}else X.getUserinfo({target_user_id:s.user_id,target_user_source:n},(function(e){o(e)}),(function(e){o(null)}))}))}else if(2===t.length){var u=t[0];o=t[1];0===u.length&&o({});s={user_ids:u};e._exchangeUid(s,(function(){var t=s.user_ids,r=[],n=[],i={},u=0,a=function(){u--,u>0||o(i)},c={};if(R(t,(function(e,t){var o=t.user_id+"@"+t.user_source;t.shop_id&&t.shop_source&&(o+="@@"+t.shop_id+"@"+t.shop_source),c[o]||(c[o]=!0,t.user_source=N(t.user_source),C(t)?n.push(t):r.push(t),u=r.length>0&&n.length>0?2:r.length>0||n.length>0?1:0)})),r.length>0&&X.getUserinfos(r,(function(e){0!==n.length?A(!0,i,e):i=e,a()}),(function(){a()})),n.length>0){var f={ids:n};e.getGroupInfo(f,(function(t){var r=[];if(R(t,(function(e,n){var o=ee.getGroupInfoFromLocal(n.user_id,n.user_source);n.avatar=T(o)?n.avatar:o.avatar,n.user_name=T(o)?n.user_name:o.user_name;var s=ee.getGroupMemberFromLocal(n.user_id,n.user_source),i=!T(s)&&!T(s.members)&&s.members.length>0?s.members:[],u=i.length,a=u>=4?(0,_.default)(i).call(i,0,4):i,c=function(){for(var e=!1,t=0;t<a.length;t++){var r,o=a[t].user_id+"@"+a[t].user_source;if(ve[o]&&-1==(0,v.default)(r=n.user_name.split("、")).call(r,ve[o].remark_name)){e=!0,n.update_user_name=!0;break}}return e}();(T(n.avatar)||T(n.user_name)||c)&&r.push(n),t[e]=n})),0===r.length)A(!0,i,t),a();else for(var n=r.length,o=0;o<n;o++){var s=function(){n--,n>0||(A(!0,i,t),ee.setGroupInfoToLocal(t),a())};(function(n){var o={group_id:r[n].user_id,group_source:r[n].user_source,old_version:0,receive_count:0,last_member_id:null,last_member_source:null,count:4};e.getGroupMember(o,(function(o){var i;(0,d.default)(i=o.members).call(i,D);var u=[];R(o.members,(function(e,t){u.push({user_id:t.user_id,user_source:t.user_source})}));var a=[{group_id:r[n].user_id,group_source:r[n].user_source,target:u}],c={group_req:a};e.getGroupMemberInfo(c,(function(e){var o=r[n].user_id+"@"+r[n].user_source,i=[],a=u.length>4?(0,_.default)(u).call(u,0,4):u;R(a,(function(t,r){var n=r.user_id+"@"+r.user_source,s=o+"@@"+n;i.push(e[s])})),F(i,(function(e){t[o].avatar=T(t[o].avatar)?e.avatar:t[o].avatar,t[o].user_name=T(t[o].user_name)||t[o].update_user_name?e.user_name:t[o].user_name,t[o].update_user_name=!1,t[o].remark_user_obj=ve,ee.setGroupInfoToLocal(t),s()}))}),(function(){s()}))}))})(o)}}),(function(){a()}))}}))}},sendMsg:I,read:function(e,t,r,n){var o=this,s=e+"@"+t;!P(n)||T(n.shop_id)||T(n.shop_source)||(s+="@@"+n.shop_id+"@"+n.shop_source);var i=K.get(),u=i.user_id+"@"+i.user_source,a=Q.getLastMsg(s),c=z.getLastShowMsg(s);if(a&&c&&a.msg_id&&c.msg_id&&(a=j(a.msg_id,c.msg_id)<0?A(!0,{},c):a),a&&c&&a.msg_id&&c.msg_id&&0==j(a.msg_id,c.msg_id)&&(c=a),T(a)&&!T(c)&&(a=A(!0,{},c)),a=T(r)||T(r.msg_id)?a:r,a&&a.msg_id){var f=function(e,t,r){r.extendAt&&(r.at_info="{}"),r.at_index=-1,r.at_msg_id="0",r.extendAt=!1;var n=e+"@"+t;if(P(r)){var s=q(r);n+="@@"+s}var i=z.getSession(n);T(i)||(z.setLastShowMsg(n,r),i.msg.at_info=r.at_info,i.msg.at_index=r.at_index,z.updateSession(n,i),z.updateSessionDB([i],(function(){var e=z.getAllSessions();o.triggerEvent(re.sessionChanged,e),o.triggerEvent(re.sessionPortChanged,A(!0,[],[i]))})))},d=Q.getAllUnreadAmount()[s];if(T(d)||0==d)c&&(void 0===c.extendAt||c.extendAt)&&c.at_index>0&&c.sender_id+"@"+c.sender_source!=u&&f(e,t,c);else{var _={user_id:e};o._exchangeUid(_,(function(){var r=0,n=10,o=(0,l.default)((function(){if(r++,r>n)return clearInterval(o);a&&a.msg_id&&(clearInterval(o),Q.setUnreadToZero(a,null,(function(e){if(!T(e)){var t=s;C(e)&&(t=e.to_id+"@"+e.to_source);var r=z.getLastShowMsg(t);r&&r.showed_count!=e.showed_count&&z.setLastShowMsg(t,e)}})),c&&(void 0===c.extendAt||c.extendAt)&&(a.at_index=T(a.at_index)?c.at_index:c.showed_count,T(c.at_index)&&(c.at_index=c.showed_count),f(e,t,c)))}),100)}))}}},getSessions:function(e,t,r){z.getSessions(e,(function(e,n,o){e&&0===e.length&&n?!T(o)&&o>0?t&&t(e,!1):r&&r(e,n):t&&t(e,n)}))},getSessionsFromApi:function(e,t,r){z._fetchSessions(e,(function(e,n){e&&0===e.length&&n?r&&r(e,n):t&&t(e,n)}))},reloadSessions:function(e,t,r){z.getSessionsFromApi(e,(function(e,n){e&&0===e.length&&n?r&&r(e,n):z.insert(e,(function(){t&&t(e,n)}))}))},resetLoadedMsg:function(){Q.resetLoadedMsg()},resetLoadedUser:function(){X.resetLoadedUser()},resetLoadedGroupInfo:function(){ee.resetLoadedGroupInfo()},getCaptcha:function(e,t,r){Z.getCaptcha(e,t,r)},validateCaptcha:function(e,t,r){Z.validateCaptcha(e,t,r)},getAllUnreadAmount:function(){return Q.getAllUnreadAmount()},getAllSessions:function(){return z.getAllSessions()},getSession:function(e,t,r,n){var o=e+"@"+t;return T(r)||T(n)||(o+="@@"+r+"@"+n),z.getSession(o)},ackMsgRead:function(e,t,r){var n={user_ids:e};this._exchangeUid(n,(function(){Q.ackRead(n.user_ids,t,r)}))},ackMsgShow:function(e,t,r){if(T(e)||T(e.sender_id)||T(e.to_id)||T(e.msg_ids)||0==e.msg_ids.length)return r&&r();var n={sender_id:e.sender_id,sender_source:N(e.sender_source),msg_ids:e.msg_ids,to_id:e.to_id,to_source:e.to_source};this._exchangeUid(n,(function(){Q.ackShown(n,t,r)}))},getRefer:function(){var e,t=arguments;if(2===t.length){var r=t[0],n=N(t[1]);e=r+"@"+n}else e=t[0];return Q.getRefer(e)},setRefer:function(e,t,r,n,o){var s={user_id:e+""};this._exchangeUid(s,(function(){var e=s.user_id+"@"+k.covertSourceType(t);return T(n)||T(o)||(e+="@@"+n+"@"+o),Q.setRefer(e,r)}))},exchangeXid:function(e,t,r){for(var n={},o=[],s=0;s<e.length;s++)if(H.checkUid(e[s]).isHaveEbuid)n[e[s]]=e[s];else{var i=me[e[s]];T(i)?(n[e[s]]=null,o.push(e[s])):n[e[s]]=i}if(0==o.length)return t(n);X.exchangeXid(o,(function(e){return T(e)||(A(!0,me,e),A(!0,n,e)),t&&t(n)}),(function(){return r&&r()}))},getUnreceviedMsgNum:function(e,t){Q.getUnreceviedMsgNum(e,t)},clearAllUnreadMsgs:function(e,t,r){Q.clearAllUnreadMsgs(e,t,r)},setEvaluation:function(e,t,r){Q.setEvaluation(e,t,r)},addBlackList:function(e,t,r,n){var o=K.get(),s={user_id:e+"",userSource:t};if(de(o,s))return n;var i={user_id:e+""};this._exchangeUid(i,(function(){return X.addBlackList(i.user_id,k.covertSourceType(t),(function(){var n=e+"@"+t,o=z.getSession(n);T(o)||T(o.user)||(o.user.is_blacked=1,o.user.update_time=(new Date).getTime()),z.insert([o],(function(){})),r&&r()}),n)}))},delBlackList:function(e,t,r,n){var o=K.get(),s={user_id:e+"",userSource:t};if(de(o,s))return n;if(o.user_id+"@"+o.user_source===e+"@"+t)return n;var i={user_id:e+""};this._exchangeUid(i,(function(){return X.delBlackList(i.user_id,k.covertSourceType(t),(function(){var n=e+"@"+t,o=z.getSession(n);T(o)||T(o.user)||(o.user.is_blacked=0,o.user.update_time=(new Date).getTime()),z.insert([o],(function(){})),r&&r()}),n)}))},isBlacked:function(e,t,r,n){var o=K.get(),s={user_id:e+"",userSource:t};if(de(o,s))return n;var i={user_id:e+""};this._exchangeUid(i,(function(){return X.isBlacked(i.user_id,k.covertSourceType(t),r,n)}))},delSessions:function(e,t,r){var n=this,o={user_ids:e};this._exchangeUid(o,(function(){z.delSessions({sessions:e},(function(){var r,o=y(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;X.deleteRemoteUser({user_id:s.uid,user_source:N(s.source),shop_id:s.shop_id,shop_source:s.shop_source}),n.read(s.uid,s.source,null,{shop_id:s.shop_id,shop_source:s.shop_source})}}catch(i){o.e(i)}finally{o.f()}t&&t()}),r)}))},delAnonymousSessions:function(e,t,r){var n=this,o={user_ids:e};this._exchangeUid(o,(function(){z.delAnonymousSessions({sessions:e},(function(){var r,o=y(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;n.read(s.uid,s.source,null,{shop_id:s.shop_id,shop_source:s.shop_source})}}catch(i){o.e(i)}finally{o.f()}t&&t()}),r)}))},delMsg:function(e,t,r){var n={sender_id:e.sender_id,to_id:e.to_id};this._exchangeUid(n,(function(){var o={sender_id:n.sender_id,sender_source:k.covertSourceType(e.sender_source),msg_id:e.msg_id,to_id:n.to_id,to_source:k.covertSourceType(e.to_source)};Q.delMsg(o,(function(){var e=K.get(),r=o.to_id,n=o.to_source;C({user_source:o.to_source})||o.sender_id+"@"+o.sender_source===e.user_id+"@"+e.user_source||(r=o.sender_id,n=o.sender_source);var s=r+"@"+n;if(P(o)){var i=q(o);i===s?s=o.to_id+"@"+o.to_source+"@@"+i:s+="@@"+i}var u=z.getSession(s);if(J["is_not_sync_page"]?Q.getMsgById(o.msg_id,(function(e){T(e)||Q.setDeletedMsgs([e])})):Q.getMsgByIdFromDb(o.msg_id,(function(e){T(e)||Q.setDeletedMsgs([e])})),u&&u.msg&&u.msg.msg_id&&u.msg.msg_id+""===o.msg_id+""){u.msg.msg_status=2,z.updateSession(s,u);var a=Q.getLastMsg(s);a.msg_status+""!=="2"&&u.msg.msg_id+""===a.msg_id+""&&(a.msg_status=u.msg.msg_status),a._delete_msg_id=u.msg.msg_id,a.forward_msg_show_type=u.msg.forward_msg_show_type,a.content&&a.content.forward_one_by_one&&(a.forward_msg_content=u.msg.content),z.setLastShowMsg(s,a);var c={user_id:r,user_source:k.covertSourceType(n),msg_id:a.msg_id,option:1,count:10};Q.getReplaceMsgRecords(c,(function(e){if(e&&e.length){var t,r=y(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n&&n.replace&&n.replace.msg_id===a.msg_id&&(n.send_time=a.send_time,a=n,a.content.text=a.replace.content.text,z.setLastShowMsg(s,a))}}catch(o){r.e(o)}finally{r.f()}}}),(function(){})),t&&t()}else t&&t()}),r)}))},multipleDelMsgs:function(e,t,r){if(!(T(e)||T(e.messages)||e&&e.messages&&0===e.messages.length)){var n=e.messages||[],o=[],s=this;(0,p.default)(n).call(n,(function(e){var t={sender_id:e.sender_id,to_id:e.to_id};s._exchangeUid(t,(function(){o.push({sender_id:t.sender_id,sender_source:k.covertSourceType(e.sender_source),msg_id:e.msg_id,to_id:t.to_id,to_source:k.covertSourceType(e.to_source)})}))}));var i=[],u=[];(0,p.default)(o).call(o,(function(e){i.push(new f.default((function(t,r){Q.delMsg(e,(function(){u.push(e),t(e)}),(function(){r()}))})))})),f.default.all(i).then((function(){}),(function(){})).then((function(){if((0,d.default)(u).call(u,(function(e,t){return j(e.msg_id,t.msg_id)>0?-1:1})),u.length){var e=[];(0,p.default)(u).call(u,(function(t){J["is_not_sync_page"]?Q.getMsgById(t.msg_id,(function(t){T(t)||e.push(t)})):Q.getMsgByIdFromDb(t.msg_id,(function(t){T(t)||e.push(t)}))})),Q.setDeletedMsgs(e);var n=u[0],o=K.get(),s=n.to_id,i=n.to_source;C({user_source:n.to_source})||n.sender_id+"@"+n.sender_source===o.user_id+"@"+o.user_source||(s=n.sender_id,i=n.sender_source);var a=s+"@"+i;if(P(n)){var c=q(n);c===a?a=n.to_id+"@"+n.to_source+"@@"+c:a+="@@"+c}var f=z.getSession(a);if(!f||!f.msg||!f.msg.msg_id||f.msg.msg_id+""!==n.msg_id+"")return void(t&&t());f.msg.msg_status=2,z.updateSession(a,f);var l=Q.getLastMsg(a);l.msg_status+""!=="2"&&f.msg.msg_id+""===l.msg_id+""&&(l.msg_status=f.msg.msg_status),l._delete_msg_id=f.msg.msg_id,l.forward_msg_show_type=f.msg.forward_msg_show_type,l.content&&l.content.forward_one_by_one&&(l.forward_msg_content=f.msg.content),z.setLastShowMsg(a,l);var _={user_id:s,user_source:k.covertSourceType(i),msg_id:l.msg_id,option:1,count:10};Q.getReplaceMsgRecords(_,(function(e){if(e&&e.length){var t,r=y(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n&&n.replace&&n.replace.msg_id===l.msg_id&&(n.send_time=l.send_time,l=n,l.content.text=l.replace.content.text,z.setLastShowMsg(a,l))}}catch(o){r.e(o)}finally{r.f()}}}),(function(){})),t&&t()}else r&&r()}))}},_delFalseMsg:function(e){e&&!T(e.msgs)&&e.msgs.length&&Q.setDeletedMsgs(e.msgs)},createGroup:function(e,t,r){if(T(e)||T(e.members)||0===e.members.length)return r&&r();var n=_e(e),o=pe(e,"create");if(0===o.length)return r&&r();var s={user_ids:o};this._exchangeUid(s,(function(){var e={user_name:T(n.user_name)?"":n.user_name,avatar:n.avatar,group_info:{member:o,desc:n.desc,auth_type:n.auth_type,auth_modify:n.auth_modify,auth_notice:n.auth_notice,auth_invite:n.auth_invite,invitee_agreement:n.invitee_agreement,invite_cnt:n.invite_cnt,notice:n.notice,group_type:n.group_type,custom_info:n.custom_info}};ee.createGroup(e,t,r)}))},updateGroup:function(e,t,r){if(T(e)||T(e.target_id)||T(e.target_source))return r&&r();var n={target_id:e.target_id};this._exchangeUid(n,(function(){var o={target_id:n.target_id,target_source:k.covertSourceType(e.target_source)},s=!1;R(e,(function(e,t){var r;T(t)||-1===(0,v.default)(r=["user_name","avatar","desc","auth_type","auth_modify","auth_notice","auth_invite","invitee_agreement","invite_cnt","notice","group_type","custom_info"]).call(r,e)||(o[e]="[object Object]"===Object.prototype.toString.call(t)?L.stringify(t):t,s=!0)})),s&&ee.updateGroup(o,t,r)}))},disbandGroup:function(e,t,r){var n=this;if(T(e)||T(e.target_gid)||T(e.target_gsource))return r&&r();var o={target_gid:e.target_gid},s={target_gid:o.target_gid,target_gsource:k.covertSourceType(e.target_gsource)};ee.disbandGroup(s,(function(){t&&t();var e=ee.getGroupInfoFromLocal(s.target_gid,s.target_gsource);T(e)||n.triggerEvent("contactInfoChanged",[e])}),r)},applyJoinGroup:function(e,t,r){if(T(e)||T(e.target_gid)||T(e.target_gsource))return r&&r();var n={target_gid:e.target_gid};this._exchangeUid(n,(function(){var o={target_gid:n.target_gid,target_gsource:k.covertSourceType(e.target_gsource)};ee.applyJoinGroup(o,t,r)}))},inviteJoinGroup:function(e,t,r){if(T(e)||T(e.target_ggid)||T(e.target_gsource)||T(e.target_users)||0===e.target_users.length)return r&&r();var n=[];if(R(e.target_users,(function(e,t){T(t.user_id)||T(t.user_source)||n.push({user_id:t.user_id,user_source:k.covertSourceType(t.user_source)})})),0===n.length)return r&&r();var o={target_ggid:e.target_ggid};this._exchangeUid(o,(function(){var s={target_ggid:o.target_ggid,target_gsource:k.covertSourceType(e.target_gsource),reason:T(e.reason)?"":e.reason,extra:T(e.extra)?"":e.extra,target_users:n};ee.inviteJoinGroup(s,t,r)}))},acceptJoinGroupApply:function(e,t,r){var n={sender_id:e.sender_id,to_id:e.to_id};this._exchangeUid(n,(function(){var o={sender_id:n.sender_id,sender_source:k.covertSourceType(e.sender_source),msg_id:e.msg_id,to_id:n.to_id,to_source:k.covertSourceType(e.to_source)};ee.acceptJoinGroupApply(o,t,r)}))},acceptJoinGroupInvite:function(e,t,r){var n={sender_id:e.sender_id,to_id:e.to_id};this._exchangeUid(n,(function(){var o={sender_id:n.sender_id,sender_source:k.covertSourceType(e.sender_source),msg_id:e.msg_id,to_id:n.to_id,to_source:k.covertSourceType(e.to_source)};ee.acceptJoinGroupInvite(o,t,r)}))},manageGroupMember:function(e,t,r){if(T(e)||T(e.target_gid)||T(e.target_gsource)||T(e.members)||0===e.members.length)return r&&r();var n=pe(e,"update");if(0!==n.length){var o={target_gid:e.target_gid,user_ids:n};this._exchangeUid(o,(function(){var s={target_gid:o.target_gid,target_gsource:k.covertSourceType(e.target_gsource),member:n};ee.manageGroupMember(s,t,r)}))}},quitGroup:function(e,t,r){if(T(e)||T(e.target_gid)||T(e.target_gsource))return r&&r();var n={target_gid:e.target_gid};this._exchangeUid(n,(function(){var o={target_gid:n.target_gid,target_gsource:k.covertSourceType(e.target_gsource)};ee.quitGroup(o,(function(){z.delSessionRemote([{user_id:o.target_gid,user_source:o.target_gsource}]);var e=ee.getGroupInfoFromLocal(o.target_gid,o.target_gsource);if(!T(e)){var r=o.target_gid+"@"+o.target_gsource,n=K.get(),s=n.user_id+"@"+n.user_source,i={};i[r]=null,ee.setGroupInfoToLocal(i),ee.setGroupMemberToLocal(r,null),ee.setGroupMemberUserInfoToLocal(r+"@@"+s,null)}t&&t()}),r)}))},transferGroupOwner:function(e,t,r){if(T(e)||T(e.group_id)||T(e.group_source)||T(e.target_user_id)||T(e.target_user_source))return r&&r();var n={group_id:e.group_id,target_user_id:e.target_user_id};this._exchangeUid(n,(function(){var o={group_id:n.group_id,group_source:k.covertSourceType(e.group_source),target_user_id:n.target_user_id,target_user_source:k.covertSourceType(e.target_user_source)};ee.transferGroupOwner(o,t,r)}))},getGroupMember:function(e,t,r){if(T(e)||T(e.group_id)||T(e.group_source)||T(e.receive_count))return r&&r();var n={group_id:e.group_id,last_member_id:T(e.last_member_id)?null:e.last_member_id};this._exchangeUid(n,(function(){var o={group_id:n.group_id,group_source:k.covertSourceType(e.group_source),old_version:T(e.old_version)?0:e.old_version,receive_count:e.receive_count,last_member_id:T(n.last_member_id)?null:n.last_member_id,last_member_source:T(e.last_member_source)?null:k.covertSourceType(e.last_member_source),count:T(e.count)?null:e.count,clear:e.clear};ee.getGroupMember(o,t,r)}))},getGroupMemberInfo:function(e,t,r){var n=this;if(T(e)||T(e.group_req)||0===e.group_req.length)return r&&r();var o={group_req:e.group_req};this._exchangeUid(o,(function(){R(o.group_req,(function(e,t){t.group_source=k.covertSourceType(t.group_source),R(t.target,(function(e,t){t.user_source=k.covertSourceType(t.user_source)}))})),ee.getGroupMemberById(o,(function(e){var r=e,o=[],s=[];R(r,(function(e,t){var r=e.split("@@")[1];-1===(0,v.default)(s).call(s,r)&&(s.push(r),o.push({user_id:t.user_id,user_source:t.user_source}))})),0!==o.length?n.getContact(o,(function(e){R(r,(function(t,r){var n=t.split("@@")[1],o=t.split("@@")[0];R(e,(function(e,t){if(n===e){var s=r.nick_name;r=A(!0,r,t),r.nick_name=s,T(t.group_id_source)||t.group_id_source!=o||(r.nick_name=t.nick_name||"")}}))})),t&&t(r)})):t&&t(r)}),r)}))},getGroupInfo:function(e,t,r){if(T(e)||T(e.ids)||0===e.ids.length)return r&&r();var n={user_ids:e.ids};this._exchangeUid(n,(function(){var n={ids:e.ids};ee.getGroupInfo(n,t,r)}))},msgSet:function(e,t,r){if(T(e)||T(e.target_id)||T(e.target_source)||T(e.msg_set))return r&&r();var n={target_id:e.target_id};this._exchangeUid(n,(function(){var o={target_id:n.target_id,target_source:k.covertSourceType(e.target_source),msg_set:e.msg_set};X.msgSet(o,(function(){var e=o.target_id+"@"+o.target_source,r=z.getSession(e);if(T(r)||T(r.user)||(r.user.ses_top=o.msg_set.ses_top,r.user.silent=o.msg_set.silent,r.user.update_time=(new Date).getTime()),C({user_source:o.target_source})){var n=ee.getGroupInfoFromLocal(o.target_id,o.target_source);if(!T(n)){n.msg_set=A(!0,n.msg_set,o.msg_set);var s=o.target_id+"@"+o.target_source,i={};i[s]=n,ee.setGroupInfoToLocal(i)}}t&&t()}),r)}))},setSlient:function(e,t,r){if(T(e)||T(e.target_gid)||T(e.target_gsource)||T(e.members)||0===e.members.length)return r&&r();var n=pe(e,"slient");if(0!==n.length){var o={target_gid:e.target_gid};this._exchangeUid(o,(function(){var s={target_gid:o.target_gid,target_gsource:k.covertSourceType(e.target_gsource),member:n};ee.setSlient(s,t,r)}))}},acceptJoinGroup:function(e,t,r){if(T(e)||T(e.target_gid)||T(e.target_gsource)||T(e.invite_id))return r&&r();var n={target_gid:e.target_gid,invite_id:e.invite_id};this._exchangeUid(n,(function(){var o={target_gid:n.target_gid,target_gsource:k.covertSourceType(e.target_gsource),invite_id:n.invite_id};ee.acceptJoinGroup(o,t,r)}))},confirmInvite:function(e,t,r){if(T(e)||T(e.target_gid)||T(e.target_gsource)||T(e.invite_id))return r&&r();var n={target_gid:e.target_gid,invite_id:e.invite_id};this._exchangeUid(n,(function(){var o={target_gid:n.target_gid,target_gsource:k.covertSourceType(e.target_gsource),invite_id:n.invite_id,tip_msg_id:T(e.tip_msg_id)?"":e.tip_msg_id};ee.confirmInvite(o,t,r)}))},getQrcodeId:function(e,t,r){var n=this;if(T(e)||T(e.gid)||T(e.gsource))return r&&r();var o={gid:e.gid};this._exchangeUid(o,(function(){var s=ee.getGroupInfoFromLocal(e.gid,e.gsource),i=ee.getGroupMemberFromLocal(e.gid,e.gsource),u=!T(i)&&!T(i.members)&&i.members.length>0?i.members:[],a=u.length,c=[],f=a>=4?(0,_.default)(u).call(u,0,4):u;(0,d.default)(f).call(f,D);var l=function(){for(var n=0;n<f.length;n++){var i=e.gid+"@"+e.gsource,u=f[n].user_id+"@"+f[n].user_source,a=ee.getGroupMemberUserInfoFromLocal(i,u);if(!T(a)){var l=a.avatar;-1==(0,v.default)(l).call(l,"http")&&(l="https:"+l),c.push(l)}}var d={members_avatar:c,members_name:T(s)||T(s.user_name)?"":s.user_name},_={gid:o.gid,gsource:k.covertSourceType(e.gsource),extra:T(e.extra)?L.stringify(d):e.extra};ee.getQrcodeId(_,t,r)},p=[{group_id:e.gid,group_source:e.gsource,target:f}],g={group_req:p};n.getGroupMemberInfo(g,(function(){l()}),(function(){l()}))}))},getQrcodeInfo:function(e,t,r){if(T(e)||T(e.gid)||T(e.gsource)||T(e.qrcode_id))return r&&r();var n={gid:e.gid};this._exchangeUid(n,(function(){var o={gid:n.gid,gsource:k.covertSourceType(e.gsource),qrcode_id:e.qrcode_id};ee.getQrcodeInfo(o,t,r)}))},call:function(e,t,r){var n={user_id:e.user_id};this._exchangeUid(n,(function(){var o={to_id:n.user_id,to_source:k.covertSourceType(e.user_source),room_id:e.room_id,call_type:e.call_type,extend:e.extend};T(e.shop_id)||T(e.shop_source)||(o.shop_id=e.shop_id,o.shop_source=k.covertSourceType(e.shop_source)),Q.call(o,t,(function(e){r&&r(e)}))}),r)},update_call:function(e,t,r){var n={sender_id:T(e.shop_id)?T(e.sender_id)?"":e.sender_id:e.shop_id,sender_source:T(e.shop_source)?T(e.sender_source)?"":N(e.sender_source):N(e.shop_source),to_id:e.to_id||"",to_source:k.covertSourceType(e.to_source)||"",room_id:e.room_id||"",duration:e.duration||0,end_desc:e.end_desc||"",status:e.status||null,call_type:e.call_type||"",extend:e.extend||""},o={sender_id:n.sender_id,to_id:n.to_id};this._exchangeUid(o,(function(){n.sender_id=o.sender_id,n.to_id=o.to_id,Q.update_call(n,t,(function(e){r&&r(e)}))}),r)},getOthersShowedCount:function(e,t,r){if(T(e)||0==e.length)return r&&r();var n={user_ids:e};this._exchangeUid(n,(function(){Q.getOthersShowedCount(e,t,r)}))},getSpecifySessionList:function(e,t,r){if(T(e)||T(e.sessions)||0===e.sessions.length)return r&&r();var n={user_ids:e.sessions};this._exchangeUid(n,(function(){var n={sessions:e.sessions};z.getSpecifySessionList(n,(function(r){if(!e.isCacha)return t&&t(r);z.insert(r,(function(){t&&t(r)}))}),r)}))},switchAudioVideo:function(e){J["is_show_audio_video"]=e},getSessionUnreadMsgCount:function(e,t,r){Q.getSessionUnreadMsgCount(e,t,r)},updateEvent:function(e,t,r){var n={target_id:e.target_id||"",target_source:e.target_source||"",offline:e.offline||"1",event_type:e.event_type||"runningMode",event_info:e.event_info||{}};Q.update_event(n,t,r)},getUserInfos:function(e,t,r){var n=e.ids;if(T(n)||0==n.length)return r&&r();var o=e.isAsync;X.getUserinfos(n,t,r,o)},setUserRemark:function(e,t,r){var n=e.target_id,o=e.target_source;T(n)||T(o)?r&&r():X.setUserRemark(e,(function(e){t&&t(e),X.getUserinfos([{user_id:n,user_source:o}],(function(e){var t=n+"@"+o;if(!T(e)&&!T(e[t])){var r=e[t];if(!T(r.remark)){var s=z.getSession(t);T(s)||(s.user.update_time=(new Date).getTime(),T(s.msg.sender_info)||(s.msg.sender_info.remark=r.remark),ve[n+"@"+o]=r.remark,z.insert([s]))}}}),(function(){}),!0)}),r)},askContactinfo:function(e,t,r){var n=e.other_user_id,o=e.other_user_source;T(n)||T(o)?r&&r():X.askContactinfo(e,t,r)},provideContactinfo:function(e,t,r){var n=Number(e.other_user_id),o=e.other_user_source;T(n)||T(o)?r&&r():X.provideContactinfo(e,t,r)},glanceContactinfo:function(e,t,r){var n=e.other_user_id,o=e.other_user_source;T(n)||T(o)?r&&r():X.glanceContactinfo(e,t,r)},getSelfContactinfo:function(e,t,r){X.getSelfContactinfo(e,t,r)},getForwardMsg:function(e,t,r){if(T(e)||T(e.forward_msg_id)||T(e.forward_sender_id)||T(e.forward_sender_source)||T(e.forward_to_id)||T(e.forward_to_source)||T(e.msgs)||0==e.msgs.length)return r&&r();var n={forward_msg_id:e.forward_msg_id,forward_sender_id:e.forward_sender_id,forward_sender_source:k.covertSourceType(e.forward_sender_source),forward_to_id:e.forward_to_id,forward_to_source:k.covertSourceType(e.forward_to_source),msgs:e.msgs};Q.getForwardMsg(n,t,r)},collection:function(e,t,r){if(T(e)||T(e.size)||T(e.other_id)||T(e.msgs)||0==e.msgs.length)return r&&r();var n={size:e.size,msgs:e.msgs,other_id:e.other_id,shop_id:e.shop_id};Q.collection(n,t,r)},delCollection:function(e,t,r){if(T(e.collect_ids)||0==e.collect_ids.length)return r&&r();var n={collect_ids:e.collect_ids};Q.delCollection(n,t,r)},getCollection:function(e,t,r){var n={last_collect_id:e.last_collect_id,count:e.count,type:e.type};Q.getCollection(n,(function(e){var r=!0;e.collections&&50!==e.collections.length&&(r=!1),t&&t(e,r)}),r)},addNoticeTask:function(e,t,r){if(T(e.run_time)||T(e.to_users)||0==e.to_users.length||T(e.msgs)||0==e.msgs.length)return r&&r();X.addNoticeTask(e,t,r)},updateNoticeTask:function(e,t,r){if(T(e.notice_id)||T(e.run_time)||T(e.to_users)||0==e.to_users.length||T(e.msgs)||0==e.msgs.length)return r&&r();X.updateNoticeTask(e,t,r)},getNoticeTaskBatch:function(e,t,r){X.getNoticeTaskBatch(e,t,r)},mergeUser:function(e,t,r){if(T(e.target_user_id)||T(e.target_user_source))return r&&r();X.mergeUser(e,t,r)}})},"0BK2":function(e,t){e.exports={}},"0Dky":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"0GbY":function(e,t,r){var n=r("Qo9l"),o=r("2oRo"),s=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?s(n[e])||s(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},"0axM":function(e,t){},"0eef":function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!n.call({1:2},1);t.f=s?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},"0lTi":function(e,t,r){e.exports=r("J9Gg")},"0rV4":function(e,t,r){var n=r("G9WS"),o=n(r("ZbhI")),s=["user_ids","user_id","to_id","sender_id","uid","target_id","target_gid","target_ggid","group_id","target_user_id","last_member_id","gid","invite_id","other_id"],i=r("Uwh9"),u=i.jsonHandler,a=function(){};a.prototype.checkUid=function(e){var t="string"===typeof e?e:u.stringify(e),r={ebuidKey:"",isHaveEbuid:!1};if(-1===(0,o.default)(t).call(t,"EP:"))return r;for(var n=0;n<s.length;n++)if(-1!==(0,o.default)(t).call(t,s[n])){r.ebuidKey=s[n],r.isHaveEbuid=!0;break}return r},e.exports=new a},"0rvr":function(e,t,r){var n=r("glrk"),o=r("O741");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(r,[]),t=r instanceof Array}catch(s){}return function(r,s){return n(r),o(s),t?e.call(r,s):r.__proto__=s,r}}():void 0)},"14Sl":function(e,t,r){"use strict";r("rB9j");var n=r("busE"),o=r("0Dky"),s=r("tiKp"),i=r("kmMV"),u=r("kRJp"),a=s("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){return"$0"==="a".replace(/./,"$0")}(),l=s("replace"),d=function(){return!!/./[l]&&""===/./[l]("a","$0")}(),_=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,l){var p=s(e),g=!o((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),h=g&&!o((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[a]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!g||!h||"replace"===e&&(!c||!f||d)||"split"===e&&!_){var m=/./[p],v=r(p,""[e],(function(e,t,r,n,o){return t.exec===i?g&&!o?{done:!0,value:m.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),y=v[0],b=v[1];n(String.prototype,e,y),n(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}l&&u(RegExp.prototype[p],"sham",!0)}},"1E5z":function(e,t,r){var n=r("m/L8").f,o=r("UTVS"),s=r("tiKp"),i=s("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},"1Fqx":function(e,t,r){var n=r("G9WS"),o=n(r("Kwsy")),s=function(e){e=e||{},e.duration=e.duration||2e3,e.onElapsed=e.onElapsed||function(){},this._timer=null,this._options=e};s.prototype.setDuration=function(e){this._options.duration=e},s.prototype.start=function(){if(!this._timer){var e=this;(function t(){e._options.onElapsed((function(){e._timer=(0,o.default)((function(){t()}),e._options.duration)}))})()}},s.prototype.stop=function(){clearTimeout(this._timer),this._timer=null},s.prototype.restart=function(){this.stop(),this.start()},e.exports=s},"1jut":function(e,t,r){var n=r("A2Ma"),o=n("toStringTag"),s={};s[o]="z",e.exports="[object z]"===String(s)},"1l3Y":function(e,t,r){r("ApMD"),r("+16d"),r("4sNH");var n=r("dktu");e.exports=n.URL},"1lkh":function(e,t,r){var n=r("cEKj"),o=r("doUz");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"1mbr":function(e,t,r){var n=r("AnMC");e.exports=function(e,t,r,o){o&&o.enumerable?e[t]=r:n(e,t,r)}},"2SXh":function(e,t,r){var n=r("pevS"),o=r("wbIY"),s=r("SJYm");n({target:"Object",stat:!0,sham:!o},{create:s})},"2fOL":function(e,t,r){var n=r("b42z"),o=r("C3ug");e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},"2oRo":function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r("yLpj"))},"2uPm":function(e,t,r){var n=r("R9qo");e.exports=n},"33Wh":function(e,t,r){var n=r("yoRg"),o=r("eDl+");e.exports=Object.keys||function(e){return n(e,o)}},"382w":function(e,t,r){var n=r("G9WS");r("sMBO"),r("rB9j"),r("UxlC");var o=n(r("ZbhI")),s=n(r("M5Mt")),i=r("80UC"),u=r("Uwh9"),a=u.inherits,c=u.fnEmpty,f=u.jsonHandler,l=u.extend,d=r("xzMW"),_=r("QbSn"),p=r("1Fqx"),g={},h=null,m=r("kXmp").syn,v=r("b0FF"),y=u.strToNumCompare;e.exports=a(i,{constructor:function(){i.call(this);var e=this;e._heartBeatTimer=new p({onElapsed:function(t){var r=(new Date).getTime(),n=_.get(),o=n.user_id+"@"+n.user_source;!g[o]||r-g[o]>2e4?(e.reconnect(),g[o]=null,t()):t()},duration:2e3})},handleComet:function(e,t,r){var n,i=this;switch(e.valueType){case"message":i._options.ack(e,(function(r){var n=d.msgReceived,u=e.value;if(r);else{for(var a=null,c=[],p=u.length,g=p-1;g>=0;g--){var h=u[g];if("1"!=h.offline_flag||h.read_time+""==="0"){if(h.options&&h.options.replace){var m=h.content;"string"==typeof h.options.replace&&(m=f.parse(h.options.replace));_.get();var b="string"==typeof m.content?f.parse(m.content):m.content;c.push({at_index:h.at_index,at_msg_id:h.at_msg_id,msg_id:h.msg_id,msg_index:h.msg_index,msg_type:h.msg_type,sender_id:h.sender_id,sender_source:h.sender_source,send_time:h.send_time,show_type:m.show_type,to_id:h.to_id,to_source:h.to_source,showed_count:h.showed_count,content:b,replace:l(!0,m,{content:b})}),(0,s.default)(u).call(u,g,1)}if("1"==h.offline_flag&&"command"===h.show_type&&"USERMERGE"===h.content.name){var w=h.content.data.target,x=_.getMergeAnonymousLoginInfo(),S=x&&x.user_id+"@@"+x.user_source;if(w!==S)continue;0==h.read_time&&(!a||y(h.msg_id,a.msg_id)>0)&&(a={msg_id:h.msg_id,msg_type:h.msg_type,content:h.content.data,sender_id:h.sender_id,sender_source:h.sender_source,show_type:h.show_type,to_id:h.to_id,to_source:h.to_source},(0,s.default)(u).call(u,g,1))}}}if(c.length>0){var k="replaceMsgReceived";i.triggerEvent(d.cmdmsgReceived,k,c)}if(a){k="userMerge";i.triggerEvent(d.cmdmsgReceived,k,[a])}}if(u.length>0&&n==d.msgReceived){var M=[],E=[];v["is_support_provide_contactinfo"]||(E.push("default_contactinfo_card"),E.push("provide_contactinfo_card")),v["is_support_forward"]||E.push("msg_batch_forward_card");for(g=0;g<u.length;g++)u[g]&&"1"==u[g].offline_flag&&u[g].read_time+""!=="0"||u[g]&&u[g].content&&(0,o.default)(E).call(E,u[g].content.type)>=0||M.push(u[g]);i.triggerEvent(n,M)}t&&t()}),(function(){i.onDisconnect({error_msg:"ack fail.token expired."}),r&&r()}));break;case"command":var u=e.value[0].name;switch(u){case"FORCEOFF":i.onDisconnect({error_msg:"FORCEOFF"}),i.storeForceOff();break;case"SYNCUSERDATA":i.reconnect();break;case"TOKENEXPIRED":i.onDisconnect({error_msg:"TOKENEXPIRED"}),i.onLogout("TOKENEXPIRED");break;case"TOKENINVALID":i.onDisconnect({error_msg:"TOKENINVALID"}),i.onLogout("TOKENINVALID");break;default:break}break;case"commandmsg":i._options.ack(e,(function(){for(var r=[],n=[],s=[],u=0,a=e.value.length;u<a;u++){var c=e.value[u];if("1"!=c.offline_flag||c.read_time+""==="0"){var l;l="string"==typeof c.content?f.parse(c.content):c.content;var p=["MODIFYMSG","OUTGROUPNOTICE","OTHER_READ_UPDATE","UNREADUPDATE","GROUPOPERATION","USEROPERATION","ORDERINFO","VRCHAT","USERMERGE"];if(v["is_show_audio_video"]&&"1"!=c.offline_flag&&p.push("CALL"),-1!==(0,o.default)(p).call(p,l.name)){var g="";switch(l.name){case"MODIFYMSG":r.push({at_index:c.at_index,at_msg_id:c.at_msg_id,msg_id:c.msg_id,msg_type:c.msg_type,sender_id:l.data.sender_id,sender_source:l.data.sender_source,send_time:c.send_time,origin_sender_id:c.sender_id,origin_sender_source:c.sender_source,show_type:l.data.replace.show_type,to_id:l.data.to_id,to_source:l.data.to_source,content:l.data.replace.content,replace:l.data.replace}),g="replaceMsgReceived";break;case"CALL":g="call_"+l.data.call_type;r.push({msg_id:c.msg_id,msg_type:c.msg_type,send_time:c.send_time,sender_id:l.data.sender_id,sender_source:l.data.sender_source,show_type:g,to_id:l.data.to_id,to_source:l.data.to_source,kf_id:l.data.kf_id,kf_source:l.data.kf_source,content:{type:g,room_id:l.data.room_id,extend:l.data.extend}}),g="callMsgReceived";break;case"OUTGROUPNOTICE":var h;if(l.data.type&&1==l.data.type)h=l.data.text;else{var m=_.get(),y=m.user_id+"@"+m.user_source;y==c.to_id+"@"+c.to_source&&(h=l.data.op_name?"你已被"+l.data.op_name+"踢出群":"你已被踢出群")}var b=[{msg_id:c.msg_id,msg_type:c.msg_type,send_time:c.send_time,sender_id:l.data.g_id,sender_source:l.data.g_source,show_type:"tip",to_id:c.to_id,to_source:c.to_source,content:{type:"tip",text:h}}];i.triggerEvent(d.msgReceived,b);break;case"OTHER_READ_UPDATE":r.push({msg_id:c.msg_id,msg_type:c.msg_type,other_data:l.data,sender_id:c.sender_id,sender_source:c.sender_source,show_type:c.show_type,to_id:c.to_id,to_source:c.to_source}),g="otherReadUpdate";break;case"UNREADUPDATE":r.push({msg_id:c.msg_id,msg_type:c.msg_type,content:l.data,sender_id:c.sender_id,sender_source:c.sender_source,show_type:c.show_type,to_id:c.to_id,to_source:c.to_source}),g="unreadUpdate";break;case"GROUPOPERATION":r.push({msg_id:c.msg_id,msg_type:c.msg_type,content:l.data,sender_id:c.sender_id,sender_source:c.sender_source,show_type:c.show_type,to_id:c.to_id,to_source:c.to_source}),g="groupOperation";break;case"USEROPERATION":r.push({msg_id:c.msg_id,msg_type:c.msg_type,content:l.data,sender_id:c.sender_id,sender_source:c.sender_source,show_type:c.show_type,to_id:c.to_id,to_source:c.to_source}),g="userOperation";break;case"USERMERGE":var w=c.content.data.target,x=_.getMergeAnonymousLoginInfo(),S=x&&x.user_id+"@@"+x.user_source;("1"==c.offline_flag&&0==c.read_time&&w===S||"1"!=c.offline_flag)&&r.push({msg_id:c.msg_id,msg_type:c.msg_type,content:l.data,sender_id:c.sender_id,sender_source:c.sender_source,show_type:c.show_type,to_id:c.to_id,to_source:c.to_source}),g="userMerge";break;case"ORDERINFO":n.push({content:l.data});break;case"VRCHAT":s.push({content:l.data});break;default:break}}}}r.length>0&&i.triggerEvent(d.cmdmsgReceived,g,r),n.length>0&&i.triggerEvent(d.vrorderInfoReceived,n),s.length>0&&i.triggerEvent(d.vrchatInfoReceived,s),t&&t()}),(function(){i.onDisconnect({error_msg:"ack fail.token expired."}),r&&r()}));break;case"userdata":g[c]=(new Date).getTime(),"WebSocket"in window&&-1!=(0,o.default)(n=i._url).call(n,"wss")||i.reconnect();break;case"heartBeat":i.triggerEvent(d.heartBeat,e);var a=_.get(),c=a.user_id+"@"+a.user_source,p=!g[c];if(g[c]=(new Date).getTime(),p?(h=c,i._heartBeatTimer.restart(),i._isForceOff=!1):i._heartBeatTimer._timer||c!==h||i._isForceOff||i._heartBeatTimer.restart(),i._isconnected||(i._isconnected=!0,i.triggerEvent(d.connectchange,!0)),i._isForceOff){var b={name:"comet",value:{heartStamp:g[c],isForceOff:!1}};m.set(b,(function(){i._heartStamp=g[c],i._isForceOff=!1}),(function(){})),i._setHeartTimer.start(),i._heartBeatTimer.restart()}break;default:break}},reconnect:c,storeForceOff:c,clearAll:c,init:function(e,t){this._url=e,this._commonParams=t}})},"39uu":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},"3bBZ":function(e,t,r){var n=r("2oRo"),o=r("/byt"),s=r("4mDm"),i=r("kRJp"),u=r("tiKp"),a=u("iterator"),c=u("toStringTag"),f=s.values;for(var l in o){var d=n[l],_=d&&d.prototype;if(_){if(_[a]!==f)try{i(_,a,f)}catch(g){_[a]=f}if(_[c]||i(_,c,l),o[l])for(var p in s)if(_[p]!==s[p])try{i(_,p,s[p])}catch(g){_[p]=s[p]}}}},"3uAa":function(e,t,r){var n=r("ZBQp"),o=r("Y4yM"),s=r("T/97"),i=r("ZyXh"),u=r("Q0Rw"),a=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,f=4==e,l=6==e,d=7==e,_=5==e||l;return function(p,g,h,m){for(var v,y,b=s(p),w=o(b),x=n(g,h,3),S=i(w.length),k=0,M=m||u,E=t?M(p,S):r||d?M(p,0):void 0;S>k;k++)if((_||k in w)&&(v=w[k],y=x(v,k,b),e))if(t)E[k]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return k;case 2:a.call(E,v)}else switch(e){case 4:return!1;case 7:a.call(E,v)}return l?-1:c||f?f:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},"42Pb":function(e,t,r){var n=r("m/sp");n("asyncIterator")},"4Brf":function(e,t,r){"use strict";var n=r("I+eb"),o=r("g6v/"),s=r("2oRo"),i=r("UTVS"),u=r("hh1v"),a=r("m/L8").f,c=r("6JNq"),f=s.Symbol;if(o&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new f(e):void 0===e?f():f(e);return""===e&&(l[t]=!0),t};c(d,f);var _=d.prototype=f.prototype;_.constructor=d;var p=_.toString,g="Symbol(test)"==String(f("test")),h=/^Symbol\((.*)\)[^)]+$/;a(_,"description",{configurable:!0,get:function(){var e=u(this)?this.valueOf():this,t=p.call(e);if(i(l,e))return"";var r=g?t.slice(7,-1):t.replace(h,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:d})}},"4WOD":function(e,t,r){var n=r("UTVS"),o=r("ewvW"),s=r("93I0"),i=r("4Xet"),u=s("IE_PROTO"),a=Object.prototype;e.exports=i?Object.getPrototypeOf:function(e){return e=o(e),n(e,u)?e[u]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},"4Xet":function(e,t,r){var n=r("0Dky");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"4dMV":function(e,t){var r={rd:{uploadimg:"https://upload.58cdn.com.cn/json",comet:"https://imgettest.58dns.org:18899/v3/recvmsg",ws:"wss://imgettest.58dns.org:18899/websocket",api:"https://imrdtest.58v5.cn",account:"https://weiliaodemotest.58v5.cn/",report:"https://imtest.outer.58v5.cn"},qa:{uploadimg:"https://upload.58cdn.com.cn/json",comet:"https://imgetqa.58dns.org:18899/v3/recvmsg",ws:"wss://imgetqa.58dns.org:18899/websocket",api:"https://imtest.58v5.cn",account:"https://weiliaodemotest.58v5.cn/",report:"https://imtest.58v5.cn"},integrate:{uploadimg:"https://upload.58cdn.com.cn/json",comet:"https://integrateimgets.58.com:1443/v3/recvmsg",ws:"wss://integrateimgets.58.com/websocket",api:"https://integrateim.58.com",account:"http://weiliao.demo.58v5.cn/",call:"https://videochat.58.com",wsCall:"wss://collider1.58.com",report:"https://integrateim.58.com"},online:{uploadimg:"https://upload.58cdn.com.cn/json",comet:"https://imgets.58.com/v3/recvmsg",ws:"wss://imgets.58.com/websocket",api:"https://im.58.com",account:"http://weiliao.demo.58v5.cn/",call:"https://chatonline.58.com",wsCall:"wss://collideronline.58.com",report:"https://im.58.com"}};e.exports=r},"4hld":function(e,t,r){var n=r("pevS"),o=r("7gcH");n({global:!0,forced:parseFloat!=o},{parseFloat:o})},"4mDm":function(e,t,r){"use strict";var n=r("/GqU"),o=r("RNIs"),s=r("P4y1"),i=r("afO8"),u=r("fdAy"),a="Array Iterator",c=i.set,f=i.getterFor(a);e.exports=u(Array,"Array",(function(e,t){c(this,{type:a,target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},"4sNH":function(e,t,r){"use strict";r("kQON");var n=r("pevS"),o=r("mIMY"),s=r("xWeK"),i=r("1mbr"),u=r("Cupc"),a=r("KHTo"),c=r("9XUY"),f=r("L1rz"),l=r("X32N"),d=r("eOcF"),_=r("ZBQp"),p=r("j5XY"),g=r("b42z"),h=r("39uu"),m=r("SJYm"),v=r("LGyv"),y=r("2fOL"),b=r("C3ug"),w=r("A2Ma"),x=o("fetch"),S=o("Headers"),k=w("iterator"),M="URLSearchParams",E=M+"Iterator",A=f.set,I=f.getterFor(M),O=f.getterFor(E),T=/\+/g,U=Array(4),R=function(e){return U[e-1]||(U[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},L=function(e){try{return decodeURIComponent(e)}catch(t){return e}},j=function(e){var t=e.replace(T," "),r=4;try{return decodeURIComponent(t)}catch(n){while(r)t=t.replace(R(r--),L);return t}},C=/[!'()~]|%20/g,P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(e){return P[e]},B=function(e){return encodeURIComponent(e).replace(C,F)},D=function(e,t){if(t){var r,n,o=t.split("&"),s=0;while(s<o.length)r=o[s++],r.length&&(n=r.split("="),e.push({key:j(n.shift()),value:j(n.join("="))}))}},N=function(e){this.entries.length=0,D(this.entries,e)},G=function(e,t){if(e<t)throw TypeError("Not enough arguments")},W=c((function(e,t){A(this,{type:E,iterator:y(I(e).entries),kind:t})}),"Iterator",(function(){var e=O(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),q=function(){l(this,q,M);var e,t,r,n,o,s,i,u,a,c=arguments.length>0?arguments[0]:void 0,f=this,_=[];if(A(f,{type:M,entries:_,updateURL:function(){},updateSearchParams:N}),void 0!==c)if(h(c))if(e=b(c),"function"===typeof e){t=e.call(c),r=t.next;while(!(n=r.call(t)).done){if(o=y(g(n.value)),s=o.next,(i=s.call(o)).done||(u=s.call(o)).done||!s.call(o).done)throw TypeError("Expected sequence with length 2");_.push({key:i.value+"",value:u.value+""})}}else for(a in c)d(c,a)&&_.push({key:a,value:c[a]+""});else D(_,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},H=q.prototype;u(H,{append:function(e,t){G(arguments.length,2);var r=I(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){G(arguments.length,1);var t=I(this),r=t.entries,n=e+"",o=0;while(o<r.length)r[o].key===n?r.splice(o,1):o++;t.updateURL()},get:function(e){G(arguments.length,1);for(var t=I(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){G(arguments.length,1);for(var t=I(this).entries,r=e+"",n=[],o=0;o<t.length;o++)t[o].key===r&&n.push(t[o].value);return n},has:function(e){G(arguments.length,1);var t=I(this).entries,r=e+"",n=0;while(n<t.length)if(t[n++].key===r)return!0;return!1},set:function(e,t){G(arguments.length,1);for(var r,n=I(this),o=n.entries,s=!1,i=e+"",u=t+"",a=0;a<o.length;a++)r=o[a],r.key===i&&(s?o.splice(a--,1):(s=!0,r.value=u));s||o.push({key:i,value:u}),n.updateURL()},sort:function(){var e,t,r,n=I(this),o=n.entries,s=o.slice();for(o.length=0,r=0;r<s.length;r++){for(e=s[r],t=0;t<r;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===r&&o.push(e)}n.updateURL()},forEach:function(e){var t,r=I(this).entries,n=_(e,arguments.length>1?arguments[1]:void 0,3),o=0;while(o<r.length)t=r[o++],n(t.value,t.key,this)},keys:function(){return new W(this,"keys")},values:function(){return new W(this,"values")},entries:function(){return new W(this,"entries")}},{enumerable:!0}),i(H,k,H.entries),i(H,"toString",(function(){var e,t=I(this).entries,r=[],n=0;while(n<t.length)e=t[n++],r.push(B(e.key)+"="+B(e.value));return r.join("&")}),{enumerable:!0}),a(q,M),n({global:!0,forced:!s},{URLSearchParams:q}),s||"function"!=typeof x||"function"!=typeof S||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,o=[e];return arguments.length>1&&(t=arguments[1],h(t)&&(r=t.body,p(r)===M&&(n=t.headers?new S(t.headers):new S,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=m(t,{body:v(0,String(r)),headers:v(0,n)}))),o.push(t)),x.apply(this,o)}}),e.exports={URLSearchParams:q,getState:I}},"4syw":function(e,t,r){var n=r("busE");e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},"4zJj":function(e,t,r){var n=r("ks2j"),o=Array.prototype;e.exports=function(e){var t=e.slice;return e===o||e instanceof Array&&t===o.slice?n:t}},"5/F9":function(e,t,r){"use strict";var n=2147483647,o=36,s=1,i=26,u=38,a=700,c=72,f=128,l="-",d=/[^\0-\u007E]/,_=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",g=o-s,h=Math.floor,m=String.fromCharCode,v=function(e){var t=[],r=0,n=e.length;while(r<n){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&o)<<10)+(1023&s)+65536):(t.push(o),r--)}else t.push(o)}return t},y=function(e){return e+22+75*(e<26)},b=function(e,t,r){var n=0;for(e=r?h(e/a):e>>1,e+=h(e/t);e>g*i>>1;n+=o)e=h(e/g);return h(n+(g+1)*e/(e+u))},w=function(e){var t=[];e=v(e);var r,u,a=e.length,d=f,_=0,g=c;for(r=0;r<e.length;r++)u=e[r],u<128&&t.push(m(u));var w=t.length,x=w;w&&t.push(l);while(x<a){var S=n;for(r=0;r<e.length;r++)u=e[r],u>=d&&u<S&&(S=u);var k=x+1;if(S-d>h((n-_)/k))throw RangeError(p);for(_+=(S-d)*k,d=S,r=0;r<e.length;r++){if(u=e[r],u<d&&++_>n)throw RangeError(p);if(u==d){for(var M=_,E=o;;E+=o){var A=E<=g?s:E>=g+i?i:E-g;if(M<A)break;var I=M-A,O=o-A;t.push(m(y(A+I%O))),M=h(I/O)}t.push(m(y(M))),g=b(_,k,x==w),_=0,++x}}++_,++d}return t.join("")};e.exports=function(e){var t,r,n=[],o=e.toLowerCase().replace(_,".").split(".");for(t=0;t<o.length;t++)r=o[t],n.push(d.test(r)?"xn--"+w(r):r);return n.join(".")}},"526F":function(e,t,r){e.exports=r("kE3c")},"58wy":function(e,t,r){var n=r("m/sp");n("matchAll")},"5PDf":function(e,t,r){e.exports=r("YG62")},"5RnW":function(e,t,r){var n=r("pevS"),o=r("YiBS");n({target:"Array",stat:!0},{isArray:o})},"5Tg+":function(e,t,r){var n=r("tiKp");t.f=n},"5jX9":function(e,t,r){var n=r("9HS+"),o=Array.prototype;e.exports=function(e){var t=e.splice;return e===o||e instanceof Array&&t===o.splice?n:t}},"5mdu":function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},"5pn2":function(e,t,r){var n=r("m/sp");n("match")},"5s+n":function(e,t,r){"use strict";var n,o,s,i,u=r("I+eb"),a=r("xDBR"),c=r("2oRo"),f=r("0GbY"),l=r("/qmn"),d=r("busE"),_=r("4syw"),p=r("1E5z"),g=r("JiZb"),h=r("hh1v"),m=r("HAuM"),v=r("GarU"),y=r("iSVu"),b=r("ImZN"),w=r("HH4o"),x=r("SEBh"),S=r("LPSS").set,k=r("tXUg"),M=r("zfnd"),E=r("RN6c"),A=r("8GlL"),I=r("5mdu"),O=r("afO8"),T=r("lMq5"),U=r("tiKp"),R=r("YF1G"),L=r("LQDL"),j=U("species"),C="Promise",P=O.get,F=O.set,B=O.getterFor(C),D=l,N=c.TypeError,G=c.document,W=c.process,q=f("fetch"),H=A.f,Y=H,J=!!(G&&G.createEvent&&c.dispatchEvent),K="function"==typeof PromiseRejectionEvent,V="unhandledrejection",X="rejectionhandled",z=0,Q=1,Z=2,$=1,ee=2,te=T(C,(function(){var e=y(D)!==String(D);if(!e){if(66===L)return!0;if(!R&&!K)return!0}if(a&&!D.prototype["finally"])return!0;if(L>=51&&/native code/.test(D))return!1;var t=D.resolve(1),r=function(e){e((function(){}),(function(){}))},n=t.constructor={};return n[j]=r,!(t.then((function(){}))instanceof r)})),re=te||!w((function(e){D.all(e)["catch"]((function(){}))})),ne=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},oe=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;k((function(){var n=e.value,o=e.state==Q,s=0;while(r.length>s){var i,u,a,c=r[s++],f=o?c.ok:c.fail,l=c.resolve,d=c.reject,_=c.domain;try{f?(o||(e.rejection===ee&&ae(e),e.rejection=$),!0===f?i=n:(_&&_.enter(),i=f(n),_&&(_.exit(),a=!0)),i===c.promise?d(N("Promise-chain cycle")):(u=ne(i))?u.call(i,l,d):l(i)):d(n)}catch(p){_&&!a&&_.exit(),d(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},se=function(e,t,r){var n,o;J?(n=G.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!K&&(o=c["on"+e])?o(n):e===V&&E("Unhandled promise rejection",r)},ie=function(e){S.call(c,(function(){var t,r=e.facade,n=e.value,o=ue(e);if(o&&(t=I((function(){R?W.emit("unhandledRejection",n,r):se(V,r,n)})),e.rejection=R||ue(e)?ee:$,t.error))throw t.value}))},ue=function(e){return e.rejection!==$&&!e.parent},ae=function(e){S.call(c,(function(){var t=e.facade;R?W.emit("rejectionHandled",t):se(X,t,e.value)}))},ce=function(e,t,r){return function(n){e(t,n,r)}},fe=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=Z,oe(e,!0))},le=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw N("Promise can't be resolved itself");var n=ne(t);n?k((function(){var r={done:!1};try{n.call(t,ce(le,r,e),ce(fe,r,e))}catch(o){fe(r,o,e)}})):(e.value=t,e.state=Q,oe(e,!1))}catch(o){fe({done:!1},o,e)}}};te&&(D=function(e){v(this,D,C),m(e),n.call(this);var t=P(this);try{e(ce(le,t),ce(fe,t))}catch(r){fe(t,r)}},n=function(e){F(this,{type:C,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:z,value:void 0})},n.prototype=_(D.prototype,{then:function(e,t){var r=B(this),n=H(x(this,D));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=R?W.domain:void 0,r.parent=!0,r.reactions.push(n),r.state!=z&&oe(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n,t=P(e);this.promise=e,this.resolve=ce(le,t),this.reject=ce(fe,t)},A.f=H=function(e){return e===D||e===s?new o(e):Y(e)},a||"function"!=typeof l||(i=l.prototype.then,d(l.prototype,"then",(function(e,t){var r=this;return new D((function(e,t){i.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof q&&u({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return M(D,q.apply(c,arguments))}}))),u({global:!0,wrap:!0,forced:te},{Promise:D}),p(D,C,!1,!0),g(C),s=f(C),u({target:C,stat:!0,forced:te},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),u({target:C,stat:!0,forced:a||te},{resolve:function(e){return M(a&&this===s?D:this,e)}}),u({target:C,stat:!0,forced:re},{all:function(e){var t=this,r=H(t),n=r.resolve,o=r.reject,s=I((function(){var r=m(t.resolve),s=[],i=0,u=1;b(e,(function(e){var a=i++,c=!1;s.push(void 0),u++,r.call(t,e).then((function(e){c||(c=!0,s[a]=e,--u||n(s))}),o)})),--u||n(s)}));return s.error&&o(s.value),r.promise},race:function(e){var t=this,r=H(t),n=r.reject,o=I((function(){var o=m(t.resolve);b(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},"6JNq":function(e,t,r){var n=r("UTVS"),o=r("Vu81"),s=r("Bs8V"),i=r("m/L8");e.exports=function(e,t){for(var r=o(t),u=i.f,a=s.f,c=0;c<r.length;c++){var f=r[c];n(e,f)||u(e,f,a(t,f))}}},"6Jnn":function(e,t,r){var n=r("doUz"),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},"6LWA":function(e,t,r){var n=r("xrYK");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"6UaR":function(e,t,r){e.exports=r("qpuQ")},"6VoE":function(e,t,r){var n=r("tiKp"),o=r("P4y1"),s=n("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[s]===e)}},"6dl6":function(e,t,r){"use strict";var n=r("zJQS"),o=r("39uu"),s=[].slice,i={},u=function(e,t,r){if(!(t in i)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";i[t]=Function("C,a","return new C("+n.join(",")+")")}return i[t](e,r)};e.exports=Function.bind||function(e){var t=n(this),r=s.call(arguments,1),i=function(){var n=r.concat(s.call(arguments));return this instanceof i?u(t,n.length,n):t.apply(e,n)};return o(t.prototype)&&(i.prototype=t.prototype),i}},"7GIe":function(e,t,r){var n=r("b42z"),o=r("L5f0");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(r,[]),t=r instanceof Array}catch(s){}return function(r,s){return n(r),o(s),t?e.call(r,s):r.__proto__=s,r}}():void 0)},"7Gle":function(e,t,r){e.exports=r("/Gw5")},"7b0v":function(e,t,r){var n=r("mIMY");e.exports=n("document","documentElement")},"7gcH":function(e,t,r){var n=r("OsYe"),o=r("/5b1").trim,s=r("gfA+"),i=n.parseFloat,u=1/i(s+"-0")!==-1/0;e.exports=u?function(e){var t=o(String(e)),r=i(t);return 0===r&&"-"==t.charAt(0)?-0:r}:i},"7wkN":function(e,t,r){var n=r("m/sp");n("toStringTag")},"80UC":function(e,t,r){var n=r("G9WS");r("sMBO");var o=n(r("UtpJ")),s=n(r("M5Mt")),i=function(){this._events={}};i.prototype={addEventListener:function(e,t){var r=this._events[e];if(null!=r){for(var n=!1,o=0;o<r.length;o++)if(r[o]==t){n=!0;break}0==n&&r.push(t)}else r=new Array,r.push(t);this._events[e]=r},listen:function(e,t){this.addEventListener(e,t)},removeEventListener:function(e,t){var r=this._events[e];if(null!=r)for(var n=0;n<r.length;n++)if(r[n]==t||"string"===typeof t.name&&t.name.length&&r[n].name==t.name){(0,s.default)(r).call(r,n,1);break}},remove:function(e,t){this.removeEventListener(e,t)},triggerEvent:function(e){var t=this._events[e];if(null!=t)for(var r=0;r<t.length;r++){var n=t[r];null!=n&&n.apply(null,(0,o.default)(Array.prototype).call(arguments,1))}}},e.exports=i},"81Rs":function(e,t,r){var n=r("OsYe");e.exports=n.Promise},"85q9":function(e,t,r){var n=r("G9WS");r("sMBO");var o=n(r("Kwsy")),s=n(r("UtpJ")),i=r("uxZ0"),u=r("Uwh9"),a=r("tMi5"),c=u.fnEmpty,f=u.inherits,l=u.each,d=u.extend,_=a.isGroupUser,p=a.isShopModeUser,g=u.isEmpty,h=r("1Fqx"),m=r("xzMW"),v=r("eAFf"),y=(r("QbSn"),r("kXmp").syn),b=r("mNsz"),w={},x=50,S=12e5,k=50,M={},E=3e4,A={};e.exports=f(i,{constructor:function(e){i.call(this);var t={getLoadedUsers:function(e){e([])}};d(t,e),this._options=t,this._onlineTimer=null,function(e){e._onlineTimer=new h({onElapsed:function(t){e._options.getLoadedUsers((function(r){var n=(0,s.default)(r).call(r,0,x);if(0===n.length)return e._onlineTimer.setDuration(1e4),t();e.getUsersOnlineInfo(n,(function(r){e._onlineTimer.setDuration(S),t()}),(function(r){e._onlineTimer.setDuration(S),t()}))}))},duration:S})}(this)},_setOnlineStatus:function(e,t,r){var n=e+"@"+t;M[n]=(new Date).getTime(),w[n]!==r&&(w[n]=r,this.triggerEvent(m.contactOnlineStatusChanged,{user_id:e,user_source:t,is_online:r}))},start:c,stop:function(){this._onlineTimer&&this._onlineTimer.stop()},startOnlineTimer:function(){this._onlineTimer.start()},stopOnlineTimer:function(){this._onlineTimer&&this._onlineTimer.stop()},getUserOnlineInfo:function(e,t,r,n){var o=e+"@"+t,s=this;if(M[o]&&(new Date).getTime()-M[o]<E)return r&&r(w[o]);if(_({user_source:t})||p({user_source:t}))return s._setOnlineStatus(e,t,1),r&&r(1);if(A[o])A[o].then((function(e){r&&r(e)}),(function(e){n&&n(e)}));else{var i=$.Deferred();A[o]=i.promise(),function(o){b(v.get_user_online_info.name,{target_user_id:e,target_user_source:t},null,(function(n){delete A[o],i.resolve(n.is_online),s._setOnlineStatus(e,t,n.is_online),r&&r(n.is_online)}),(function(e){delete A[o],i.reject(e),n&&n(e)}))}(o)}},getUsersOnlineInfo:function(e,t,r){var n=50,o={},i=[],u=[],a=this;if(l(e,(function(e,t){var r=t.user_id+"@"+t.user_source;if(!(M[r]&&(new Date).getTime()-M[r]<E))return _(t)||p({user_source:t.user_source})?(o[r]=1,void a._setOnlineStatus(t.user_id,t.user_source,o[r])):void(A[r]?i.push({key:r,promise:A[r]}):u.push(t));o[r]=w[r]})),0===u.length)return t&&t(o);for(var c=function(){var e=0===i.length?1:2,r=0;return function(){r++,r===e&&t&&t(o)}}(),f=0,d=Math.ceil(u.length/n),h=0;h<d;h++){var m=[];m=h===d-1?(0,s.default)(u).call(u,h*n):(0,s.default)(u).call(u,h*n,(h+1)*n);var y=[];l(m,(function(e,t){var r=t.user_id+"@@"+t.user_source;!p(t)||g(t.shop_id)||g(t.shop_source)||(r+=":"+t.shop_id+"@@"+t.shop_source),y.push(r)}));var x=b(v.get_users_online_info.name,null,{target_users:y},(function(e){l(e.results,(function(e,t){var r=t.user_id+"@"+t.user_source;o[r]=t.is_online,a._setOnlineStatus(t.user_id,t.user_source,t.is_online)})),f++,f===d&&c()}),(function(e){f++,f===d&&c()}));l(m,(function(e,t){var r=t.user_id+"@"+t.user_source,n=$.Deferred();A[r]=n.promise(),function(e){x.then((function(t){var r=0;l(t.results,(function(t,n){var o=n.user_id+"@"+n.user_source;if(o===e)return r=n.is_online,!1})),n.resolve(r),delete A[e]}),(function(t){n.reject(t),delete A[e]}))}(r)}))}(function(){var e=0;l(i,(function(t,r){r.promise.then((function(t){o[r.key]=t,e++,e===i.length&&c()}),(function(t){e++,e===i.length&&c()}))}))})()},updateOnlineStatus:function(e,t){var r=this,n=t;e===m.FIRST&&(n=(0,s.default)(t).call(t,0,k)),(0,o.default)((function(){r.getUsersOnlineInfo(n)}),2e3)},getCometStatus:function(e,t){y.get("comet",e,t)},setCometStatus:function(e,t,r){var n=(new Date).getTime();y.set({name:"comet",value:{heartStamp:n,isForceOff:e}},t,r)},resetLoadedUser:function(){this._users={}}})},"8Ex0":function(e,t,r){var n={};n=r("9vrv"),e.exports=n},"8GlL":function(e,t,r){"use strict";var n=r("HAuM"),o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},"915G":function(e,t,r){r("kQON");var n=r("oWnS");e.exports=n("Array").keys},"93I0":function(e,t,r){var n=r("VpIT"),o=r("kOOl"),s=n("keys");e.exports=function(e){return s[e]||(s[e]=o(e))}},"9E9t":function(e,t,r){"use strict";var n=r("wbIY"),o=r("Bvq2"),s=r("oBZR"),i=r("ogVW"),u=r("cEPT"),a=r("T/97"),c=r("Y4yM"),f=Object.assign,l=Object.defineProperty;e.exports=!f||o((function(){if(n&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){t[e]=e})),7!=f({},e)[r]||s(f({},t)).join("")!=o}))?function(e,t){var r=a(e),o=arguments.length,f=1,l=i.f,d=u.f;while(o>f){var _,p=c(arguments[f++]),g=l?s(p).concat(l(p)):s(p),h=g.length,m=0;while(h>m)_=g[m++],n&&!d.call(p,_)||(r[_]=p[_])}return r}:f},"9EaA":function(e,t,r){r("2SXh");var n=r("dktu"),o=n.Object;e.exports=function(e,t){return o.create(e,t)}},"9HS+":function(e,t,r){r("cRbr");var n=r("oWnS");e.exports=n("Array").splice},"9Mno":function(e,t,r){var n=r("O3vZ"),o=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===o||e instanceof Array&&t===o.indexOf?n:t}},"9XUY":function(e,t,r){"use strict";var n=r("u4PT").IteratorPrototype,o=r("SJYm"),s=r("LGyv"),i=r("KHTo"),u=r("dGO/"),a=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=o(n,{next:s(1,r)}),i(e,c,!1,!0),u[c]=a,e}},"9d/t":function(e,t,r){var n=r("AO7/"),o=r("xrYK"),s=r("tiKp"),i=s("toStringTag"),u="Arguments"==o(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(r){}};e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=a(t=Object(e),i))?r:u?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},"9eTe":function(e,t,r){var n=r("G9WS");r("07d7"),r("rB9j"),r("JfAA"),r("UxlC");var o=n(r("ZbhI")),s=r("Bwsg"),i=r("QnZw"),u=new i("webim-uuid"),a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,r="x"==e?t:3&t|8;return r.toString(16)}))},c=function(){var e=u.getItem("im_uuid");return e||(e=a(),u.setItem("im_uuid",e)),e+"########"+f()+"##"},f=function(){var e=s.os.family.toLowerCase(),t="";return(0,o.default)(e).call(e,"windows")>=0?t="Windows":(0,o.default)(e).call(e,"ios")>=0?t="IOS":(0,o.default)(e).call(e,"android")>=0?t="Android":(0,o.default)(e).call(e,"linux")>=0&&(t="Linux"),t+"#"+s.os.version+"#"};e.exports=c()},"9fuf":function(e,t,r){var n=r("Bvq2");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},"9i1f":function(e,t,r){r("sMBO");var n=r("80UC"),o=r("Uwh9"),s=o.inherits,i=o.isEmpty,u=r("mNsz"),a=r("eAFf");e.exports=s(n,{constructor:function(){n.call(this)},init:function(e){this._url=e},reportmsg:function(e,t,r){if(!i(this._url)){var n=this,o={api_url:n._url,name:a.report_msg.name};u(o,null,e,t,r)}}})},"9vrv":function(e,t,r){var n=r("G9WS"),o=n(r("WxoT")),s=n(r("ZbhI")),i=n(r("M5Mt")),u=r("382w"),a=r("Uwh9").inherits,c=r("Uwh9").each,f=r("Uwh9").extend,l=r("Uwh9"),d=l.jsonHandler,_=r("xzMW"),p=r("kXmp").syn,g=r("WGYn"),h=r("QbSn"),m=r("1Fqx"),v=r("yz84"),y=10,b=r("b0FF");l.isEmpty;e.exports=a(u,{constructor:function(e){u.call(this),this._cometConnect=[],this._setHeartTimer=null,this._getHeartTimer=null,this._url=null,this._commonParams={},this._isconnected=!1,this._options=null,this._heartStamp=null,this._isForceOff=!1,this._onLoaded=!1,this._start(e)},_start:function(e){(function(t){var r={ack:function(e){e()}};f(r,e),t._options=r,t._getHeartTimer=new m({onElapsed:function(e){var r=(new Date).getTime();p.get("comet",(function(n){!n||r-n.heartStamp>5e3&&!n.isForceOff?p.set({name:"comet",value:{heartStamp:r,isForceOff:!1}},(function(){t.connect((function(){t._setHeartTimer&&t._setHeartTimer.stop(),t._heartStamp=null})),e()})):e()}),(function(){t._getHeartTimer.setDuration(0),e()}))},duration:3e3}),t._setHeartTimer=new m({onElapsed:function(e){if(t._heartStamp&&r-t._heartStamp>3e4)return t._setHeartTimer&&t._setHeartTimer.stop(),void(t._heartStamp=null);var r=(new Date).getTime(),n={name:"comet",value:{heartStamp:r,isForceOff:!1}};p.set(n,(function(){t._heartStamp=r,e()}),(function(){t._setHeartTimer.setDuration(0),e()}))},duration:1e3})})(this)},start:function(){var e=this;l.onload((function(){e._onLoaded=!0,b["is_not_sync_page"]?e.connect():e._getHeartTimer.start()}))},stop:function(){this._setHeartTimer&&this._setHeartTimer.stop(),this._getHeartTimer&&this._getHeartTimer.stop(),this._heartBeatTimer&&this._heartBeatTimer.stop()},reconnect:function(){this._isconnected=!1,this.wsClose(),this.connect()},storeForceOff:function(){for(var e=this,t=this._cometConnect.length>1?this._cometConnect.length-1:1,r=0;r<t;r++){var n;this._cometConnect[r]&&this._cometConnect[r].close?this._cometConnect[r].close():this._cometConnect[r]&&this._cometConnect[r].abort&&this._cometConnect[r].abort(),(0,i.default)(n=this._cometConnect).call(n,r,1),t--}var o=(new Date).getTime(),s={name:"comet",value:{heartStamp:o,isForceOff:!0}};p.set(s,(function(){e._isForceOff=!0}),(function(){}))},connect:function(e){var t,r;if(this._onLoaded){var n=this;n.triggerEvent(_.mainPageChanged),"WebSocket"in window&&-1!=(0,s.default)(t=n._url).call(t,"wss")||(n.triggerEvent(_.connectchange,!0),n._isconnected=!0),n._setHeartTimer.start();var o=function(e){n.triggerEvent(_.cometReceived,e);var t=function(){var t=0;return function(){t++,t===e.data.length&&n.connect()}}(),r=function(e){n.handleComet(e,(function(){var e;"WebSocket"in window&&-1!=(0,s.default)(e=n._url).call(e,"wss")||t()}),(function(){}))};c(e.data,(function(e,t){r(t)}))},i=function(t){n.triggerEvent(_.connectchange,!1,t),e&&e()};"WebSocket"in window&&-1!=(0,s.default)(r=n._url).call(r,"wss")?n.wsConnect({timer_interval:y},o,i):n.cometConnect({comet_type:"jsonp",is_json:!0,is_new:!0},o,i)}},cometConnect:function(e,t,r){var n=f(e,this._commonParams),o=this._url,s=null;this._cometConnect.push(g({url:o,method:"get",datatype:"jsonp",getparams:n,timeout:s},(function(e){t(e)}),(function(e,t,n){r(n)})))},wsConnect:function(e,t,r){var n=(0,o.default)(f(e,this._commonParams)),s=this._url+"?version="+v.getVersion(),i=new WebSocket(s);i.onopen=function(){i.send(v(n))},i.onmessage=function(e){var r=d.parse(e.data);t&&t(r)},i.onclose=function(e){},i.onerror=function(e){r&&r(e)},this._cometConnect.push(i)},onDisconnect:function(e){var t=this;t._isconnected=!1,t._setHeartTimer&&t._setHeartTimer.stop(),t._heartBeatTimer&&t._heartBeatTimer.stop(),t.triggerEvent(_.connectchange,!1,e)},onLogout:function(e){var t=this;p.set({name:"loginInfo",value:{status:!1,user:{user_id:h.get().user_id,user_source:h.get().user_source}}},(function(){t.triggerEvent(_.logout,e)}),(function(){}))},wsClose:function(){var e=this._cometConnect.length;if(e>0){for(var t=0;t<e;t++)this._cometConnect[t].close?this._cometConnect[t].close():this._cometConnect[t].abort&&this._cometConnect[t].abort();this._cometConnect=[]}},close:function(){this.stop(),this.wsClose(),this.onDisconnect({error_msg:"comet connect close!"})}})},A2Ma:function(e,t,r){var n=r("OsYe"),o=r("1lkh"),s=r("eOcF"),i=r("PoCt"),u=r("HmPo"),a=r("YtAO"),c=o("wks"),f=n.Symbol,l=a?f:f&&f.withoutSetter||i;e.exports=function(e){return s(c,e)||(u&&s(f,e)?c[e]=f[e]:c[e]=l("Symbol."+e)),c[e]}},A2ZE:function(e,t,r){var n=r("HAuM");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},AFTl:function(e,t,r){var n=r("pevS"),o=r("mIMY"),s=r("Bvq2"),i=o("JSON","stringify"),u=/[\uD800-\uDFFF]/g,a=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,f=function(e,t,r){var n=r.charAt(t-1),o=r.charAt(t+1);return a.test(e)&&!c.test(o)||c.test(e)&&!a.test(n)?"\\u"+e.charCodeAt(0).toString(16):e},l=s((function(){return'"\\udf06\\ud834"'!==i("\udf06\ud834")||'"\\udead"'!==i("\udead")}));i&&n({target:"JSON",stat:!0,forced:l},{stringify:function(e,t,r){var n=i.apply(null,arguments);return"string"==typeof n?n.replace(u,f):n}})},"AO7/":function(e,t,r){var n=r("tiKp"),o=n("toStringTag"),s={};s[o]="z",e.exports="[object z]"===String(s)},AUl2:function(e,t,r){var n=r("/EgQ"),o=r("OsYe");e.exports="process"==n(o.process)},AnMC:function(e,t,r){var n=r("wbIY"),o=r("QYBB"),s=r("LGyv");e.exports=n?function(e,t,r){return o.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},ApMD:function(e,t,r){"use strict";r("Pkew");var n,o=r("pevS"),s=r("wbIY"),i=r("xWeK"),u=r("OsYe"),a=r("wjB2"),c=r("1mbr"),f=r("X32N"),l=r("eOcF"),d=r("9E9t"),_=r("Rxu/"),p=r("y9AQ").codeAt,g=r("5/F9"),h=r("KHTo"),m=r("4sNH"),v=r("L1rz"),y=u.URL,b=m.URLSearchParams,w=m.getState,x=v.set,S=v.getterFor("URL"),k=Math.floor,M=Math.pow,E="Invalid authority",A="Invalid scheme",I="Invalid host",O="Invalid port",T=/[A-Za-z]/,U=/[\d+-.A-Za-z]/,R=/\d/,L=/^(0x|0X)/,j=/^[0-7]+$/,C=/^\d+$/,P=/^[\dA-Fa-f]+$/,F=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,B=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,N=/[\u0009\u000A\u000D]/g,G=function(e,t){var r,n,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return I;if(r=q(t.slice(1,-1)),!r)return I;e.host=r}else if(Z(e)){if(t=g(t),F.test(t))return I;if(r=W(t),null===r)return I;e.host=r}else{if(B.test(t))return I;for(r="",n=_(t),o=0;o<n.length;o++)r+=z(n[o],J);e.host=r}},W=function(e){var t,r,n,o,s,i,u,a=e.split(".");if(a.length&&""==a[a.length-1]&&a.pop(),t=a.length,t>4)return e;for(r=[],n=0;n<t;n++){if(o=a[n],""==o)return e;if(s=10,o.length>1&&"0"==o.charAt(0)&&(s=L.test(o)?16:8,o=o.slice(8==s?1:2)),""===o)i=0;else{if(!(10==s?C:8==s?j:P).test(o))return e;i=parseInt(o,s)}r.push(i)}for(n=0;n<t;n++)if(i=r[n],n==t-1){if(i>=M(256,5-t))return null}else if(i>255)return null;for(u=r.pop(),n=0;n<r.length;n++)u+=r[n]*M(256,3-n);return u},q=function(e){var t,r,n,o,s,i,u,a=[0,0,0,0,0,0,0,0],c=0,f=null,l=0,d=function(){return e.charAt(l)};if(":"==d()){if(":"!=e.charAt(1))return;l+=2,c++,f=c}while(d()){if(8==c)return;if(":"!=d()){t=r=0;while(r<4&&P.test(d()))t=16*t+parseInt(d(),16),l++,r++;if("."==d()){if(0==r)return;if(l-=r,c>6)return;n=0;while(d()){if(o=null,n>0){if(!("."==d()&&n<4))return;l++}if(!R.test(d()))return;while(R.test(d())){if(s=parseInt(d(),10),null===o)o=s;else{if(0==o)return;o=10*o+s}if(o>255)return;l++}a[c]=256*a[c]+o,n++,2!=n&&4!=n||c++}if(4!=n)return;break}if(":"==d()){if(l++,!d())return}else if(d())return;a[c++]=t}else{if(null!==f)return;l++,c++,f=c}}if(null!==f){i=c-f,c=7;while(0!=c&&i>0)u=a[c],a[c--]=a[f+i-1],a[f+--i]=u}else if(8!=c)return;return a},H=function(e){for(var t=null,r=1,n=null,o=0,s=0;s<8;s++)0!==e[s]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=s),++o);return o>r&&(t=n,r=o),t},Y=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=k(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=H(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},J={},K=d({},J,{" ":1,'"':1,"<":1,">":1,"`":1}),V=d({},K,{"#":1,"?":1,"{":1,"}":1}),X=d({},V,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(e,t){var r=p(e,0);return r>32&&r<127&&!l(t,e)?e:encodeURIComponent(e)},Q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Z=function(e){return l(Q,e.scheme)},$=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var r;return 2==e.length&&T.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},re=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&te(t[0],!0)||t.pop()},oe=function(e){return"."===e||"%2e"===e.toLowerCase()},se=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ie={},ue={},ae={},ce={},fe={},le={},de={},_e={},pe={},ge={},he={},me={},ve={},ye={},be={},we={},xe={},Se={},ke={},Me={},Ee={},Ae=function(e,t,r,o){var s,i,u,a,c=r||ie,f=0,d="",p=!1,g=!1,h=!1;r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(D,"")),t=t.replace(N,""),s=_(t);while(f<=s.length){switch(i=s[f],c){case ie:if(!i||!T.test(i)){if(r)return A;c=ae;continue}d+=i.toLowerCase(),c=ue;break;case ue:if(i&&(U.test(i)||"+"==i||"-"==i||"."==i))d+=i.toLowerCase();else{if(":"!=i){if(r)return A;d="",c=ae,f=0;continue}if(r&&(Z(e)!=l(Q,d)||"file"==d&&($(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,r)return void(Z(e)&&Q[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?c=ye:Z(e)&&o&&o.scheme==e.scheme?c=ce:Z(e)?c=_e:"/"==s[f+1]?(c=fe,f++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ke)}break;case ae:if(!o||o.cannotBeABaseURL&&"#"!=i)return A;if(o.cannotBeABaseURL&&"#"==i){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,c=Ee;break}c="file"==o.scheme?ye:le;continue;case ce:if("/"!=i||"/"!=s[f+1]){c=le;continue}c=pe,f++;break;case fe:if("/"==i){c=ge;break}c=Se;continue;case le:if(e.scheme=o.scheme,i==n)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==i||"\\"==i&&Z(e))c=de;else if("?"==i)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",c=Me;else{if("#"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),c=Se;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",c=Ee}break;case de:if(!Z(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,c=Se;continue}c=ge}else c=pe;break;case _e:if(c=pe,"/"!=i||"/"!=d.charAt(f+1))continue;f++;break;case pe:if("/"!=i&&"\\"!=i){c=ge;continue}break;case ge:if("@"==i){p&&(d="%40"+d),p=!0,u=_(d);for(var m=0;m<u.length;m++){var v=u[m];if(":"!=v||h){var y=z(v,X);h?e.password+=y:e.username+=y}else h=!0}d=""}else if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&Z(e)){if(p&&""==d)return E;f-=_(d).length+1,d="",c=he}else d+=i;break;case he:case me:if(r&&"file"==e.scheme){c=we;continue}if(":"!=i||g){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&Z(e)){if(Z(e)&&""==d)return I;if(r&&""==d&&($(e)||null!==e.port))return;if(a=G(e,d),a)return a;if(d="",c=xe,r)return;continue}"["==i?g=!0:"]"==i&&(g=!1),d+=i}else{if(""==d)return I;if(a=G(e,d),a)return a;if(d="",c=ve,r==me)return}break;case ve:if(!R.test(i)){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&Z(e)||r){if(""!=d){var b=parseInt(d,10);if(b>65535)return O;e.port=Z(e)&&b===Q[e.scheme]?null:b,d=""}if(r)return;c=xe;continue}return O}d+=i;break;case ye:if(e.scheme="file","/"==i||"\\"==i)c=be;else{if(!o||"file"!=o.scheme){c=Se;continue}if(i==n)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==i)e.host=o.host,e.path=o.path.slice(),e.query="",c=Me;else{if("#"!=i){re(s.slice(f).join(""))||(e.host=o.host,e.path=o.path.slice(),ne(e)),c=Se;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",c=Ee}}break;case be:if("/"==i||"\\"==i){c=we;break}o&&"file"==o.scheme&&!re(s.slice(f).join(""))&&(te(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),c=Se;continue;case we:if(i==n||"/"==i||"\\"==i||"?"==i||"#"==i){if(!r&&te(d))c=Se;else if(""==d){if(e.host="",r)return;c=xe}else{if(a=G(e,d),a)return a;if("localhost"==e.host&&(e.host=""),r)return;d="",c=xe}continue}d+=i;break;case xe:if(Z(e)){if(c=Se,"/"!=i&&"\\"!=i)continue}else if(r||"?"!=i)if(r||"#"!=i){if(i!=n&&(c=Se,"/"!=i))continue}else e.fragment="",c=Ee;else e.query="",c=Me;break;case Se:if(i==n||"/"==i||"\\"==i&&Z(e)||!r&&("?"==i||"#"==i)){if(se(d)?(ne(e),"/"==i||"\\"==i&&Z(e)||e.path.push("")):oe(d)?"/"==i||"\\"==i&&Z(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(i==n||"?"==i||"#"==i))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==i?(e.query="",c=Me):"#"==i&&(e.fragment="",c=Ee)}else d+=z(i,V);break;case ke:"?"==i?(e.query="",c=Me):"#"==i?(e.fragment="",c=Ee):i!=n&&(e.path[0]+=z(i,J));break;case Me:r||"#"!=i?i!=n&&("'"==i&&Z(e)?e.query+="%27":e.query+="#"==i?"%23":z(i,J)):(e.fragment="",c=Ee);break;case Ee:i!=n&&(e.fragment+=z(i,K));break}f++}},Ie=function(e){var t,r,n=f(this,Ie,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(e),u=x(n,{type:"URL"});if(void 0!==o)if(o instanceof Ie)t=S(o);else if(r=Ae(t={},String(o)),r)throw TypeError(r);if(r=Ae(u,i,null,t),r)throw TypeError(r);var a=u.searchParams=new b,c=w(a);c.updateSearchParams(u.query),c.updateURL=function(){u.query=String(a)||null},s||(n.href=Te.call(n),n.origin=Ue.call(n),n.protocol=Re.call(n),n.username=Le.call(n),n.password=je.call(n),n.host=Ce.call(n),n.hostname=Pe.call(n),n.port=Fe.call(n),n.pathname=Be.call(n),n.search=De.call(n),n.searchParams=Ne.call(n),n.hash=Ge.call(n))},Oe=Ie.prototype,Te=function(){var e=S(this),t=e.scheme,r=e.username,n=e.password,o=e.host,s=e.port,i=e.path,u=e.query,a=e.fragment,c=t+":";return null!==o?(c+="//",$(e)&&(c+=r+(n?":"+n:"")+"@"),c+=Y(o),null!==s&&(c+=":"+s)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?i[0]:i.length?"/"+i.join("/"):"",null!==u&&(c+="?"+u),null!==a&&(c+="#"+a),c},Ue=function(){var e=S(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&Z(e)?t+"://"+Y(e.host)+(null!==r?":"+r:""):"null"},Re=function(){return S(this).scheme+":"},Le=function(){return S(this).username},je=function(){return S(this).password},Ce=function(){var e=S(this),t=e.host,r=e.port;return null===t?"":null===r?Y(t):Y(t)+":"+r},Pe=function(){var e=S(this).host;return null===e?"":Y(e)},Fe=function(){var e=S(this).port;return null===e?"":String(e)},Be=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},De=function(){var e=S(this).query;return e?"?"+e:""},Ne=function(){return S(this).searchParams},Ge=function(){var e=S(this).fragment;return e?"#"+e:""},We=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(s&&a(Oe,{href:We(Te,(function(e){var t=S(this),r=String(e),n=Ae(t,r);if(n)throw TypeError(n);w(t.searchParams).updateSearchParams(t.query)})),origin:We(Ue),protocol:We(Re,(function(e){var t=S(this);Ae(t,String(e)+":",ie)})),username:We(Le,(function(e){var t=S(this),r=_(String(e));if(!ee(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=z(r[n],X)}})),password:We(je,(function(e){var t=S(this),r=_(String(e));if(!ee(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=z(r[n],X)}})),host:We(Ce,(function(e){var t=S(this);t.cannotBeABaseURL||Ae(t,String(e),he)})),hostname:We(Pe,(function(e){var t=S(this);t.cannotBeABaseURL||Ae(t,String(e),me)})),port:We(Fe,(function(e){var t=S(this);ee(t)||(e=String(e),""==e?t.port=null:Ae(t,e,ve))})),pathname:We(Be,(function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],Ae(t,e+"",xe))})),search:We(De,(function(e){var t=S(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ae(t,e,Me)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:We(Ne),hash:We(Ge,(function(e){var t=S(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ae(t,e,Ee)):t.fragment=null}))}),c(Oe,"toJSON",(function(){return Te.call(this)}),{enumerable:!0}),c(Oe,"toString",(function(){return Te.call(this)}),{enumerable:!0}),y){var qe=y.createObjectURL,He=y.revokeObjectURL;qe&&c(Ie,"createObjectURL",(function(e){return qe.apply(y,arguments)})),He&&c(Ie,"revokeObjectURL",(function(e){return He.apply(y,arguments)}))}h(Ie,"URL"),o({global:!0,forced:!i,sham:!s},{URL:Ie})},BObf:function(e,t,r){r("xahd");var n=r("dktu");e.exports=n.setInterval},"BP/7":function(e,t,r){var n=r("FRmQ"),o=Array.prototype;e.exports=function(e){var t=e.find;return e===o||e instanceof Array&&t===o.find?n:t}},"BX/b":function(e,t,r){var n=r("/GqU"),o=r("JBy8").f,s={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==s.call(e)?u(e):o(n(e))}},Bs8V:function(e,t,r){var n=r("g6v/"),o=r("0eef"),s=r("XGwC"),i=r("/GqU"),u=r("wE6v"),a=r("UTVS"),c=r("DPsx"),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=i(e),t=u(t,!0),c)try{return f(e,t)}catch(r){}if(a(e,t))return s(!o.f.call(e,t),e[t])}},Bvq2:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},Bwsg:function(e,t,r){(function(e,n){var o,s=r("G9WS");r("pNMO"),r("4Brf"),r("oVuX"),r("sMBO"),r("toAj"),r("07d7"),r("TWNs"),r("rB9j"),r("JfAA"),r("UxlC"),r("EnZy");var i=s(r("lHQ6")),u=s(r("D3kx")),a=s(r("ZbhI")),c=s(r("UtpJ")),f=s(r("nhkr"));o=function(){var r={function:!0,object:!0},o=r["undefined"===typeof window?"undefined":(0,f.default)(window)]&&window||this,s=o,l=r[(0,f.default)(t)]&&t,d=r[(0,f.default)(e)]&&e&&!e.nodeType&&e,_=l&&d&&"object"==("undefined"===typeof n?"undefined":(0,f.default)(n))&&n;!_||_.global!==_&&_.window!==_&&_.self!==_||(o=_);var p=Math.pow(2,53)-1,g=/\bOpera/,h=this,m=Object.prototype,v=m.hasOwnProperty,y=m.toString;function b(e){return e=String(e),e.charAt(0).toUpperCase()+(0,c.default)(e).call(e,1)}function w(e,t,r){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"7 / Server 2008 R2","6.0":"Vista / Server 2008",5.2:"XP 64-bit / Server 2003",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&r&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&r&&(e=e.replace(RegExp(t,"i"),r)),e=S(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),e}function x(e,t){var r=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=p)while(++r<n)t(e[r],r,e);else k(e,t)}function S(e){return e=O(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:b(e)}function k(e,t){for(var r in e)v.call(e,r)&&t(e[r],r,e)}function M(e){var t;return null==e?b(e):(0,c.default)(t=y.call(e)).call(t,8,-1)}function E(e,t){var r=null!=e?(0,f.default)(e[t]):"number";return!/^(?:boolean|number|string|undefined)$/.test(r)&&("object"!=r||!!e[t])}function A(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function I(e,t){var r=null;return x(e,(function(n,o){r=t(r,n,o,e)})),r}function O(e){return String(e).replace(/^ +| +$/g,"")}function T(e){var t=o,r=e&&"object"==(0,f.default)(e)&&"String"!=M(e);r&&(t=e,e=null);var n=t.navigator||{},l=n.userAgent||"";e||(e=l);var d,_,p=r||h==s,m=r?!!n.likeChrome:/\bChrome\b/.test(e)&&!/internal|\n/i.test(y.toString()),v="Object",b=r?v:"ScriptBridgingProxyObject",x=r?v:"Environment",U=r&&t.java?"JavaPackage":M(t.java),R=r?v:"RuntimeObject",L=/\bJava/.test(U)&&t.java,j=L&&M(t.environment)==x,C=L?"a":"α",P=L?"b":"β",F=t.document||{},B=t.operamini||t.opera,D=g.test(D=r&&B?B["[[Class]]"]:M(B))?D:B=null,N=e,G=[],W=null,q=e==l,H=q&&B&&"function"==typeof B.version&&B.version(),Y=z([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),J=Z(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox Mobile",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),K=ee([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation 3","PlayStation 4","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),V=Q({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),X=$(["Windows Phone ","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function z(t){return I(t,(function(t,r){return t||RegExp("\\b"+(r.pattern||A(r))+"\\b","i").exec(e)&&(r.label||r)}))}function Q(t){return I(t,(function(t,r,n){return t||(r[K]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(K)]||RegExp("\\b"+A(n)+"(?:\\b|\\w*\\d)","i").exec(e))&&n}))}function Z(t){return I(t,(function(t,r){return t||RegExp("\\b"+(r.pattern||A(r))+"\\b","i").exec(e)&&(r.label||r)}))}function $(t){return I(t,(function(t,r){var n=r.pattern||A(r);return!t&&(t=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(e))&&(t=w(t,n,r.label||r)),t}))}function ee(t){return I(t,(function(t,r){var n=r.pattern||A(r);return!t&&(t=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(e)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(e))&&((t=String(r.label&&!RegExp(n,"i").test(r.label)?r.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),r=r.label||r,t=S(t[0].replace(RegExp(n,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),t}))}function te(t){return I(t,(function(t,r){return t||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(e)||0)[1]||null}))}function re(){return this.description||""}if(Y&&(Y=[Y]),V&&!K&&(K=ee([V])),(d=/\bGoogle TV\b/.exec(K))&&(K=d[0]),/\bSimulator\b/i.test(e)&&(K=(K?K+" ":"")+"Simulator"),"Opera Mini"==J&&/\bOPiOS\b/.test(e)&&G.push("running in Turbo/Uncompressed mode"),/^iP/.test(K)?(J||(J="Safari"),X="iOS"+((d=/ OS ([\d_]+)/i.exec(e))?" "+d[1].replace(/_/g,"."):"")):"Konqueror"!=J||/buntu/i.test(X)?V&&"Google"!=V&&(/Chrome/.test(J)&&!/\bMobile Safari\b/i.test(e)||/\bVita\b/.test(K))?(J="Android Browser",X=/\bAndroid\b/.test(X)?X:"Android"):"Silk"==J?(/\bMobi/i.test(e)||(X="Android",G.unshift("desktop mode")),/Accelerated *= *true/i.test(e)&&G.unshift("accelerated")):"PaleMoon"==J&&(d=/\bFirefox\/([\d.]+)\b/.exec(e))?G.push("identifying as Firefox "+d[1]):"Firefox"==J&&(d=/\b(Mobile|Tablet|TV)\b/i.exec(e))?(X||(X="Firefox OS"),K||(K=d[1])):J&&!(d=!/\bMinefield\b/i.test(e)&&/\b(?:Firefox|Safari)\b/.exec(J))||(J&&!K&&/[\/,]|^[^(]+?\)/.test((0,c.default)(e).call(e,(0,a.default)(e).call(e,d+"/")+8))&&(J=null),(d=K||V||X)&&(K||V||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(X))&&(J=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(X)?X:d)+" Browser")):X="Kubuntu",H||(H=te(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",A(J),"(?:Firefox|Minefield|NetFront)"])),(d=("iCab"==Y&&(0,u.default)(H)>3?"WebKit":/\bOpera\b/.test(J)&&(/\bOPR\b/.test(e)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(e)&&!/^(?:Trident|EdgeHTML)$/.test(Y)&&"WebKit"||!Y&&/\bMSIE\b/i.test(e)&&("Mac OS"==X?"Tasman":"Trident")||"WebKit"==Y&&/\bPlayStation\b(?! Vita\b)/i.test(J)&&"NetFront")&&(Y=[d]),"IE"==J&&(d=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(e)||0)[1])?(J+=" Mobile",X="Windows Phone "+(/\+$/.test(d)?d:d+".x"),G.unshift("desktop mode")):/\bWPDesktop\b/i.test(e)?(J="IE Mobile",X="Windows Phone 8.x",G.unshift("desktop mode"),H||(H=(/\brv:([\d.]+)/.exec(e)||0)[1])):"IE"!=J&&"Trident"==Y&&(d=/\brv:([\d.]+)/.exec(e))&&(J&&G.push("identifying as "+J+(H?" "+H:"")),J="IE",H=d[1]),q){if(E(t,"global"))if(L&&(d=L.lang.System,N=d.getProperty("os.arch"),X=X||d.getProperty("os.name")+" "+d.getProperty("os.version")),p&&E(t,"system")&&(d=[t.system])[0]){X||(X=d[0].os||null);try{d[1]=t.require("ringo/engine").version,H=d[1].join("."),J="RingoJS"}catch(ie){d[0].global.system==t.system&&(J="Narwhal")}}else"object"==(0,f.default)(t.process)&&(d=t.process)?(J="Node.js",N=d.arch,X=d.platform,H=/[\d.]+/.exec(d.version)[0]):j&&(J="Rhino");else M(d=t.runtime)==b?(J="Adobe AIR",X=d.flash.system.Capabilities.os):M(d=t.phantom)==R?(J="PhantomJS",H=(d=d.version||null)&&d.major+"."+d.minor+"."+d.patch):"number"==typeof F.documentMode&&(d=/\bTrident\/(\d+)/i.exec(e))&&(H=[H,F.documentMode],(d=+d[1]+4)!=H[1]&&(G.push("IE "+H[1]+" mode"),Y&&(Y[1]=""),H[1]=d),H="IE"==J?String(H[1].toFixed(1)):H[0]);X=X&&S(X)}if(H&&(d=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(H)||/(?:alpha|beta)(?: ?\d)?/i.exec(e+";"+(q&&n.appMinorVersion))||/\bMinefield\b/i.test(e)&&"a")&&(W=/b/i.test(d)?"beta":"alpha",H=H.replace(RegExp(d+"\\+?$"),"")+("beta"==W?P:C)+(/\d+\+?/.exec(d)||"")),"Fennec"==J||"Firefox"==J&&/\b(?:Android|Firefox OS)\b/.test(X)?J="Firefox Mobile":"Maxthon"==J&&H?H=H.replace(/\.[\d.]+/,".x"):/\bXbox\b/i.test(K)?(X=null,"Xbox 360"==K&&/\bIEMobile\b/.test(e)&&G.unshift("mobile mode")):!/^(?:Chrome|IE|Opera)$/.test(J)&&(!J||K||/Browser|Mobi/.test(J))||"Windows CE"!=X&&!/Mobi/i.test(e)?"IE"==J&&q&&null===t.external?G.unshift("platform preview"):(/\bBlackBerry\b/.test(K)||/\bBB10\b/.test(e))&&(d=(RegExp(K.replace(/ +/g," *")+"/([.\\d]+)","i").exec(e)||0)[1]||H)?(d=[d,/BB10/.test(e)],X=(d[1]?(K=null,V="BlackBerry"):"Device Software")+" "+d[0],H=null):this!=k&&"Wii"!=K&&(q&&B||/Opera/.test(J)&&/\b(?:MSIE|Firefox)\b/i.test(e)||"Firefox"==J&&/\bOS X (?:\d+\.){2,}/.test(X)||"IE"==J&&(X&&!/^Win/.test(X)&&H>5.5||/\bWindows XP\b/.test(X)&&H>8||8==H&&!/\bTrident\b/.test(e)))&&!g.test(d=T.call(k,e.replace(g,"")+";"))&&d.name&&(d="ing as "+d.name+((d=d.version)?" "+d:""),g.test(J)?(/\bIE\b/.test(d)&&"Mac OS"==X&&(X=null),d="identify"+d):(d="mask"+d,J=D?S(D.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(d)&&(X=null),q||(H=null)),Y=["Presto"],G.push(d)):J+=" Mobile",d=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(e)||0)[1]){var ne,oe;if(d=[(0,u.default)(d.replace(/\.(\d)$/,".0$1")),d],"Safari"==J&&"+"==(0,c.default)(ne=d[1]).call(ne,-1))J="WebKit Nightly",W="alpha",H=(0,c.default)(oe=d[1]).call(oe,0,-1);else H!=d[1]&&H!=(d[2]=(/\bSafari\/([\d.]+\+?)/i.exec(e)||0)[1])||(H=null);d[1]=(/\bChrome\/([\d.]+)/i.exec(e)||0)[1],537.36==d[0]&&537.36==d[2]&&(0,u.default)(d[1])>=28&&"WebKit"==Y&&(Y=["Blink"]),q&&(m||d[1])?(Y&&(Y[1]="like Chrome"),d=d[1]||(d=d[0],d<530?1:d<532?2:d<532.05?3:d<533?4:d<534.03?5:d<534.07?6:d<534.1?7:d<534.13?8:d<534.16?9:d<534.24?10:d<534.3?11:d<535.01?12:d<535.02?"13+":d<535.07?15:d<535.11?16:d<535.19?17:d<536.05?18:d<536.1?19:d<537.01?20:d<537.11?"21+":d<537.13?23:d<537.18?24:d<537.24?25:d<537.36?26:"Blink"!=Y?"27":"28")):(Y&&(Y[1]="like Safari"),d=d[0],d=d<400?1:d<500?2:d<526?3:d<533?4:d<534?"4+":d<535?5:d<537?6:d<538?7:d<601?8:"8"),Y&&(Y[1]+=" "+(d+="number"==typeof d?".x":/[.+]/.test(d)?"":"+")),"Safari"==J&&(!H||(0,i.default)(H)>45)&&(H=d)}"Opera"==J&&(d=/\bzbov|zvav$/.exec(X))?(J+=" ",G.unshift("desktop mode"),"zvav"==d?(J+="Mini",H=null):J+="Mobile",X=X.replace(RegExp(" *"+d+"$"),"")):"Safari"==J&&/\bChrome\b/.exec(Y&&Y[1])&&(G.unshift("desktop mode"),J="Chrome Mobile",H=null,/\bOS X\b/.test(X)?(V="Apple",X="iOS 4.3+"):X=null),H&&0==(0,a.default)(H).call(H,d=/[\d.]+$/.exec(X))&&(0,a.default)(e).call(e,"/"+d+"-")>-1&&(X=O(X.replace(d,""))),Y&&!/\b(?:Avant|Nook)\b/.test(J)&&(/Browser|Lunascape|Maxthon/.test(J)||"Safari"!=J&&/^iOS/.test(X)&&/\bSafari\b/.test(Y[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(J)&&Y[1])&&(d=Y[Y.length-1])&&G.push(d),G.length&&(G=["("+G.join("; ")+")"]),V&&K&&(0,a.default)(K).call(K,V)<0&&G.push("on "+V),K&&G.push((/^on /.test(G[G.length-1])?"":"on ")+K),X&&(d=/ ([\d.+]+)$/.exec(X)||(_=/^[a-z]+ ([\d.+]+) \//i.exec(X)),X={architecture:32,family:d&&!_?X.replace(d[0],""):X,version:d?d[1]:null,toString:function(){var e=this.version;return this.family+(e&&!_?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(d=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(N))&&!/\bi686\b/i.test(N)&&(X&&(X.architecture=64,X.family=X.family.replace(RegExp(" *"+d),"")),J&&(/\bWOW64\b/i.test(e)||q&&/\w(?:86|32)$/.test(n.cpuClass||n.platform)&&!/\bWin64; x64\b/i.test(e))&&G.unshift("32-bit")),e||(e=null);var se={};return se.description=e,se.layout=Y&&Y[0],se.manufacturer=V,se.name=J,se.prerelease=W,se.product=K,se.ua=e,se.version=J&&H,se.os=X||{architecture:null,family:null,version:null,toString:function(){return"null"}},se.parse=T,se.toString=re,se.version&&G.unshift(H),se.name&&G.unshift(J),X&&J&&(X!=String(X).split(" ")[0]||X!=J.split(" ")[0]&&!K)&&G.push(K?"("+X+")":"on "+X),G.length&&(se.description=G.join(" ")),se}return T()}.call(t,r,t,e),void 0===o||(e.exports=o)}).call(this,r("YuTi")(e),r("yLpj"))},C3ug:function(e,t,r){var n=r("j5XY"),o=r("dGO/"),s=r("A2Ma"),i=s("iterator");e.exports=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},CqEA:function(e,t,r){var n=r("pevS"),o=r("T/97"),s=r("oBZR"),i=r("Bvq2"),u=i((function(){s(1)}));n({target:"Object",stat:!0,forced:u},{keys:function(e){return s(o(e))}})},Cupc:function(e,t,r){var n=r("1mbr");e.exports=function(e,t,r){for(var o in t)r&&r.unsafe&&e[o]?e[o]=t[o]:n(e,o,t[o],r);return e}},D1mM:function(e,t,r){var n=r("lxfd");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},D3kx:function(e,t,r){e.exports=r("PJ+M")},DIJN:function(e,t,r){var n=r("m/sp");n("asyncDispose")},DKI4:function(e,t,r){r("4hld");var n=r("dktu");e.exports=n.parseFloat},DPDV:function(e,t,r){var n=r("syO3"),o=r("nleh"),s=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},DPsx:function(e,t,r){var n=r("g6v/"),o=r("0Dky"),s=r("zBJ4");e.exports=!n&&!o((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},DSbf:function(e,t,r){var n=r("qQKe");e.exports=n},DTth:function(e,t,r){var n=r("0Dky"),o=r("tiKp"),s=r("xDBR"),i=o("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),r+=n+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},Dcj1:function(e,t,r){e.exports=r("/HVM")},DkPT:function(e,t,r){var n=r("o4zr");e.exports=n},Dmep:function(e,t,r){var n=r("m/sp");n("iterator")},E7Zm:function(e,t,r){var n=r("Ijsr");e.exports=n},EFVU:function(e,t,r){r("xjr5"),r("jJcI"),r("bANI"),r("pxJS"),r("b471"),r("vf3k"),r("yFJG"),r("pRFJ")},EUja:function(e,t,r){"use strict";var n=r("ppGB"),o=r("HYAF");e.exports="".repeat||function(e){var t=String(o(this)),r="",s=n(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},EnZy:function(e,t,r){"use strict";var n=r("14Sl"),o=r("ROdP"),s=r("glrk"),i=r("HYAF"),u=r("SEBh"),a=r("iqWW"),c=r("UMSQ"),f=r("FMNM"),l=r("kmMV"),d=r("0Dky"),_=[].push,p=Math.min,g=4294967295,h=!d((function(){return!RegExp(g,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(i(this)),s=void 0===r?g:r>>>0;if(0===s)return[];if(void 0===e)return[n];if(!o(e))return t.call(n,e,s);var u,a,c,f=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,h=new RegExp(e.source,d+"g");while(u=l.call(h,n)){if(a=h.lastIndex,a>p&&(f.push(n.slice(p,u.index)),u.length>1&&u.index<n.length&&_.apply(f,u.slice(1)),c=u[0].length,p=a,f.length>=s))break;h.lastIndex===u.index&&h.lastIndex++}return p===n.length?!c&&h.test("")||f.push(""):f.push(n.slice(p)),f.length>s?f.slice(0,s):f}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var o=i(this),s=void 0==t?void 0:t[e];return void 0!==s?s.call(t,o,r):n.call(String(o),t,r)},function(e,o){var i=r(n,e,this,o,n!==t);if(i.done)return i.value;var l=s(e),d=String(this),_=u(l,RegExp),m=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(h?"y":"g"),y=new _(h?l:"^(?:"+l.source+")",v),b=void 0===o?g:o>>>0;if(0===b)return[];if(0===d.length)return null===f(y,d)?[d]:[];var w=0,x=0,S=[];while(x<d.length){y.lastIndex=h?x:0;var k,M=f(y,h?d:d.slice(x));if(null===M||(k=p(c(y.lastIndex+(h?0:x)),d.length))===w)x=a(d,x,m);else{if(S.push(d.slice(w,x)),S.length===b)return S;for(var E=1;E<=M.length-1;E++)if(S.push(M[E]),S.length===b)return S;x=w=k}}return S.push(d.slice(w)),S}]}),!h)},F8JR:function(e,t,r){"use strict";var n=r("tycR").forEach,o=r("pkCn"),s=r("rkAj"),i=o("forEach"),u=s("forEach");e.exports=i&&u?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},FB6T:function(e,t,r){var n=r("G9WS");r("fbCW"),r("07d7"),r("JfAA");var o,s=n(r("M5Mt")),i=n(r("guyh"));o=r("QnZw");var u=r("b0FF"),a=r("Uwh9"),c=r("tMi5"),f=a.isEmpty,l=c.isGroupUser,d=a.jsonHandler,_=a.extend,p=a.strToNumCompare,g=(r("QbSn"),u["prefix_name"]+"-msg-ids"),h=u["prefix_name"]+"-msg-",m=u["prefix_name"]+"-refer",v=u["prefix_name"]+"-replace-ids",y=u["prefix_name"]+"-replace-",b=u["prefix_name"]+"-deleted-ids",w=u["prefix_name"]+"-deleted-",x=u["prefix_name"]+"-unreadindex-",S=new o(m),k=new o(g),M=new o(v),E=new o(b),A=new o(x),I=function(){try{return d.parse(S.getItem("refer")||"{}")}catch(e){}},O=function(){try{return d.parse(k.getItem("ids")||"[]")}catch(e){}},T=function(){try{return d.parse(M.getItem("ids")||"[]")}catch(e){}},U=function(){try{return d.parse(E.getItem("ids")||"[]")}catch(e){}},R=function(e){var t=new o(h+e);return d.parse(t.getItem("msg"))},L=function(e){var t=new o(y+e);return d.parse(t.getItem("msg"))},j=function(e){var t=new o(w+e);return d.parse(t.getItem("msg"))},C=function(e,t){var r=e.sender_id+"@"+e.sender_source,n=e.to_id+"@"+e.to_source,o=e.kf_id+"@"+e.kf_source,s=t.sender_id+"@"+t.sender_source,i=t.to_id+"@"+t.to_source,u=t.shop_id+"@"+t.shop_source,a=9999===t.sender_source||9999===t.to_source;if(r==s&&n==i)return!0;if(r==i&&n==s)return!0;if(a&&e.kf_id&&e.kf_source&&o==i&&n==s)return!0;if(a&&e.kf_id&&e.kf_source&&o==i&&n==u)return!0;var c=r+"@@"+n,f=n+"@@"+r,d=s+"@@"+i,_=i+"@@"+s;return t.user_key==c||t.user_key==f||!(!l(e)||c!=d&&c!=_&&n!=s)},P=function(){};P.prototype.add=function(e,t,r){if(!f(u["is_not_sync_page"])&&u["is_not_sync_page"])return t&&t();for(var n=O(),s={},a=0,c=n.length;a<c;a++){var l=n[a];s[l]=!0}for(a=0,c=e.length;a<c;a++){var _=e[a];l=_.msg_id;s[l]||(s[l]=!0,n.push(l));var g=new o(h+l);g.setItem("msg",d.stringify(_))}(0,i.default)(n).call(n,(function(e,t){return p(e,t)>0?1:p(e,t)<0?-1:0})),k.setItem("ids",d.stringify(n)),t&&t()},P.prototype.addReplace=function(e,t,r){if(!f(u["is_not_sync_page"])&&u["is_not_sync_page"])return t&&t();for(var n=T(),s={},a=0,c=n.length;a<c;a++){var l=n[a];s[l]=!0}for(a=0,c=e.length;a<c;a++){var _=e[a];l=_.msg_id;if(!s[l]){s[l]=!0,n.push(l);var p=new o(y+l);p.setItem("msg",d.stringify(_))}}(0,i.default)(n).call(n,(function(e,t){return e-t})),M.setItem("ids",d.stringify(n)),t&&t()},P.prototype.replaceMsgFind=function(e,t,r){for(var n=T(),o=-1,s=0,i=n.length;s<i;s++)if(p(n[s],e.msgid)>0){o=s;break}if(-1!==o||-1!=e.option)if(1!=e.option);else{var u=[];if(-1!=o){var a=o;for(i=n.length;a<i;a++){var c=n[a],f=L(c);if(f&&C(f,e)&&(u.push(f),u.length===e.count))break}}t&&t(u)}else t&&t([])},P.prototype.addDeleted=function(e,t,r){if(!f(u["is_not_sync_page"])&&u["is_not_sync_page"])return t&&t();for(var n=U(),s={},a=0,c=n.length;a<c;a++){var l=n[a];s[l]=!0}for(a=0,c=e.length;a<c;a++){var _=e[a];l=_.msg_id;if(s[l]){if(_.is_false_new){g=new o(w+l);var p=g.getItem("msg");try{p=d.parse(p),p&&(p._deleted_send_time||(p._deleted_send_time={},p._deleted_send_time[p.send_time]=!0),p._deleted_send_time[_.send_time]=!0,_._deleted_send_time=p._deleted_send_time,g.setItem("msg",d.stringify(_)))}catch(h){}}}else{s[l]=!0,n.push(l);var g=new o(w+l);g.setItem("msg",d.stringify(_))}}(0,i.default)(n).call(n,(function(e,t){return e-t})),E.setItem("ids",d.stringify(n)),t&&t()},P.prototype.deletedMsgFind=function(e,t,r){for(var n=U(),o=[],s=0,i=n.length;s<i;s++){var u=n[s],a=j(u);a&&C(a,e)&&o.push(a)}t(o)},P.prototype.find=function(e,t,r){for(var n=O(),o=-1,s=0,i=n.length;s<i;s++)if(0==p(n[s],e.msgid)){o=s;break}if(-1==o||0!=e.option)if(1!=e.option)if(-1!=e.option);else{u=[],a=-1===o?n.length-1:o-1;for(a;a>=0;a--){c=n[a],f=R(c);if(f&&C(f,e)&&!(p(c,e.msgid)>0)&&(u.unshift(f),u.length===e.count))break}t&&t(u)}else{var u=[],a=o+1;for(i=n.length;a<i;a++){var c=n[a],f=R(c);if(f&&C(f,e)&&!(p(c,e.msgid)<0)&&(u.push(f),u.length===e.count))break}if(0==u.length&&0!==n.length){for(var l,a=n.length-1;a>-1;a--){c=n[a],f=R(c);if(f&&C(f,e)&&(l=f.other_last_showed_msg_id?f.other_last_showed_msg_id:null,l))break}t&&t(u,l)}else t&&t(u)}else{var c=n[o],f=R(c);t&&t(f)}},P.prototype.removeOld=function(e,t,r){for(var n=O(),i=-1,u=0,a=n.length;u<a;u++)if(p(n[u],e.msgid)){i=u;break}if(-1!==i){var c=[];for(u=0;u<i;u++){var f=n[u],l=R(f);if(l&&C(l,e)){c.push(u);var _=new o(h+f);_.clear("msg")}}for(var g=c.length-1;g>=0;g--){f=c[g];(0,s.default)(n).call(n,f,1)}k.setItem("ids",d.stringify(n)),t&&t()}else t&&t([])},P.prototype.setUnreadIndex=function(e,t,r){(f(e)||f(e.unread_index))&&r&&errror(),A.setItem("number",e.unread_index),t&&t()},P.prototype.getUnreadIndex=function(e,t){e&&e(A.getItem("number"))},P.prototype.clearAll=function(e,t){for(var r=O(),n=0,s=r.length;n<s;n++){var i=r[n],u=new o(h+i);u.clear("msg")}k.clear("ids"),S.clear("refer"),e&&e()},P.prototype.setRefer=function(e,t,r,n){var o=I();o[t]=e,S.setItem("refer",d.stringify(o)),r&&r()},P.prototype.getRefer=function(e,t,r){var n=I(),o=n[e]?n[e]:null;t&&t(o)},P.prototype.getAllRefer=function(e,t){var r=d.parse(S.getItem("refer")||"{}");e&&e(r)},P.prototype.addField=function(e,t,r){var n=O(),s=[],i=n.length-1;for(i;i>=0;i--){var u=n[i],a=R(u);if(a&&C(a,e)){a=_(!0,a,e);var c=new o(h+u);c.setItem("msg",d.stringify(a))}}t&&t(s)},e.exports=new P},FHuo:function(e,t,r){"use strict";var n=r("pevS"),o=r("3uAa").filter,s=r("nJYk"),i=r("MCtm"),u=s("filter"),a=i("filter");n({target:"Array",proto:!0,forced:!u||!a},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},FMNM:function(e,t,r){var n=r("xrYK"),o=r("kmMV");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var s=r.call(e,t);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},"FN+V":function(e,t,r){var n=r("mIMY"),o=r("DPDV"),s=r("ogVW"),i=r("b42z");e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(i(e)),r=s.f;return r?t.concat(r(e)):t}},FRmQ:function(e,t,r){r("vfRR");var n=r("oWnS");e.exports=n("Array").find},FWHo:function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},FZtP:function(e,t,r){var n=r("2oRo"),o=r("/byt"),s=r("F8JR"),i=r("kRJp");for(var u in o){var a=n[u],c=a&&a.prototype;if(c&&c.forEach!==s)try{i(c,"forEach",s)}catch(f){c.forEach=s}}},FvEI:function(e,t,r){r("UUWy"),r("Pkew");var n=r("2fOL");e.exports=n},"G+Rx":function(e,t,r){var n=r("0GbY");e.exports=n("document","documentElement")},G9WS:function(e,t){function r(e){return e&&e.__esModule?e:{default:e}}e.exports=r},GHVm:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},GWfs:function(e,t,r){var n=r("OsYe"),o=r("/5b1").trim,s=r("gfA+"),i=n.parseInt,u=/^[+-]?0[Xx]/,a=8!==i(s+"08")||22!==i(s+"0x16");e.exports=a?function(e,t){var r=o(String(e));return i(r,t>>>0||(u.test(r)?16:10))}:i},GarU:function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},HAoi:function(e,t,r){"use strict";var n=r("1jut"),o=r("j5XY");e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},HAuM:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},HCkw:function(e,t,r){r("/JNE"),r("b4mI"),r("i3tW"),r("42Pb"),r("ZNvi"),r("IqmU"),r("kIAf"),r("Dmep"),r("5pn2"),r("58wy"),r("LoXx"),r("mA47"),r("msS4"),r("J04u"),r("jQUo"),r("7wkN"),r("qhvP"),r("Ui3k"),r("gXaK"),r("0axM");var n=r("dktu");e.exports=n.Symbol},HH4o:function(e,t,r){var n=r("tiKp"),o=n("iterator"),s=!1;try{var i=0,u={next:function(){return{done:!!i++}},return:function(){s=!0}};u[o]=function(){return this},Array.from(u,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!s)return!1;var r=!1;try{var n={};n[o]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(a){}return r}},HNyW:function(e,t,r){var n=r("NC/Y");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},HTq5:function(e,t,r){"use strict";var n=r("pevS"),o=r("39uu"),s=r("YiBS"),i=r("RQhY"),u=r("ZyXh"),a=r("pCEo"),c=r("bBVJ"),f=r("A2Ma"),l=r("nJYk"),d=r("MCtm"),_=l("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),g=f("species"),h=[].slice,m=Math.max;n({target:"Array",proto:!0,forced:!_||!p},{slice:function(e,t){var r,n,f,l=a(this),d=u(l.length),_=i(e,d),p=i(void 0===t?d:t,d);if(s(l)&&(r=l.constructor,"function"!=typeof r||r!==Array&&!s(r.prototype)?o(r)&&(r=r[g],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return h.call(l,_,p);for(n=new(void 0===r?Array:r)(m(p-_,0)),f=0;_<p;_++,f++)_ in l&&c(n,f,l[_]);return n.length=f,n}})},HYAF:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},Hd5f:function(e,t,r){var n=r("0Dky"),o=r("tiKp"),s=r("LQDL"),i=o("species");e.exports=function(e){return s>=51||!n((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},Hl3M:function(e,t,r){var n=r("G9WS"),o=r("LYCE"),s=r("HnXd"),i=r("qjzJ"),u=r("RXMP"),a=r("fHi0"),c=r("5PDf"),f=r("OWCx"),l=r("+oHS");r("sMBO"),r("qePV"),r("07d7"),r("TWNs"),r("rB9j"),r("JfAA"),r("UxlC"),r("EnZy");var d=n(r("o+MX")),_=n(r("M5Mt")),p=n(r("526F")),g=n(r("04Ix")),h=n(r("RXMP")),m=n(r("+oHS")),v=n(r("Kwsy")),y=n(r("5PDf")),b=n(r("ZbhI")),w=n(r("guyh"));function x(e,t){var r=l(e);if(f){var n=f(e);t&&(n=c(n).call(n,(function(t){return a(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)u(r=x(Object(n),!0)).call(r,(function(t){(0,g.default)(e,t,n[t])}));else if(i)s(e,i(n));else{var c;u(c=x(Object(n))).call(c,(function(t){o(e,t,a(n,t))}))}}return e}var k=r("t2eQ");k.set("web");var M=r("tMi5"),E=r("0BFm"),A=r("Uwh9"),I=A.fnEmpty,O=A.isEmpty,T=A.inherits,U=A.each,R=A.extend,L=A.toString,j=A.jsonHandler,C=A.strToNumCompare,P=A.paramsChecker,F=A.actionThrottle,B=M.isGroupUser,D=M.getContactInfo,N=M.msgOperatorReplace,G=M.systemGroupKey,W=M.isShopModeUser,q=M.getUserAndShopInfo,H=M.getShopKey,Y=M.isGroupSource,J=M.isMeSender,K=r("1Fqx"),V=r("Bwsg"),X=r("kXmp"),z=r("+vPT"),Q=r("pl/f"),Z=r("rXEH"),$=r("hIjh"),ee=r("vLop"),te=(r("kWLn"),r("8Ex0")),re=(r("IeyT"),r("b0FF")),ne=r("Uwh9").urlConvert,oe=r("QbSn"),se=r("eAFf"),ie=r("xzMW"),ue=r("mNsz"),ae=r("9eTe"),ce=r("lmK3"),fe="web",le=r("4dMV"),de=(r("rXEH"),function(e){var t=[];return U(e,(function(e,r){t.push(r.user)})),t}),_e=F(500,10,(function(e){for(var t=[],r=[],n=0;n<e.length;n++)O(e[n])||("client_msgs"==e[n].type?t.push(e[n].msg):"show_failed"==e[n].type&&r.push(e[n].msg));ee.reportmsg({client_msgs:t,show_failed:r})})),pe=new te({ack:function(e,t,r){if("message"==e.valueType||"commandmsg"==e.valueType){for(var n=e.value,o=ge(n),s=[],i=0;i<o.length;i++){for(var u={},a=[],c=o[i].msg_list,f=0;f<c.length;f++)A.isEmpty(c[f].sender_id)||A.isEmpty(c[f].sender_source)||A.isEmpty(c[f].to_id)||A.isEmpty(c[f].to_source)||A.isEmpty(c[f].msg_id||c[f].read_time&&c[f].read_time+""!=="0")||a.push(c[f].msg_id);u={sender_id:o[i].sender_id,sender_source:o[i].sender_source,to_id:c[0].to_id,to_source:c[0].to_source,msg_ids:a},s.push(u)}if(0===s.length)return t&&t(!0);z.ackMsgBatch(s,(function(){t&&t()}),(function(){t&&t(!0)}))}else r&&r()}}),ge=function(e){if("[object Array]"!=Object.prototype.toString.call(e))return[];for(var t={},r=0,n=e.length;r<n;r++){var o=e[r];"string"==typeof o.content&&(o.content=j.parse(o.content)),o.sender_source=M.covertSourceType(o.sender_source),o.to_source=M.covertSourceType(o.to_source);o.sender_id,o.sender_source;var s=o.sender_id+"@"+o.sender_source;s+=":"+o.to_id+"@"+o.to_source,t[s]?t[s].push(o):t[s]=[o]}var i=[];return U(t,(function(e,t){var r=e.split(":");if(r&&2===r.length){var n=r[0],o=r[1];n&&n.length&&o&&o.length&&(n&&(n=n.split("@")),o&&(o=o.split("@")),n&&2===n.length&&o&&2===o.length&&i.push({sender_id:n[0],sender_source:M.covertSourceType(n[1]),to_id:o[0],to_source:M.covertSourceType(o[1]),msg_list:(0,w.default)(t).call(t,(function(e,t){return C(e.msg_id,t.msg_id)<0?1:C(e.msg_id,t.msg_id)>0?-1:0}))}))}})),i},he=function(e,t){var r=e.type,n=e.data;U(n,(function(e,t){"msg"!=r||A.isEmpty(t.options)||A.isEmpty(t.options.replace)||"string"!==typeof t.options.replace||(t.options.replace=j.parse(t.options.replace),t={msg_id:t.msg_id,msg_type:t.msg_type,sender_id:t.sender_id,sender_source:t.sender_source,show_type:t.show_type,to_id:t.to_id,to_source:t.to_source,content:t.options.replace.content,replace:t.options.replace});var n=oe.get();if((t.sender_id+"@"+t.sender_source=="SYSTEM_SENDER@1999"||t.origin_sender_id+"@"+t.origin_sender_source=="SYSTEM_SENDER@1999")&&t.replace.msg_id){var o=z.getMsgById(t.replace.msg_id);o?(t.sender_id=o.sender_id,t.sender_source=o.sender_source,t.kf_id=o.kf_id,t.kf_source=o.kf_source):W(t)&&z.getMsgByIdFromDb(t.replace.msg_id,(function(e){O(e)||(t.kf_id=e.kf_id,t.kf_source=e.kf_source)}))}var s=t.replace.content;if("modify_msg"==t.replace.show_type&&t.sender_id===n.user_id&&t.sender_source==n.user_source){"string"===typeof s&&(s=j.parse(s)),t.content._replaceMsg=s.text;var i=s.text.substring(0,s.operator.pos_start)+"你"+s.text.substring(s.operator.pos_end);t.replace.content.text=i}else if("modify_msg"==t.replace.show_type){var u;o=z.getMsgById(t.replace.msg_id);if(O(o)||O(o.sender_info)||O(o.sender_info.remark)||(u=o.sender_info.remark.remark_name),"string"===typeof s&&(s=j.parse(s)),t.content._replaceMsg=s.text,u){i=s.text.substring(0,s.operator.pos_start)+u+s.text.substring(s.operator.pos_end);t.replace.content.text=i}var a=$.getGroupMemberUserInfoFromLocal(t.to_id+"@"+t.to_source,t.sender_id+"@"+t.sender_source);if(!A.isEmpty(a)&&!A.isEmpty(a.nick_name)){var c;"string"===typeof s&&(s=j.parse(s));var f=(0,b.default)(c=s.text).call(c,"撤回一条消息");i=-1!==f?(A.isEmpty(a.nick_name)?a.user_name:a.nick_name)+s.text.substring(f):s.text,t.replace.content.text=i}}}));var o=[];if(U(n,(function(e,t){if(t.sender_id!=t.to_id||t.sender_source!=t.to_source){var r=z.isNeedShow(t);r&&o.push(t)}})),0!==o.length){var s=[],i={};U(o,(function(e,t){if(!t.options||t.options.client_only+""!="1"&&t.options.client_once+""!="1")s.push(t);else{var r,n=oe.get();t.sender_id+""===n.user_id+""&&t.sender_source+""===n.user_source||(r=t.sender_id+"@"+t.sender_source,i[r]||(i[r]=[]),i[r].length>0&&C(i[r][0].msg_id,t.msg_id)>0?i[r].unshift(t):i[r].push(t))}})),z.saveReplaceMsgs(s);var u={};U(o,(function(e,t){var r,n=J(t);if(n&&t.options&&t.options.sender_hide&&"1"===L(t.options.sender_hide))return!0;var o=oe.get(),s=o.user_id+"@"+o.user_source;r=n||!n&&s!=t.to_id+"@"+t.to_source&&s!=t.kf_id+"@"+t.kf_source?t.to_id+"@"+t.to_source:t.sender_id+"@"+t.sender_source,r=W(t)&&-1==(0,b.default)(r).call(r,"@@")?r+"@@"+H(t):r,u[r]=t}));var a=[];U(u,(function(e,t){var r=e.split("@"),n=r[0],o=r[1],s=A.isEmpty(t.replace)||"string"!==typeof t.replace?t.replace:j.parse(t.replace),i=z.getLastMsg(e)?z.getLastMsg(e):{},u=s&&s.msg_id?s.msg_id:"";-1==t.at_index&&0==t.at_msg_id&&i&&i.at_info&&i.at_index>0&&i.at_msg_id>0&&(t.at_index=i.at_index,t.at_msg_id=i.at_msg_id,t.at_info=i.at_info,t.showed_count=i.showed_count,t.extendAt=!0);var c,f=z.getMsgById(u);O(f)&&0==C(i.msg_id,u)&&(f=i);var l=function(e){return e.at_info="{}",e.at_index=-1,e.at_msg_id="0",e.extendAt=!1,e};if(!O(f)){var d=j.parse(f.at_info_origin);if(!O(d)&&!O(d.targets)&&d.targets.length){var _,p=oe.get(),g=p.user_id+"@"+p.user_source;c=(0,y.default)(_=d.targets).call(_,(function(e){var t=e.id+"@"+e.source;return g==t})),t.at_info_origin=f.at_info_origin}}if("modify_msg"==t.show_type&&0==C(u,i.msg_id)){var h=s.content,m=h.text,v={content:{msg:m,type:"modify_msg"},send_time:A.isEmpty(t.send_time)?(new Date).getTime():t.send_time,msg_id:i.msg_id,msg_index:t.msg_index,msg_type:i.msg_type,msg_status:i.msg_status,showed_count:!A.isEmpty(i.showed_count)&&(A.isEmpty(t.showed_count)||Number(i.showed_count)>Number(t.showed_count))?i.showed_count:t.showed_count,client_only:i.options?i.options.client_only:"0",options:i.options},b={user_id:n,user_source:o};if(W(t)){var w=q(e);b.shop_id=w.shop_id,b.shop_source=w.shop_source}!O(c)&&c.length>0&&(t=l(t)),a.push({user:b,msg:R(!0,{},t,v)})}else if("modify_msg"==t.show_type&&C(u,i.msg_id)<0&&!O(c)&&c.length>0){i&&i.at_index>0&&i.at_info&&i.at_msg_id>0&&z.setLastMsg(e,l(i));var x=Z.getLastShowMsg(e);x&&x.at_index>0&&x.at_info&&x.at_msg_id>0&&Z.setLastShowMsg(e,l(x))}})),Z.insert(a),t&&t(o)}},me={};window.WebIMSDK=T(E,{constructor:function(e){E.call(this,V),this._loginstatus=!1,this._loginstatusTimer=null,this._isFirstConnect=!0,this._groupMemberUserStorer=function(){var e={};return{get:function(t){return e[t]||{}},set:function(t,r){e[t]=r}}}(),function(t){t.init(e),t.userCore._options.getLoadedUsers=function(e){var t=Z.getAllSessions();e(de(t))},pe.addEventListener(ie.logout,(function(e){t.stop(e)})),pe.addEventListener(ie.connectchange,(function(e,r){t.triggerEvent(ie.connectchange,e,r),e&&z.getUnreadIndexDB((function(e){!O(e)&&Number(e)>=Number(t.cometCommonParams.unread_index)&&(Number(e)>Number(t.cometCommonParams.unread_index)&&ce.setCommonParams({unread_index:e}),ce.getCommonParams().unread_index>1&&(0,v.default)((function(){ue(se.init.name,null,null,(function(){}),(function(){}))}),1e3))}))})),pe.addEventListener(ie.heartBeat,(function(e){t.triggerEvent(ie.heartBeat,e)})),pe.addEventListener(ie.msgReceived,(function(e){if(!O(e)&&e.length>0){var r=Z.getLastSession(),n=r[0],o=e[e.length-1];if("1"==o.offline_flag&&!O(n)&&!O(n.msg)&&C(n.msg.msg_id,o.msg_id)>0)return void(O(o)||O(o.unread_index)||z.getUnreadIndexDB((function(e){(O(e)||!O(e)&&Number(o.unread_index)>Number(e))&&z.setUnreadIndexDB({unread_index:o.unread_index})})))}var s=[],i=[];if(U(e,(function(e,t){var r=t.content,n=D(t),o=n.user_key,u=n.user_id,a=n.user_source;if(O(t)||O(t.unread_index)||z.getUnreadIndexDB((function(e){(O(e)||!O(e)&&Number(t.unread_index)>Number(e))&&z.setUnreadIndexDB({unread_index:t.unread_index})})),"operation_tip"===t.show_type){var c=$.getGroupInfoFromLocal(u,a);switch(r.op_type){case"change_group_name":if(!O(c)){var f,l="更改群名称为：";c.user_name=O(r.default_text)||-1===(0,b.default)(f=r.default_text).call(f,l)?c.user_name:r.default_text.split(l)[1];var d={};d[o]=c,$.setGroupInfoToLocal(d)}break;case"join_invite":case"join":case"rm_from_group":case"tranfer_group_owner":var _=$.getGroupMemberUserInfoFromLocal();t=N(t,_);break;default:break}}t.options&&t.options.replace?i.push(t):(!t.options||t.options&&t.options.sdk_hide+""!="0")&&s.push(t)})),0!=i.length){var u={type:"msg",data:e};he.call(t,u,(function(e){var r=ge(e);t.triggerEvent(ie.replaceMsgReceived,r)}))}if(0!=s.length){var a=[];if(U(s,(function(e,t){if(t.sender_id!=t.to_id||t.sender_source!=t.to_source){var r=z.isNeedShow(t);if(r){if(!O(t)&&!O(t.replace)){var n=[];B(t)&&(n=$.getGroupMemberUserInfoFromLocal()),t=N(t,n)}if("image"===t.show_type&&t.content&&(t.content.url=ne(t.content.url+"")),"audio"===t.show_type){var o=t.content.url;t.content.url=re["audio-converter"](o),t.content.oldUrl=o}a.push(t)}}})),0!==a.length){var c=[],f={};U(a,(function(e,t){if(t.options&&t.options.client_only+""==="1"&&t.options.client_once+""==="1"){var r,n=oe.get();t.sender_id+""===n.user_id+""&&t.sender_source+""===n.user_source||(r=t.sender_id+"@"+t.sender_source,f[r]||(f[r]=[]),f[r].length>0&&C(f[r][0].msg_id,t.msg_id)>0?f[r].unshift(t):f[r].push(t))}else c.push(t)})),z.saveMsgs(c),0!=(0,m.default)(f).length&&t.triggerEvent(ie.falseNews,f);var l={},d={};U(a,(function(e,t){var r=D(t),n=r.isMeSender;if(n&&t.options&&t.options.sender_hide&&"1"===L(t.options.sender_hide))return!0;var o=r.user_key,s=H(t);O(s)||(o+="@@"+s),l[o]?C(l[o].msg_id,t.msg_id)<0&&!A.isEmpty(t.msg_status)&&t.msg_status+""!=="2"&&(l[o]=t):l[o]=t;var i=W(l[o])&&-1==(0,b.default)(o).call(o,"@@")?o+"@@"+H(l[o]):o;z.setLastMsg(i,l[o]);var u=Z.getSession(o),a=l[o],c=a.showed_count,f=a.msg_index,_=f-c;if(O(u)||O(u.msg)||O(u.msg.msg_index)||O(l[o])||O(l[o].msg_index)){var p=Z.getLatestSession();!O(p)&&!O(p.msg)&&C(p.msg.msg_id,a.msg_id)>0||(d[o]=_)}else{var g=u.msg.msg_index;if(B(a)||"1"==a.offline_flag){var h=u.msg.showed_count;c=Math.max(h,c),f=Math.max(g,f),_=f-c,a.showed_count=c}f>g&&(d[o]=_)}}));var _=[],p=z.getAllUnreadAmount(_);U(d,(function(e,t){var r=p[e]||0;t=t<0?0:t;var n=t-r;_.push({contact:e,num:n})})),z.saveUnreadNum(_);var g=[];U(l,(function(e,t){if(!O(t.unread_index)&&t.unread_index>0){var r=Z.getLatestSession();if(!O(r)&&!O(r.msg)&&C(r.msg.msg_id,t.msg_id)>0)return!0}var n,o,s=e;if(-1!==(0,b.default)(e).call(e,"@@")){var i=e.split("@@");s=i[0];var u=i[1].split("@");n=u[0],o=u[1]}var a=s.split("@"),c=a[0],f=a[1],l="string"===typeof t.content?j.parse(t.content):t.content;t.client_only=t.options?t.options.client_only:"0",t.content=l,t.msg_status=O(t.msg_status)?"0":t.msg_status;var d=Z.getLastShowMsg(s),_=t.sender_id+"@"+t.sender_source,p=oe.get(),h=p.user_id+"@"+p.user_source;t.at_info_origin=t.at_info,-1==t.at_index&&0==t.at_msg_id&&d&&d.at_info&&d.at_index>0&&d.at_msg_id>0&&(t.at_index=d.at_index,t.at_msg_id=d.at_msg_id,t.at_info=d.at_info,t.showed_count=d.showed_count,t.extendAt=_!=h);var m={user:{user_id:c,user_source:f},msg:t};O(n)||O(o)||(m.user.shop_id=n,m.user.shop_source=o,m.user.is_shop_mode=!0),g.push(m),Z.setLastShowMsg(e,t)})),Z.insert(g);var h=ge(a);t.triggerEvent(ie.msgReceived,R(!0,[],h));for(var v=0,y=h.length;v<y;v++){var w=h[v].msg_list,x=h[v].sender_id,S=h[v].sender_source,k=t._filterReferMsg(x,S,w);if(k){var M=x+"@"+S,E=O(k.referMsgIndex)?0:k.referMsgIndex,I=H(w[E]);O(I)||(M+="@@"+I),delete k.referMsgIndex,z.setRefer(M,k)}}}}})),pe.addEventListener(ie.uploadauditChange,(function(e){t.triggerEvent(ie.uploadauditChange,e)})),pe.addEventListener(ie.cmdmsgReceived,(function(e,r){if("replaceMsgReceived"===e){var n={type:"cmd",data:r};he.call(t,n,(function(e){var r=ge(e);t.triggerEvent(ie.replaceMsgReceived,r)}))}else if("callMsgReceived"===e){var o=ge(r);t.triggerEvent(ie.callMsgReceived,o)}else if("otherReadUpdate"==e)t.triggerEvent(ie.otherReadUpdate,r),z.saveOtherReadUpdate(r);else if("unreadUpdate"==e){if(O(r)||0==r.length)return;var s=[];U(r,(function(e,t){for(var r=t.content,n=0;n<r.length;n++){var o=r[n],i=o.user_id,u=o.user_source,a=o.showed_count,c=i+"@"+u;O(o)||O(o.shop_id)||O(o.shop_source)||o.shop_id!==i&&o.shop_source!==u&&(c+="@@"+o.shop_id+"@"+o.shop_source);var f=Z.getLastShowMsg(c);if(!O(i)&&!O(u)&&!O(f)&&!O(f.showed_count)&&!O(f.msg_index)&&f.showed_count!=a){var l=Number(f.msg_index)-Number(a);s.push({contact:c,num:l}),f&&f.showed_count!=a&&(f.showed_count=a,Z.setLastShowMsg(c,f))}}})),z.syncUnreadNum(s)}else if("groupOperation"==e)U(r,(function(e,t){var r=t.content,n=D(t),o=n.user_key,s=n.user_id,i=n.user_source;switch(r.op_type){case"modify_group_member":var u=$.getGroupMemberFromLocal(s,i);if(!O(r.modify_group_member)&&r.modify_group_member.length){var a,c=[];(0,h.default)(a=r.modify_group_member).call(a,(function(e){var t=$.getGroupInfoFromLocal(s,i);if(!O(t)){var r={};t.msg_set={ses_top:e.ses_top,silent:e.slient},r[o]=t,$.setGroupInfoToLocal(r)}var n=Z.getSession(o);n.user.ses_top=e.ses_top,n.user.silent=e.slient,n.user.update_time=(new Date).getTime(),c.push(n)})),Z.insert(c)}if(!O(r.modify_groupmembers)&&r.modify_groupmembers.length){var f,l,d,_,p=s+"@"+i,g=O(u)?null:R(!0,{},u);if(O(g))return;g.members=[],X.groupAt.get(p,(function(e){_=e}),(function(){_={}})),(0,h.default)(f=r.modify_groupmembers).call(f,(function(e){e.user_id&&e.user_source&&(d=e.user_id+"@"+e.user_source,l=$.getGroupMemberUserInfoFromLocal(p,d),O(l)||(l=R(!0,{},l),O(e.authority)||(l.authority=e.authority),l.nick_name=e.nick_name,l.nick_spell=e.nick_spell,g&&g.members.push(l)),O(_)||O(_.data)||O(_.data[d])||(_.data[d].nick_name=e.nick_name,_.data[d].nick_spell=e.nick_spell))})),g&&g.members.length&&$.replaceGroupMemberToLocal(p,g,(function(e,t){return e&&t&&t.user_id===e.user_id&&t.user_source===e.user_source})),O(_)||X.groupAt.set(p,_)}break;case"modify_group_info":var m=$.getGroupInfoFromLocal(s,i);if(!O(m)&&!O(r.modify_groupinfo)){var v={};m.avatar=O(r.modify_groupinfo.avatar)?m.avatar:r.modify_groupinfo.avatar,m.desc=r.modify_groupinfo.desc,m.auth_modify=O(r.modify_groupinfo.auth_modify)?m.auth_modify:r.modify_groupinfo.auth_modify,m.auth_notice=O(r.modify_groupinfo.auth_notice)?m.auth_notice:r.modify_groupinfo.auth_notice,m.auth_invite=O(r.modify_groupinfo.auth_invite)?m.auth_invite:r.modify_groupinfo.auth_invite,v[o]=m,$.setGroupInfoToLocal(v)}break;default:break}}));else if("userOperation"==e){var i={},u=[],a={sessions:[],isCacha:!0},c=[],f=[];U(r,(function(e,t){var r=t.content,n=r.user_id,o=r.user_source,s=n+"@"+o,f=Z.getSession(s);!O(f)&&f.user?(i[s]=f,u.push({user_id:n,user_source:o}),c.push(s)):a.sessions.push({other_id:n,other_source:o})})),t.userCore.getUserinfos(u,(function(e){O(e)||(U(c,(function(t,r){var n=e[r],o=i[r];if(!O(n)&&n.msg_set&&!O(o)){var s=o.user.ses_top,u=o.user.silent,a=!1;isNaN(n.msg_set.ses_top)||n.msg_set.ses_top==s||(a=!0,o.user.ses_top=n.msg_set.ses_top),isNaN(n.msg_set.silent)||n.msg_set.silent==u||(a=!0,o.user.silent=n.msg_set.silent),a&&(o.user.update_time=(new Date).getTime(),f.push(o))}})),f.length&&Z.insert(f))}),(function(){}),!0),a.sessions.length&&t.getSpecifySessionList(a,(function(e){}))}else"userMerge"==e&&U(r,(function(e,r){var n,o,s,i=S({},r.content),u=i.target,a=i.user,c=i.other;if(u&&(u=u.split("@@"),2==u.length&&(n={user_id:u[0],user_source:u[1]})),a&&(a=a.split("@@"),2==a.length&&(o={user_id:a[0],user_source:a[1]})),c&&(c=c.split("@@"),2==c.length&&(s={user_id:c[0],user_source:c[1]})),!O(n)&&!O(o)){re["auto_delete_anoymous_contact"];var f=[{user_id:n.user_id,user_source:n.user_source},{user_id:o.user_id,user_source:o.user_source},{user_id:s&&s.user_id,user_source:s&&s.user_source}];t.userCore.getUserinfos(f,(function(e){t.triggerEvent(ie.anonymousContactLogined,{contact:e[r.content.target.replace("@@","@")],newContact:e[r.content.user.replace("@@","@")],otherContact:e[r.content.other&&r.content.other.replace("@@","@")]})}),(function(){}),!0)}}))})),pe.addEventListener(ie.cometReceived,(function(e){t.triggerEvent(ie.cometReceived,e)})),t.userCore.addEventListener(ie.contactOnlineStatusChanged,(function(e){t.triggerEvent(ie.contactOnlineStatusChanged,e)})),z.addEventListener(ie.syncAppData,(function(e){t.triggerEvent(ie.syncAppData,e)})),z.addEventListener(ie.unreadChanged,(function(e){t.triggerEvent(ie.unreadChanged,e)})),z.addEventListener(ie.referChanged,(function(e){t.triggerEvent(ie.referChanged,e)})),Z.addEventListener(ie.syncUnread,(function(e){var t=[];U(e,(function(e,r){var n=r.msg,o=r.user;if(!O(o)&&!O(o.user_id)&&!O(o.user_source)&&!O(n)&&!O(n.showed_count)&&!O(n.msg_index)){var s=o.user_id+"@"+o.user_source,i=Number(n.msg_index)-Number(n.showed_count);O(o)||O(o.shop_id)||O(o.shop_source)||(s+="@@"+o.shop_id+"@"+o.shop_source),t.push({contact:s,num:i})}})),z.syncUnreadNum(t)}));var r=function(e,r){var n=[],o=[];U(r,(function(e,t){var r=t.msg,s=t.user;if(!O(s)){var i=s.user_id+"@"+s.user_source,u=z.getLastMsg(i);O(u)&&!O(r)&&(i=W(r)&&-1==(0,b.default)(i).call(i,"@@")?i+"@@"+H(r):i,z.setLastMsg(i,r))}var a=[];if(!O(r)&&B({user_source:t.user.user_source})){B({user_source:r.sender_source})||O(r)||O(r.sender_id)||O(r.sender_source)||r.sender_id+"@"+r.sender_source===G||a.push({user_id:r.sender_id,user_source:r.sender_source});var c=t.msg.content;if(!O(c)){var f=c.operator,l=c.targets;"quit_group"===c.op_type||O(f)||O(f.id)||O(f.source)||Y(f.source)||a.push({user_id:f.id,user_source:f.source}),!O(l)&&l.length>0&&U(l,(function(e,t){Y(t.source)||a.push({user_id:t.id,user_source:t.source})})),n.push({group_id:t.user.user_id,group_source:t.user.user_source,target:a}),o.push({user_id:t.user.user_id,user_source:t.user.user_source})}}}));var s=z.getAllDeletedMsgs();if(U(r,(function(e,t){if(!O(t.user)&&t.user.is_deleted)return!0;var r;B({user_source:t.user.user_source})&&(r=$.getGroupMemberUserInfoFromLocal()),t.msg=N(t.msg,r,t.user);var n=t.user.user_id+"@"+t.user.user_source;O(t.user)||O(t.user.shop_id)||O(t.user.shop_source)||(n+="@@"+t.user.shop_id+"@"+t.user.shop_source),t.msg&&t.msg.msg_id&&!s[t.msg.msg_id]&&Z.setLastShowMsg(n,t.msg)})),0!==n.length){var i=function(e,t){$.getGroupInfo(e,(function(e){t(e)}),(function(e){t(!1)}))},u=function(e,r,n){t.getGroupMemberInfo(e,(function(e){U(r,(function(e,t){var r=t.user.user_id+"@"+t.user.user_source;if(!O(t.msg)&&W(t.msg)){var n=H(t.msg);r+="@@"+n}else O(t.user)||O(t.user.shop_id)||O(t.user.shop_source)||(r+="@@"+t.user.shop_id+"@"+t.user.shop_source);if(!O(t.user)&&!O(t.user.user_source)&&!B({user_source:t.user.user_source}))return!O(t.msg)&&Z.setLastShowMsg(r,t.msg),!0;var o=$.getGroupMemberUserInfoFromLocal();t.msg=N(t.msg,o,t.user);var i=t.user.user_id+"@"+t.user.user_source;if(O(t.msg)||!O(t.user)&&t.user.is_deleted)return!0;var u=t.msg.sender_id+"@"+t.msg.sender_source,a=$.getGroupMemberUserInfoFromLocal(i,u);t.msg.sender_info=R(!0,t.msg.sender_info,a),t.msg&&t.msg.msg_id&&!s[t.msg.msg_id]&&Z.setLastShowMsg(r,t.msg);var c=$.getGroupInfoFromLocal(t.user.user_id,t.user.user_source);if(O(c)||O(c.msg_set))return!0;t.user=!O(c.msg_set)&&R(!0,t.user,c.msg_set)})),Z.insert(r),n(r)}),(function(){n(r)}))},a={ids:o},c={group_req:n};i(a,(function(n){u(c,r,(function(r){t.triggerEvent(e,r)}))}))}else t.triggerEvent(e,r)},n=null,o=0,s=!0;Z.addEventListener(ie.sessionChanged,(function(e){if(s)r(ie.sessionChanged,e);else{var t=(new Date).getTime();t-o<50?(n&&o&&clearTimeout(n),n=(0,v.default)((function(){r(ie.sessionChanged,e)}),t-o)):(o=t,n=(0,v.default)((function(){r(ie.sessionChanged,e)}),50))}})),Z.addEventListener(ie.sessionPortChanged,(function(e){r(ie.sessionPortChanged,e)})),Z.addEventListener(ie.newSessionLoaded,(function(e,r){t.userCore.updateOnlineStatus(e,de(r))}))}(this)},init:function(e){var t;this._init(e),e.stat_dev_info&&ce.setCommonParams({device_info:ae,xxzl_smartid:"1"});var r=A.isEmpty(this.options.envs)?null:le[this.options.envs];t="WebSocket"in window?A.isEmpty(r)?A.isEmpty(this.options.ws)?A.isEmpty(this.options.comet)?"":this.options.comet:this.options.ws:r.ws:A.isEmpty(r)?A.isEmpty(this.options.comet)?"":this.options.comet:r.comet,pe.init(t,this.cometCommonParams);var n=A.isEmpty(r)?"":r.report;ee.init(n),Q.init({api:A.isEmpty(r)?A.isEmpty(this.options.uploadimg)?le["online"].uploadimg:this.options.uploadimg:r.uploadimg}),X.init()},start:function(e,t){O(e)||O(e.is_not_sync_page)||(re["is_not_sync_page"]=e.is_not_sync_page);var r=this,n=oe.get(),o=function(e){var t=3,n=function(){t--,t>0||e()};z.clearAll((function(){n()}),(function(){n()})),r.userCore.clearAll((function(){n()}),(function(){n()})),Z.clearAll((function(){n()}),(function(){n()}))},s=function(e){r.userCore.setLoginInfo(!0,(function(){e()}),(function(){e()}))},i=function(e){r.userCore.getImToken((function(t){t!=r.options.im_token?(r.userCore.setImToken(r.options.im_token),r.emptyMsg((function(){e&&e()}),(function(){e&&e()}))):e&&e()}),(function(){e&&e()}))},u=function e(){r.userCore.setLoginInfo(!0,(function(){r.triggerEvent(ie.login),r._loginstatus=!0,"web"==fe&&(r._loginstatusTimer||(r._loginstatusTimer=new K({onElapsed:function(e){r.userCore.getLoginInfo((function(t){var n=oe.get();if(!t)return e();var o=t.user,s=n.user_id!=o.user_id||n.user_source!=o.user_source;if(s&&r.triggerEvent(ie.userChanged),!t.status)return r.stop("从数据库读取出登录状态为false"),e();var i=!1;if(s?i=!0:r._loginstatus||(i=!0),!i)return e();r.stop("切换账号或者同步登录状态！"),r.options.user_id=o.user_id,r.options.user_source=o.user_source,r.userCore.getImToken((function(t){if(r.options.im_token==t)return e();r.options.im_token=t,r.init(r.options),r.start(),e()}),(function(){e()}))}),(function(){e()}))},duration:1e3}),r._loginstatusTimer.start())),r.userCore.getCometStatus((function(e){e&&1==e.isForceOff?r.userCore.setCometStatus(!1,(function(){pe.start()})):pe.start()})),Z.start(),r.userCore.start(),z.start(),t&&t()}),(function(){e()}))};new A.asynchPipe((function(e,t){r.userCore.getLoginInfo((function(t){e(t)}),(function(){e(null)}))})).then((function(t){var o=this,s=t?t.user:null;if(s)if(s&&s.is_anonymous_login&&(s.user_id!=n.user_id||s.user_source!=n.user_source)){var i={target_user_id:s.user_id,target_user_source:s.user_source};O(e)||O(e.other_user_id)||O(e.other_user_source)||(i.other_user_id=e.other_user_id,i.other_user_source=e.other_user_source),oe.saveMergeAnonymousLoginInfo({user_id:s.user_id,user_source:s.user_source}),r.triggerEvent(ie.mergeUser,"start",i),r.mergeUser(i,(function(){o.resolve(s),r.triggerEvent(ie.mergeUser,"success",i)}),(function(){o.resolve(s),r.triggerEvent(ie.mergeUser,"fail",i)}))}else this.resolve(s);else this.resolve(s)})).then((function(e){var a=!1;O(e)||e&&e.user_id==n.user_id&&e.user_source==n.user_source?O(e)||e.user_id!==n.user_id||e.user_source!==n.user_source||z.getUnreadIndexDB((function(e){O(e)||isNaN(e)||ce.setCommonParams({unread_index:e})})):(a=!0,z.setUnreadIndexDB({unread_index:1})),ue(se.init.name,null,null,(function(e){a?(r.triggerEvent(ie.loginUserChanged),o((function(){s((function(){i((function(){u()}))}))}))):i((function(){u()}))}),(function(e){t&&t(),r.triggerEvent(ie.imTokenExpired,e)}))}))},stop:function(e){pe.stop(),Z.stop(),this.userCore.stop(),z.stop(),this._loginstatus=!1,this.triggerEvent(ie.logout,e)},sendMsg:function(e){var t={msg:null,onUploadImgBegin:I,onUploadImgSuccess:I,onUploadImgFail:I,onSendMsgBegin:I,onSendMsgSuccess:I,onSendMsgFail:I};R(t,e);var r=this,n=e.msg,o=n.to_id+"@"+n.to_source,s=H(n);O(s)||(o+="@@"+s);var i=r.getRefer(o);if(i&&i.invitation){n.refer=R(!0,{},i);var u=i.invitation;n.refer.invitation.role=u.role&&"2"===u.role.toString()?"1":u.role&&"1"===u.role.toString()?"2":""}B({user_source:n.to_source})&&(n.msg_type=M.groupMsgType);var a=/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*?)\s*$/i;"image"===n.content.type&&"string"===typeof n.content.url&&a.test(n.content.url)?(t.onUploadImgBegin(),Q.upload(n.content.url,(function(e){n.content.url=e,n.content&&!A.isEmpty(e)&&A.isEmpty(n.content.image_width)||A.isEmpty(n.content.image_height)?Q.getInfo(e,(function(e){A.isEmpty(e)||(n.content.image_width=A.isEmpty(e.width)?"":e.width,n.content.image_height=A.isEmpty(e.height)?"":e.height),t.onUploadImgSuccess(n),r._send(t)}),(function(){t.onUploadImgSuccess(n),r._send(t)})):(t.onUploadImgSuccess(n),r._send(t))}),(function(e){t.onUploadImgFail(e)}))):r._send(t)},getOnlineStatus:function(){var e=this;if(3===arguments.length){var t=arguments[0],r=arguments[1],n=arguments[2],o={user_id:t};e._exchangeUid(o,(function(){e.userCore.getUserOnlineInfo(o.user_id,r,(function(e){n(e)}),(function(e){n(null)}))}))}else if(2===arguments.length){var s=arguments[0];n=arguments[1],o={user_ids:s};e._exchangeUid(o,(function(){e.userCore.getUsersOnlineInfo(o.user_ids,(function(e){n(e)}),(function(){n({})}))}))}},startOnlineTimer:function(){this.userCore.startOnlineTimer()},stopOnlineTimer:function(){this.userCore.stopOnlineTimer()},isMain:function(){return pe._isconnected},connect:function(e){pe.connect(e)},cometClose:function(){pe.close()},isLogined:function(){return this._loginstatus},emptyMsg:function(e,t){z.clearAll(e,t)},getWosToken:function(e,t,r){var n={sender_id:e.sender_id,to_id:e.to_id};this._exchangeUid(n,(function(){e.sender_id=O(n.sender_id)?e.sender_id:n.sender_id,e.to_id=O(n.to_id)?e.to_id:n.to_id,z.getWosToken(e,t,r)}))},notifyHunter:function(e,t,r){var n={sender_id:e.sender_id,to_id:e.to_id};this._exchangeUid(n,(function(){e.sender_id=O(n.sender_id)?e.sender_id:n.sender_id,e.to_id=O(n.to_id)?e.to_id:n.to_id,z.notifyHunter(e,t,r)}))},checkFile:function(e,t,r){z.checkFile(e,t,r)},getLocalAtContactsMembers:function(e){var t;return X.groupAt.get(e,(function(e){t=e}),(function(){t={}})),t},updateAtContactsMember:function(e,t){var r,n;t&&t.length&&(X.groupAt.get(e,(function(e){n=e}),(function(){n={}})),(0,h.default)(t).call(t,(function(e){r=e.user_id+"@"+e.user_source,O(n)||O(n.data)||(n.data[r]=(0,p.default)(n.data[r],e))})),X.groupAt.add(e,n))},deleteAtContactsMember:function(e,t){var r,n;t&&t.length&&(X.groupAt.get(e,(function(e){n=e}),(function(){n={}})),(0,h.default)(t).call(t,(function(t){if(r=t.user_id+"@"+t.user_source,$.deleteGroupMemberFromLocal(e,t.user_id,t.user_source),!O(n)&&!O(n.data)&&(delete n.data[r],isNaN(n.count)||n.count--,n.id_sources&&n.id_sources.length)){var o,s,i=(0,b.default)(o=n.id_sources).call(o,r);if(i>=0)(0,_.default)(s=n.id_sources).call(s,i,1)}})),X.groupAt.add(e,n))},groupAtContacts:function(e,t,r,n){var o,s=this,i=e+"@"+t,u=$.getGroupInfoFromLocal(e,t);if(X.groupAt.get(i,(function(e){o=e}),(function(){o={}})),me[i]||(me[i]=n=!0),n||O(o)||!o.loaded){if(!o.loading){X.groupAt.add(i,{loading:!0,loaded:!1});new A.asynchPipe((function(r,o){var i=$.getGroupMemberFromLocal(e,t),c=i&&i.members&&i.members.length&&!n?i.members.length:0,f={};if(!n&&u&&u.group_info&&!isNaN(u.group_info.current_count)&&u.group_info.current_count==c){var l=a(i.members);r(l.id_sources,l.dict)}else{var d=[],_={group_id:e,group_source:t,old_version:0,receive_count:c,last_member_id:c?i.members[c-1].user_id:null,last_member_source:c?i.members[c-1].user_source:null,count:null,clear:n};s.getGroupMember(_,(function(e){var t;e&&e.members&&(0,h.default)(t=e.members).call(t,(function(e){f[e.user_id+"@"+e.user_source]||(d.push({user_id:e.user_id,user_source:e.user_source}),f[e.user_id+"@"+e.user_source]={user_id:e.user_id,user_source:e.user_source,name_spell:e.name_spell||"",nick_name:e.nick_name||"",user_name:""})})),r(d,f)}),(function(){o()}))}})).then((function(e,t){var r,n=this,o=[];s.getContact(e,(function(s){(0,h.default)(e).call(e,(function(e){r=e.user_id+"@"+e.user_source,o.push(r),t[r]&&s[r]&&(t[r]["user_name"]=s[r]["user_name"]||"",t[r]["avatar"]=s[r]["avatar"]||"",t[r]["remark_name"]=s[r]["remark"]&&s[r]["remark"]["remark_name"]?s[r]["remark"]["remark_name"]:"")})),n.resolve(t,o)}))}),(function(){this.reject()})).then((function(e,t){X.groupAt.add(i,{data:R(!0,{},e),count:t.length,id_sources:t,loading:!1,loaded:!0}),r&&r(R(!0,{},e),t,t.length)}),(function(){X.groupAt.add(i,{})}))}}else r&&r(o.data,o.id_sources,o.count);function a(e){var t={},r=[];return(0,h.default)(e).call(e,(function(e){t[e.user_id+"@"+e.user_source]=e,r.push({user_id:e.user_id,user_source:e.user_source})})),{dict:t,id_sources:r}}},groupAtFilter:function(e,t,r){function n(e,t){var r=new RegExp("[^a-zA-Z]+","gi"),n=r.exec(t),s=[],i={},u=[],a=[],c=0;if(!t)return u;while(n)s=(0,d.default)(s).call(s,n),n=r.exec(t);return s.length>0?(c+=o(e,t,"user_name",i,a),c+=o(e,t,"nick_name",i,a)):(c+=o(e,t,"user_name",i,a),c+=o(e,t,"name_spell",i,a),c+=o(e,t,"nick_name",i,a),c+=o(e,t,"nick_spell",i,a)),{data:i,count:c,list:a}}function o(e,t,r,n,o){var s,i=n||{},u=o||[],a=["user_name","name_spell","nick_name","nick_spell"],c=0;if(r&&!((0,b.default)(a).call(a,r)<0)){for(var f in e){var l;if(e.hasOwnProperty(f))s=e[f],s&&s[r]&&(0,b.default)(l=s[r]).call(l,t)>=0&&!i[f]&&(i[f]={user_id:s.user_id,user_source:s.user_source,name_spell:s.name_spell,nick_name:s.nick_name,nick_spell:s.nick_spell,user_name:s.user_name,remark_name:s.remark_name},u.push(f),c++)}return c}}var s=n(e,t);r&&r(s)},cardAjax:function(e,t,r,n,o){z.cardAjax(e,t,r,n,o)},withdrawMessage:function(e,t,r){var n=[["sender_id","string"],["sender_source","number"],["msg_id","string"],["to_id","string"],["to_source","number"]],o=P(e,n);o.full?z.withdrawMessage(e,t,r):r&&r(new Error("参数错误"))},reportMessages:function(e){var t=O(e)||O(e.client_msgs)||!e.client_msgs.length?[]:e.client_msgs,r=O(e)||O(e.show_failed)||!e.show_failed.length?[]:e.show_failed;if(t.length||r.length){var n,o,s=[];for(n=0;n<t.length;n++)o=t[n],O(o)||s.push({msg:{sender_id:o.sender_id,sender_source:o.sender_source,sender_device_id:o.sender_device_id,to_device_id:o.to_device_id,to_open_id:o.to_open_id,to_id:o.to_id,to_source:o.to_source,msg_type:o.msg_type,msgid:o.msg_id,show_type:o.show_type,content:o.content,refer:o.refer,show_in_app:o.show_in_app,kf_id:o.kf_id,kf_source:o.kf_source},type:"client_msgs"});for(n=0;n<r.length;n++)o=r[n],s.push({msg:{sender_id:o.sender_id,sender_source:o.sender_source,to_id:o.to_id,to_source:o.to_source,msgid:o.msg_id},type:"show_failed"});_e(s)}}})},HmPo:function(e,t,r){var n=r("Bvq2");e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},HnXd:function(e,t,r){e.exports=r("LT9b")},"I+eb":function(e,t,r){var n=r("2oRo"),o=r("Bs8V").f,s=r("kRJp"),i=r("busE"),u=r("zk60"),a=r("6JNq"),c=r("lMq5");e.exports=function(e,t){var r,f,l,d,_,p,g=e.target,h=e.global,m=e.stat;if(f=h?n:m?n[g]||u(g,{}):(n[g]||{}).prototype,f)for(l in t){if(_=t[l],e.noTargetGet?(p=o(f,l),d=p&&p.value):d=f[l],r=c(h?l:g+(m?".":"#")+l,e.forced),!r&&void 0!==d){if(typeof _===typeof d)continue;a(_,d)}(e.sham||d&&d.sham)&&s(_,"sham",!0),i(f,l,_,e)}}},I2R1:function(e,t,r){r("Dmep"),r("Pkew"),r("UUWy");var n=r("vuoM");e.exports=n.f("iterator")},I8vh:function(e,t,r){var n=r("ppGB"),o=Math.max,s=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):s(r,t)}},Ibh0:function(e,t,r){var n=r("pevS"),o=r("6dl6");n({target:"Function",proto:!0},{bind:o})},IeeE:function(e,t,r){e.exports=r("BObf")},IeyT:function(e,t,r){r("sMBO");var n=r("mNsz"),o=r("eAFf");e.exports={getCaptcha:function(e,t,r){n(o.get_captcha.name,e,null,t,r)},validateCaptcha:function(e,t,r){n(o.validate_captcha.name,e,null,t,r)}}},Ijsr:function(e,t,r){var n=r("YqT+"),o=Array.prototype;e.exports=function(e){var t=e.sort;return e===o||e instanceof Array&&t===o.sort?n:t}},ImZN:function(e,t,r){var n=r("glrk"),o=r("6VoE"),s=r("UMSQ"),i=r("A2ZE"),u=r("NaFW"),a=r("KmKo"),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var f,l,d,_,p,g,h,m=r&&r.that,v=!(!r||!r.AS_ENTRIES),y=!(!r||!r.IS_ITERATOR),b=!(!r||!r.INTERRUPTED),w=i(t,m,1+v+b),x=function(e){return f&&a(f),new c(!0,e)},S=function(e){return v?(n(e),b?w(e[0],e[1],x):w(e[0],e[1])):b?w(e,x):w(e)};if(y)f=e;else{if(l=u(e),"function"!=typeof l)throw TypeError("Target is not iterable");if(o(l)){for(d=0,_=s(e.length);_>d;d++)if(p=S(e[d]),p&&p instanceof c)return p;return new c(!1)}f=l.call(e)}g=f.next;while(!(h=g.call(f)).done){try{p=S(h.value)}catch(k){throw a(f),k}if("object"==typeof p&&p&&p instanceof c)return p}return new c(!1)}},IqmU:function(e,t,r){var n=r("m/sp");n("hasInstance")},J04u:function(e,t,r){var n=r("m/sp");n("split")},J6x8:function(e,t,r){var n=r("9Mno");e.exports=n},J712:function(e,t,r){r("pVHv");var n=r("dktu"),o=n.Object;e.exports=function(e){return o.getOwnPropertyNames(e)}},J9Gg:function(e,t,r){var n=r("vFlH");e.exports=n},JBy8:function(e,t,r){var n=r("yoRg"),o=r("eDl+"),s=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},JLQQ:function(e,t,r){r("UUWy");var n=r("vA1p"),o=r("j5XY"),s=Array.prototype,i={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===s||e instanceof Array&&t===s.forEach||i.hasOwnProperty(o(e))?n:t}},Jf4P:function(e,t,r){var n=r("9i1f"),o=r("Uwh9"),s=o.inherits;e.exports=new(s(n,{constructor:function(){n.call(this)}}))},JfAA:function(e,t,r){"use strict";var n=r("busE"),o=r("glrk"),s=r("0Dky"),i=r("rW0t"),u="toString",a=RegExp.prototype,c=a[u],f=s((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),l=c.name!=u;(f||l)&&n(RegExp.prototype,u,(function(){var e=o(this),t=String(e.source),r=e.flags,n=String(void 0===r&&e instanceof RegExp&&!("flags"in a)?i.call(e):r);return"/"+t+"/"+n}),{unsafe:!0})},JhaV:function(e,t,r){var n=r("A2Ma"),o=r("dGO/"),s=n("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||i[s]===e)}},JiZb:function(e,t,r){"use strict";var n=r("0GbY"),o=r("m/L8"),s=r("tiKp"),i=r("g6v/"),u=s("species");e.exports=function(e){var t=n(e),r=o.f;i&&t&&!t[u]&&r(t,u,{configurable:!0,get:function(){return this}})}},Jm8n:function(e,t,r){var n=r("m/sp");n("patternMatch")},Jqo0:function(e,t,r){r("/JNE");var n=r("oWnS");e.exports=n("Array").concat},KHTo:function(e,t,r){var n=r("1jut"),o=r("QYBB").f,s=r("AnMC"),i=r("eOcF"),u=r("HAoi"),a=r("A2Ma"),c=a("toStringTag");e.exports=function(e,t,r,a){if(e){var f=r?e:e.prototype;i(f,c)||o(f,c,{configurable:!0,value:t}),a&&!n&&s(f,"toString",u)}}},KUyc:function(e,t,r){r("sMBO");var n=r("QnZw"),o=r("b0FF"),s=o["prefix_name"]+"-syn",i=r("Uwh9"),u=i.jsonHandler,a=new n(s),c=function(){};c.prototype.set=function(e,t,r){a.setItem(e.name,u.stringify(e.value)),t&&t()},c.prototype.get=function(e,t,r){var n=u.parse(a.getItem(e));t&&t(n)},c.prototype.clearAll=function(e,t){a.clear("loginInfo"),a.clear("imToken"),a.clear("comet"),e&&e()},e.exports=new c},KmKo:function(e,t,r){var n=r("glrk");e.exports=function(e){var t=e["return"];if(void 0!==t)return n(t.call(e)).value}},Kwsy:function(e,t,r){e.exports=r("br0Y")},Kxu3:function(e,t,r){var n=r("BP/7");e.exports=n},Kz25:function(e,t,r){"use strict";r("PKPk");var n,o=r("I+eb"),s=r("g6v/"),i=r("DTth"),u=r("2oRo"),a=r("N+g0"),c=r("busE"),f=r("GarU"),l=r("UTVS"),d=r("YNrV"),_=r("TfTi"),p=r("ZUd8").codeAt,g=r("X7LM"),h=r("1E5z"),m=r("mGGf"),v=r("afO8"),y=u.URL,b=m.URLSearchParams,w=m.getState,x=v.set,S=v.getterFor("URL"),k=Math.floor,M=Math.pow,E="Invalid authority",A="Invalid scheme",I="Invalid host",O="Invalid port",T=/[A-Za-z]/,U=/[\d+-.A-Za-z]/,R=/\d/,L=/^(0x|0X)/,j=/^[0-7]+$/,C=/^\d+$/,P=/^[\dA-Fa-f]+$/,F=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,B=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,N=/[\u0009\u000A\u000D]/g,G=function(e,t){var r,n,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return I;if(r=q(t.slice(1,-1)),!r)return I;e.host=r}else if(Z(e)){if(t=g(t),F.test(t))return I;if(r=W(t),null===r)return I;e.host=r}else{if(B.test(t))return I;for(r="",n=_(t),o=0;o<n.length;o++)r+=z(n[o],J);e.host=r}},W=function(e){var t,r,n,o,s,i,u,a=e.split(".");if(a.length&&""==a[a.length-1]&&a.pop(),t=a.length,t>4)return e;for(r=[],n=0;n<t;n++){if(o=a[n],""==o)return e;if(s=10,o.length>1&&"0"==o.charAt(0)&&(s=L.test(o)?16:8,o=o.slice(8==s?1:2)),""===o)i=0;else{if(!(10==s?C:8==s?j:P).test(o))return e;i=parseInt(o,s)}r.push(i)}for(n=0;n<t;n++)if(i=r[n],n==t-1){if(i>=M(256,5-t))return null}else if(i>255)return null;for(u=r.pop(),n=0;n<r.length;n++)u+=r[n]*M(256,3-n);return u},q=function(e){var t,r,n,o,s,i,u,a=[0,0,0,0,0,0,0,0],c=0,f=null,l=0,d=function(){return e.charAt(l)};if(":"==d()){if(":"!=e.charAt(1))return;l+=2,c++,f=c}while(d()){if(8==c)return;if(":"!=d()){t=r=0;while(r<4&&P.test(d()))t=16*t+parseInt(d(),16),l++,r++;if("."==d()){if(0==r)return;if(l-=r,c>6)return;n=0;while(d()){if(o=null,n>0){if(!("."==d()&&n<4))return;l++}if(!R.test(d()))return;while(R.test(d())){if(s=parseInt(d(),10),null===o)o=s;else{if(0==o)return;o=10*o+s}if(o>255)return;l++}a[c]=256*a[c]+o,n++,2!=n&&4!=n||c++}if(4!=n)return;break}if(":"==d()){if(l++,!d())return}else if(d())return;a[c++]=t}else{if(null!==f)return;l++,c++,f=c}}if(null!==f){i=c-f,c=7;while(0!=c&&i>0)u=a[c],a[c--]=a[f+i-1],a[f+--i]=u}else if(8!=c)return;return a},H=function(e){for(var t=null,r=1,n=null,o=0,s=0;s<8;s++)0!==e[s]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=s),++o);return o>r&&(t=n,r=o),t},Y=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=k(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=H(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},J={},K=d({},J,{" ":1,'"':1,"<":1,">":1,"`":1}),V=d({},K,{"#":1,"?":1,"{":1,"}":1}),X=d({},V,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(e,t){var r=p(e,0);return r>32&&r<127&&!l(t,e)?e:encodeURIComponent(e)},Q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Z=function(e){return l(Q,e.scheme)},$=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var r;return 2==e.length&&T.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},re=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ne=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&te(t[0],!0)||t.pop()},oe=function(e){return"."===e||"%2e"===e.toLowerCase()},se=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},ie={},ue={},ae={},ce={},fe={},le={},de={},_e={},pe={},ge={},he={},me={},ve={},ye={},be={},we={},xe={},Se={},ke={},Me={},Ee={},Ae=function(e,t,r,o){var s,i,u,a,c=r||ie,f=0,d="",p=!1,g=!1,h=!1;r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(D,"")),t=t.replace(N,""),s=_(t);while(f<=s.length){switch(i=s[f],c){case ie:if(!i||!T.test(i)){if(r)return A;c=ae;continue}d+=i.toLowerCase(),c=ue;break;case ue:if(i&&(U.test(i)||"+"==i||"-"==i||"."==i))d+=i.toLowerCase();else{if(":"!=i){if(r)return A;d="",c=ae,f=0;continue}if(r&&(Z(e)!=l(Q,d)||"file"==d&&($(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,r)return void(Z(e)&&Q[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?c=ye:Z(e)&&o&&o.scheme==e.scheme?c=ce:Z(e)?c=_e:"/"==s[f+1]?(c=fe,f++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ke)}break;case ae:if(!o||o.cannotBeABaseURL&&"#"!=i)return A;if(o.cannotBeABaseURL&&"#"==i){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,c=Ee;break}c="file"==o.scheme?ye:le;continue;case ce:if("/"!=i||"/"!=s[f+1]){c=le;continue}c=pe,f++;break;case fe:if("/"==i){c=ge;break}c=Se;continue;case le:if(e.scheme=o.scheme,i==n)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==i||"\\"==i&&Z(e))c=de;else if("?"==i)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",c=Me;else{if("#"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),c=Se;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",c=Ee}break;case de:if(!Z(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,c=Se;continue}c=ge}else c=pe;break;case _e:if(c=pe,"/"!=i||"/"!=d.charAt(f+1))continue;f++;break;case pe:if("/"!=i&&"\\"!=i){c=ge;continue}break;case ge:if("@"==i){p&&(d="%40"+d),p=!0,u=_(d);for(var m=0;m<u.length;m++){var v=u[m];if(":"!=v||h){var y=z(v,X);h?e.password+=y:e.username+=y}else h=!0}d=""}else if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&Z(e)){if(p&&""==d)return E;f-=_(d).length+1,d="",c=he}else d+=i;break;case he:case me:if(r&&"file"==e.scheme){c=we;continue}if(":"!=i||g){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&Z(e)){if(Z(e)&&""==d)return I;if(r&&""==d&&($(e)||null!==e.port))return;if(a=G(e,d),a)return a;if(d="",c=xe,r)return;continue}"["==i?g=!0:"]"==i&&(g=!1),d+=i}else{if(""==d)return I;if(a=G(e,d),a)return a;if(d="",c=ve,r==me)return}break;case ve:if(!R.test(i)){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&Z(e)||r){if(""!=d){var b=parseInt(d,10);if(b>65535)return O;e.port=Z(e)&&b===Q[e.scheme]?null:b,d=""}if(r)return;c=xe;continue}return O}d+=i;break;case ye:if(e.scheme="file","/"==i||"\\"==i)c=be;else{if(!o||"file"!=o.scheme){c=Se;continue}if(i==n)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==i)e.host=o.host,e.path=o.path.slice(),e.query="",c=Me;else{if("#"!=i){re(s.slice(f).join(""))||(e.host=o.host,e.path=o.path.slice(),ne(e)),c=Se;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",c=Ee}}break;case be:if("/"==i||"\\"==i){c=we;break}o&&"file"==o.scheme&&!re(s.slice(f).join(""))&&(te(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),c=Se;continue;case we:if(i==n||"/"==i||"\\"==i||"?"==i||"#"==i){if(!r&&te(d))c=Se;else if(""==d){if(e.host="",r)return;c=xe}else{if(a=G(e,d),a)return a;if("localhost"==e.host&&(e.host=""),r)return;d="",c=xe}continue}d+=i;break;case xe:if(Z(e)){if(c=Se,"/"!=i&&"\\"!=i)continue}else if(r||"?"!=i)if(r||"#"!=i){if(i!=n&&(c=Se,"/"!=i))continue}else e.fragment="",c=Ee;else e.query="",c=Me;break;case Se:if(i==n||"/"==i||"\\"==i&&Z(e)||!r&&("?"==i||"#"==i)){if(se(d)?(ne(e),"/"==i||"\\"==i&&Z(e)||e.path.push("")):oe(d)?"/"==i||"\\"==i&&Z(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(i==n||"?"==i||"#"==i))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==i?(e.query="",c=Me):"#"==i&&(e.fragment="",c=Ee)}else d+=z(i,V);break;case ke:"?"==i?(e.query="",c=Me):"#"==i?(e.fragment="",c=Ee):i!=n&&(e.path[0]+=z(i,J));break;case Me:r||"#"!=i?i!=n&&("'"==i&&Z(e)?e.query+="%27":e.query+="#"==i?"%23":z(i,J)):(e.fragment="",c=Ee);break;case Ee:i!=n&&(e.fragment+=z(i,K));break}f++}},Ie=function(e){var t,r,n=f(this,Ie,"URL"),o=arguments.length>1?arguments[1]:void 0,i=String(e),u=x(n,{type:"URL"});if(void 0!==o)if(o instanceof Ie)t=S(o);else if(r=Ae(t={},String(o)),r)throw TypeError(r);if(r=Ae(u,i,null,t),r)throw TypeError(r);var a=u.searchParams=new b,c=w(a);c.updateSearchParams(u.query),c.updateURL=function(){u.query=String(a)||null},s||(n.href=Te.call(n),n.origin=Ue.call(n),n.protocol=Re.call(n),n.username=Le.call(n),n.password=je.call(n),n.host=Ce.call(n),n.hostname=Pe.call(n),n.port=Fe.call(n),n.pathname=Be.call(n),n.search=De.call(n),n.searchParams=Ne.call(n),n.hash=Ge.call(n))},Oe=Ie.prototype,Te=function(){var e=S(this),t=e.scheme,r=e.username,n=e.password,o=e.host,s=e.port,i=e.path,u=e.query,a=e.fragment,c=t+":";return null!==o?(c+="//",$(e)&&(c+=r+(n?":"+n:"")+"@"),c+=Y(o),null!==s&&(c+=":"+s)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?i[0]:i.length?"/"+i.join("/"):"",null!==u&&(c+="?"+u),null!==a&&(c+="#"+a),c},Ue=function(){var e=S(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(n){return"null"}return"file"!=t&&Z(e)?t+"://"+Y(e.host)+(null!==r?":"+r:""):"null"},Re=function(){return S(this).scheme+":"},Le=function(){return S(this).username},je=function(){return S(this).password},Ce=function(){var e=S(this),t=e.host,r=e.port;return null===t?"":null===r?Y(t):Y(t)+":"+r},Pe=function(){var e=S(this).host;return null===e?"":Y(e)},Fe=function(){var e=S(this).port;return null===e?"":String(e)},Be=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},De=function(){var e=S(this).query;return e?"?"+e:""},Ne=function(){return S(this).searchParams},Ge=function(){var e=S(this).fragment;return e?"#"+e:""},We=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(s&&a(Oe,{href:We(Te,(function(e){var t=S(this),r=String(e),n=Ae(t,r);if(n)throw TypeError(n);w(t.searchParams).updateSearchParams(t.query)})),origin:We(Ue),protocol:We(Re,(function(e){var t=S(this);Ae(t,String(e)+":",ie)})),username:We(Le,(function(e){var t=S(this),r=_(String(e));if(!ee(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=z(r[n],X)}})),password:We(je,(function(e){var t=S(this),r=_(String(e));if(!ee(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=z(r[n],X)}})),host:We(Ce,(function(e){var t=S(this);t.cannotBeABaseURL||Ae(t,String(e),he)})),hostname:We(Pe,(function(e){var t=S(this);t.cannotBeABaseURL||Ae(t,String(e),me)})),port:We(Fe,(function(e){var t=S(this);ee(t)||(e=String(e),""==e?t.port=null:Ae(t,e,ve))})),pathname:We(Be,(function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],Ae(t,e+"",xe))})),search:We(De,(function(e){var t=S(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Ae(t,e,Me)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:We(Ne),hash:We(Ge,(function(e){var t=S(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Ae(t,e,Ee)):t.fragment=null}))}),c(Oe,"toJSON",(function(){return Te.call(this)}),{enumerable:!0}),c(Oe,"toString",(function(){return Te.call(this)}),{enumerable:!0}),y){var qe=y.createObjectURL,He=y.revokeObjectURL;qe&&c(Ie,"createObjectURL",(function(e){return qe.apply(y,arguments)})),He&&c(Ie,"revokeObjectURL",(function(e){return He.apply(y,arguments)}))}h(Ie,"URL"),o({global:!0,forced:!i,sham:!s},{URL:Ie})},L1rz:function(e,t,r){var n,o,s,i=r("lulC"),u=r("OsYe"),a=r("39uu"),c=r("AnMC"),f=r("eOcF"),l=r("doUz"),d=r("su3n"),_=r("bpon"),p=u.WeakMap,g=function(e){return s(e)?o(e):n(e,{})},h=function(e){return function(t){var r;if(!a(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(i){var m=l.state||(l.state=new p),v=m.get,y=m.has,b=m.set;n=function(e,t){return t.facade=e,b.call(m,e,t),t},o=function(e){return v.call(m,e)||{}},s=function(e){return y.call(m,e)}}else{var w=d("state");_[w]=!0,n=function(e,t){return t.facade=e,c(e,w,t),t},o=function(e){return f(e,w)?e[w]:{}},s=function(e){return f(e,w)}}e.exports={set:n,get:o,has:s,enforce:g,getterFor:h}},L5f0:function(e,t,r){var n=r("39uu");e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},LGyv:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},LPSS:function(e,t,r){var n,o,s,i=r("2oRo"),u=r("0Dky"),a=r("A2ZE"),c=r("G+Rx"),f=r("zBJ4"),l=r("HNyW"),d=r("YF1G"),_=i.location,p=i.setImmediate,g=i.clearImmediate,h=i.process,m=i.MessageChannel,v=i.Dispatch,y=0,b={},w="onreadystatechange",x=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},S=function(e){return function(){x(e)}},k=function(e){x(e.data)},M=function(e){i.postMessage(e+"",_.protocol+"//"+_.host)};p&&g||(p=function(e){var t=[],r=1;while(arguments.length>r)t.push(arguments[r++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(y),y},g=function(e){delete b[e]},d?n=function(e){h.nextTick(S(e))}:v&&v.now?n=function(e){v.now(S(e))}:m&&!l?(o=new m,s=o.port2,o.port1.onmessage=k,n=a(s.postMessage,s,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts&&_&&"file:"!==_.protocol&&!u(M)?(n=M,i.addEventListener("message",k,!1)):n=w in f("script")?function(e){c.appendChild(f("script"))[w]=function(){c.removeChild(this),x(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:p,clear:g}},LQDL:function(e,t,r){var n,o,s=r("2oRo"),i=r("NC/Y"),u=s.process,a=u&&u.versions,c=a&&a.v8;c?(n=c.split("."),o=n[0]+n[1]):i&&(n=i.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/),n&&(o=n[1]))),e.exports=o&&+o},LT9b:function(e,t,r){var n=r("kw5h");e.exports=n},LYCE:function(e,t,r){e.exports=r("DkPT")},LoXx:function(e,t,r){var n=r("m/sp");n("replace")},LseE:function(e,t,r){var n=r("cWqo");e.exports=n},M5Mt:function(e,t,r){e.exports=r("tTn0")},MCtm:function(e,t,r){var n=r("wbIY"),o=r("Bvq2"),s=r("eOcF"),i=Object.defineProperty,u={},a=function(e){throw e};e.exports=function(e,t){if(s(u,e))return u[e];t||(t={});var r=[][e],c=!!s(t,"ACCESSORS")&&t.ACCESSORS,f=s(t,0)?t[0]:a,l=s(t,1)?t[1]:void 0;return u[e]=!!r&&!o((function(){if(c&&!n)return!0;var e={length:-1};c?i(e,1,{enumerable:!0,get:a}):e[1]=1,r.call(e,f,l)}))}},MKVd:function(e,t,r){var n=r("G9WS"),o=(n(r("o+MX")),0);function s(e){return u(i(a(e)))}function i(e){return f(l(c(e),8*e.length))}function u(e){for(var t,r=o?"0123456789ABCDEF":"0123456789abcdef",n="",s=0;s<e.length;s++)t=e.charCodeAt(s),n+=r.charAt(t>>>4&15)+r.charAt(15&t);return n}function a(e){var t,r,n="",o=-1;while(++o<e.length)t=e.charCodeAt(o),r=o+1<e.length?e.charCodeAt(o+1):0,55296<=t&&t<=56319&&56320<=r&&r<=57343&&(t=65536+((1023&t)<<10)+(1023&r),o++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n}function c(e){for(var t=Array(e.length>>2),r=0;r<t.length;r++)t[r]=0;for(r=0;r<8*e.length;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function f(e){for(var t="",r=0;r<32*e.length;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function l(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,n=-271733879,o=-1732584194,s=271733878,i=0;i<e.length;i+=16){var u=r,a=n,c=o,f=s;r=_(r,n,o,s,e[i+0],7,-680876936),s=_(s,r,n,o,e[i+1],12,-389564586),o=_(o,s,r,n,e[i+2],17,606105819),n=_(n,o,s,r,e[i+3],22,-1044525330),r=_(r,n,o,s,e[i+4],7,-176418897),s=_(s,r,n,o,e[i+5],12,1200080426),o=_(o,s,r,n,e[i+6],17,-1473231341),n=_(n,o,s,r,e[i+7],22,-45705983),r=_(r,n,o,s,e[i+8],7,1770035416),s=_(s,r,n,o,e[i+9],12,-1958414417),o=_(o,s,r,n,e[i+10],17,-42063),n=_(n,o,s,r,e[i+11],22,-1990404162),r=_(r,n,o,s,e[i+12],7,1804603682),s=_(s,r,n,o,e[i+13],12,-40341101),o=_(o,s,r,n,e[i+14],17,-1502002290),n=_(n,o,s,r,e[i+15],22,1236535329),r=p(r,n,o,s,e[i+1],5,-165796510),s=p(s,r,n,o,e[i+6],9,-1069501632),o=p(o,s,r,n,e[i+11],14,643717713),n=p(n,o,s,r,e[i+0],20,-373897302),r=p(r,n,o,s,e[i+5],5,-701558691),s=p(s,r,n,o,e[i+10],9,38016083),o=p(o,s,r,n,e[i+15],14,-660478335),n=p(n,o,s,r,e[i+4],20,-405537848),r=p(r,n,o,s,e[i+9],5,568446438),s=p(s,r,n,o,e[i+14],9,-1019803690),o=p(o,s,r,n,e[i+3],14,-187363961),n=p(n,o,s,r,e[i+8],20,1163531501),r=p(r,n,o,s,e[i+13],5,-1444681467),s=p(s,r,n,o,e[i+2],9,-51403784),o=p(o,s,r,n,e[i+7],14,1735328473),n=p(n,o,s,r,e[i+12],20,-1926607734),r=g(r,n,o,s,e[i+5],4,-378558),s=g(s,r,n,o,e[i+8],11,-2022574463),o=g(o,s,r,n,e[i+11],16,1839030562),n=g(n,o,s,r,e[i+14],23,-35309556),r=g(r,n,o,s,e[i+1],4,-1530992060),s=g(s,r,n,o,e[i+4],11,1272893353),o=g(o,s,r,n,e[i+7],16,-155497632),n=g(n,o,s,r,e[i+10],23,-1094730640),r=g(r,n,o,s,e[i+13],4,681279174),s=g(s,r,n,o,e[i+0],11,-358537222),o=g(o,s,r,n,e[i+3],16,-722521979),n=g(n,o,s,r,e[i+6],23,76029189),r=g(r,n,o,s,e[i+9],4,-640364487),s=g(s,r,n,o,e[i+12],11,-421815835),o=g(o,s,r,n,e[i+15],16,530742520),n=g(n,o,s,r,e[i+2],23,-995338651),r=h(r,n,o,s,e[i+0],6,-198630844),s=h(s,r,n,o,e[i+7],10,1126891415),o=h(o,s,r,n,e[i+14],15,-1416354905),n=h(n,o,s,r,e[i+5],21,-57434055),r=h(r,n,o,s,e[i+12],6,1700485571),s=h(s,r,n,o,e[i+3],10,-1894986606),o=h(o,s,r,n,e[i+10],15,-1051523),n=h(n,o,s,r,e[i+1],21,-2054922799),r=h(r,n,o,s,e[i+8],6,1873313359),s=h(s,r,n,o,e[i+15],10,-30611744),o=h(o,s,r,n,e[i+6],15,-1560198380),n=h(n,o,s,r,e[i+13],21,1309151649),r=h(r,n,o,s,e[i+4],6,-145523070),s=h(s,r,n,o,e[i+11],10,-1120210379),o=h(o,s,r,n,e[i+2],15,718787259),n=h(n,o,s,r,e[i+9],21,-343485551),r=m(r,u),n=m(n,a),o=m(o,c),s=m(s,f)}return Array(r,n,o,s)}function d(e,t,r,n,o,s){return m(v(m(m(t,e),m(n,s)),o),r)}function _(e,t,r,n,o,s,i){return d(t&r|~t&n,e,t,o,s,i)}function p(e,t,r,n,o,s,i){return d(t&n|r&~n,e,t,o,s,i)}function g(e,t,r,n,o,s,i){return d(t^r^n,e,t,o,s,i)}function h(e,t,r,n,o,s,i){return d(r^(t|~n),e,t,o,s,i)}function m(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}function v(e,t){return e<<t|e>>>32-t}e.exports=s},"MO/6":function(e,t,r){var n=r("915G");e.exports=n},MycS:function(e,t,r){r("Ibh0");var n=r("oWnS");e.exports=n("Function").bind},"N+g0":function(e,t,r){var n=r("g6v/"),o=r("m/L8"),s=r("glrk"),i=r("33Wh");e.exports=n?Object.defineProperties:function(e,t){s(e);var r,n=i(t),u=n.length,a=0;while(u>a)o.f(e,r=n[a++],t[r]);return e}},"N+ku":function(e,t,r){var n;n=r("QnZw");var o=r("Uwh9"),s=o.jsonHandler,i=r("b0FF"),u=i["prefix_name"]+"-unreadmsg",a=new n(u),c=o.isEmpty,f="",l=function(){};l.prototype.add=function(e,t,r){var n=c(i["is_not_sync_page"])||!i["is_not_sync_page"]?a.getItem("unreadmsgNum"):f;n=n?s.parse(n):{};for(var o=0;o<e.length;o++){var u=e[o];if(n[u.contact]){var l=n[u.contact];n[u.contact]=u.num+l}else n[u.contact]=u.num}c(i["is_not_sync_page"])||!i["is_not_sync_page"]?a.setItem("unreadmsgNum",s.stringify(n)):f=s.stringify(n),t&&t(e.length)},l.prototype.update=function(e,t,r,n){var o=c(i["is_not_sync_page"])||!i["is_not_sync_page"]?a.getItem("unreadmsgNum"):f;o=o?s.parse(o):{},o[e]=t,c(i["is_not_sync_page"])||!i["is_not_sync_page"]?a.setItem("unreadmsgNum",s.stringify(o)):f=s.stringify(o),r&&r()},l.prototype.getAll=function(e,t){var r=c(i["is_not_sync_page"])||!i["is_not_sync_page"]?a.getItem("unreadmsgNum"):f;r=c(i["is_not_sync_page"])||!i["is_not_sync_page"]?a.getItem("unreadmsgNum"):f;r=r?s.parse(r):{},e&&e(r)},l.prototype.clearAll=function(e,t){a.clear("unreadmsgNum"),e&&e()},e.exports=new l},"NC/Y":function(e,t,r){var n=r("0GbY");e.exports=n("navigator","userAgent")||""},NaFW:function(e,t,r){var n=r("9d/t"),o=r("P4y1"),s=r("tiKp"),i=s("iterator");e.exports=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},NioV:function(e,t,r){"use strict";var n=r("pevS"),o=r("cEKj"),s=r("81Rs"),i=r("Bvq2"),u=r("mIMY"),a=r("sOpI"),c=r("fvkw"),f=r("1mbr"),l=!!s&&i((function(){s.prototype["finally"].call({then:function(){}},(function(){}))}));n({target:"Promise",proto:!0,real:!0,forced:l},{finally:function(e){var t=a(this,u("Promise")),r="function"==typeof e;return this.then(r?function(r){return c(t,e()).then((function(){return r}))}:e,r?function(r){return c(t,e()).then((function(){throw r}))}:e)}}),o||"function"!=typeof s||s.prototype["finally"]||f(s.prototype,"finally",u("Promise").prototype["finally"])},NzrZ:function(e,t,r){var n=r("I2R1");e.exports=n},O0yt:function(e,t,r){e.exports=r("q/LL")},O3vZ:function(e,t,r){r("u+ON");var n=r("oWnS");e.exports=n("Array").indexOf},O741:function(e,t,r){var n=r("hh1v");e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},OBge:function(e,t,r){e.exports=r("LseE")},OWCx:function(e,t,r){e.exports=r("qRXW")},OsYe:function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r("yLpj"))},P4y1:function(e,t){e.exports={}},"PJ+M":function(e,t,r){var n=r("DKI4");e.exports=n},PKPk:function(e,t,r){"use strict";var n=r("ZUd8").charAt,o=r("afO8"),s=r("fdAy"),i="String Iterator",u=o.set,a=o.getterFor(i);s(String,"String",(function(e){u(this,{type:i,string:String(e),index:0})}),(function(){var e,t=a(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=n(r,o),t.index+=e.length,{value:e,done:!1})}))},Pkdo:function(e,t,r){var n=r("pevS"),o=r("wbIY"),s=r("QYBB");n({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:s.f})},Pkew:function(e,t,r){"use strict";var n=r("y9AQ").charAt,o=r("L1rz"),s=r("QFZC"),i="String Iterator",u=o.set,a=o.getterFor(i);s(String,"String",(function(e){u(this,{type:i,string:String(e),index:0})}),(function(){var e,t=a(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=n(r,o),t.index+=e.length,{value:e,done:!1})}))},PlYH:function(e,t,r){r("oVuX"),r("07d7"),r("TWNs"),r("rB9j"),r("JfAA"),r("UxlC");var n,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=(function(){for(var e={},t=0,r=o.length;t<r;t++)e[o.charAt(t)]=t}(),String.fromCharCode),i=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?s(192|t>>>6)+s(128|63&t):s(224|t>>>12&15)+s(128|t>>>6&63)+s(128|63&t)}t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return s(240|t>>>18&7)+s(128|t>>>12&63)+s(128|t>>>6&63)+s(128|63&t)},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,a=function(e){return e.replace(u,i)},c=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),n=[o.charAt(r>>>18),o.charAt(r>>>12&63),t>=2?"=":o.charAt(r>>>6&63),t>=1?"=":o.charAt(63&r)];return n.join("")},f=function(e){return e.replace(/[\s\S]{1,3}/g,c)},l=n?function(e){return(e.constructor===n.constructor?e:new n(e)).toString("base64")}:function(e){return f(a(e))},d=function(e,t){return t?l(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):l(String(e))};new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g");e.exports={encode:d}},PoCt:function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},Q0Rw:function(e,t,r){var n=r("39uu"),o=r("YiBS"),s=r("A2Ma"),i=s("species");e.exports=function(e,t){var r;return o(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},Q8I8:function(e,t,r){var n=r("G9WS");r("sMBO"),r("qePV"),r("07d7"),r("rB9j"),r("JfAA"),r("UxlC");var o=n(r("ZbhI")),s=n(r("guyh")),i=n(r("M5Mt")),u=n(r("RXMP")),a=n(r("+oHS")),c=n(r("6UaR")),f=r("80UC"),l=r("Uwh9"),d=r("tMi5"),_=l.fnEmpty,p=l.each,g=l.inherits,h=l.extend,m=l.toString,v=l.jsonHandler,y=l.strToNumCompare,b=l.isEmpty,w=l.isObjectValueEqual,x=d.isGroupUser,S=d.isShopModeUser,k=d.covertSourceType,M=d.msgOperatorReplace,E=d.getUserAndShopInfo,A=d.isAnonymousSession,I=r("kXmp").session,O=r("mNsz"),T=r("xzMW"),U=r("eAFf"),R=r("QbSn"),L=d.showMsgTypeArr,j={},C={},P=50,F=["60687145693708@2","59911917385233@2"],B=!0;e.exports=g(f,{constructor:function(){f.call(this),this.sessions=[],this._topSessionList=[],this._topSessionKeyList=[],this._sessionKeyList=[],this._sessionKeyObj={},this._lastShowMsg={},this._scrollLoadNum=10},start:_,stop:_,getSessions:_,clearAll:_,insert:_,_sortCompare:function(e,t){return b(e)||b(t)?0:b(e.user)&&b(t.user)&&!b(e.sort_time)&&!b(t.sort_time)?t.sort_time-e.sort_time:b(e.user.ses_top)||b(e.user.ses_top)||e.user.ses_top!==t.user.ses_top||e.sort_time===t.sort_time?b(e.user.ses_top)||b(e.user.ses_top)||e.user.ses_top===t.user.ses_top?t.sort_time-e.sort_time:t.user.ses_top-e.user.ses_top:t.sort_time-e.sort_time},_build_key_ids:function(e){for(var t={},r=0;r<e.length;r++){var n=e[r],o=n.user,s=o.user_id+"@"+o.user_source;b(o.shop_id)||b(o.shop_source)||(s+="@@"+o.shop_id+"@"+o.shop_source),t[s]=r}return t},_getPosition:function(e,t,r){var n=t.user,o=n.user_id+"@"+n.user_source;b(n.shop_id)||b(n.shop_source)||(o+="@@"+n.shop_id+"@"+n.shop_source);var s=-1;if(b(r))for(var i=0;i<e.length;i++){var u=e[i],a=u.user,c=a.user_id+"@"+a.user_source;if(b(a.shop_id)||b(a.shop_source)||(c+="@@"+a.shop_id+"@"+a.shop_source),c==o)return i}else if(s=r[o],!isNaN(s))return s;return-1},_insert:function(e,t){var r=(0,c.default)(e);e=r?e:[e];var n=this,o=[],f=[],d=[],_=[],g=B?n._build_key_ids(n.sessions):null;if(p(e,(function(e,t){var r=!1;l.isEmpty(t)&&(t={}),t.msg&&t.msg.send_time?t.sort_time=t.msg.send_time:null==t.sort_time&&(t.sort_time=(new Date).getTime());var s=n._getPosition(n.sessions,t,g);if(-1===s)b(t.user)||t.user.is_deleted||(f.push(t),n.sessions.push(t),o.push(t),g=B?n._build_key_ids(n.sessions):null);else{var i=n.sessions[s];if(b(i)?i={}:b(i.msg)||b(i.msg.msg_status)||i.msg.msg_status+""!=="2"||b(t.msg.msg_status)||t.msg.msg_status+""==="2"||(i.msg=null),(i.sort_time<t.sort_time&&!b(t.msg)&&!b(t.msg.msg_status)&&t.msg.msg_status+""!=="2"||!i.msg&&t.msg||i.msg&&t.msg&&y(i.msg.msg_id,t.msg.msg_id)<=0&&"modify_msg"!=i.msg.show_type&&"modify_msg"==t.msg.show_type)&&(b(i.msg)||0!==y(i.msg._delete_msg_id,t.msg.msg_id))&&(b(i.msg)||"modify_msg"!=i.msg.show_type||b(i.msg.replace)||0!=y(i.msg.replace.msg_id,t.msg.msg_id))&&(i.sort_time=t.sort_time,i.msg=t.msg,r=!0),!b(i.msg)&&!b(t.msg)&&0===y(i.msg.msg_id,t.msg.msg_id)&&i.msg.showed_count!=t.msg.showed_count&&Number(i.msg.showed_count)<Number(t.msg.showed_count)&&(i.sort_time=t.sort_time,i.msg.showed_count=t.msg.showed_count,r=!0),!x(t.msg)||b(i.msg)||b(t.msg)||0!==y(i.msg.msg_id,t.msg.msg_id)||b(i.msg.at_info)||b(t.msg.at_info)||w(i.msg.at_info,t.msg.at_info)||(i.sort_time=t.sort_time,i.msg=t.msg,r=!0),(!b(t.msg)&&!b(i.msg)&&i.msg.msg_status+""!=="2"&&t.msg.msg_status+""==="2"&&y(i.msg.msg_id,t.msg.msg_id)>=0||!b(t.msg)&&!b(i.msg)&&i.sort_time>t.sort_time&&!b(t.msg._delete_msg_id))&&(i.sort_time=t.sort_time,i.msg=t.msg,r=!0),!b(i.msg)&&!b(i.msg.sender_info)&&!b(t.msg)&&!b(t.msg.sender_info)){if(!b(t.msg.sender_info.nick_name)&&t.msg.sender_info.nick_name!=i.msg.sender_info.nick_name){var u=(0,a.default)(i.msg.sender_info),c=(0,a.default)(t.msg.sender_info);u.length<c.length&&(i.msg.sender_info=h(!0,{},t.msg.sender_info),r=!0)}b(t.msg.sender_info.remark)||b(i.msg.sender_info.remark)||b(t.msg.sender_info.remark.remark_name)||w(t.msg.sender_info.remark,i.msg.sender_info.remark)||(i.msg.sender_info=h(!0,{},t.msg.sender_info),r=!0)}if(!b(i.user)&&!b(i.user.user_id)&&!b(i.user.user_source)&&(i.user.user_source=k(i.user.user_source),b(i.user.shop_source)||(i.user.shop_source=k(i.user.shop_source)),!b(t.user)&&!b(t.user.user_id)&&!b(t.user.user_source)&&(t.user.user_source=k(t.user.user_source),b(t.user.shop_source)||(t.user.shop_source=k(t.user.shop_source)),!w(t.user,i.user)))){var _=h(!0,{},i.user,t.user);t.user&&t.user.is_first_load&&(delete t.user.is_first_load,_=h(!0,{},t.user)),w(_,i.user)||(i.user=_,r=!0)}r&&f.push(i)}-1!==s&&t.msg&&t.msg.options&&t.msg.options.talk_list_order_ig+""==="1"&&d.push({session:t,pos:s})})),0===f.length)return t&&t(_);p(f,(function(e,t){t.msg&&t.msg.client_only&&"1"===m(t.msg.client_only)||_.push(t)})),t&&t(_);var v=h(!0,[],this.sessions);(0,u.default)(d).call(d,(function(e){(0,i.default)(v).call(v,e.pos,1)})),v=(0,s.default)(v).call(v,this._sortCompare),(0,u.default)(d).call(d,(function(e){(0,i.default)(v).call(v,e.pos,0,e.session)})),this.sessions=v,this.triggerEvent(T.sessionChanged,this.getAllSessions()),this.triggerEvent(T.sessionPortChanged,h(!0,[],f)),o.length>0&&this.triggerEvent(T.newSessionLoaded,T.MORE,o)},_getQueryParams:function(e){e.length;for(var t,r=this,n={last_other_id:null,last_other_source:null,last_msg_id:null,count:r._scrollLoadNum,special_flag:1},i=0;i<e.length;i++){var u=e[i],a=u.user&&u.user.user_id&&u.user.user_source?u.user.user_id+"@"+u.user.user_source:null;-1!==(0,o.default)(F).call(F,a)||u.user&&1==u.user.ses_top||u.user&&u.user.is_chat_to||(t&&t.msg&&t.msg.msg_id?u.msg&&u.msg.msg_id&&t.msg&&t.msg.msg_id&&y(t.msg.msg_id,u.msg.msg_id)>0&&(t=u):t=u)}return t||(e=(0,s.default)(e).call(e,r._sortCompare),t=e[e.length-1]),t&&t.msg&&(n.last_other_id=t.user.user_id,n.last_other_source=t.user.user_source,n.last_msg_id=t.msg.msg_id),n},_convert:function(e){var t,r=this,n=e.msg_info;if(-1===(0,o.default)(L).call(L,m(n.msg_type)))return null;if(n.sender_id==n.to_id&&n.sender_source==n.to_source)return null;var s=R.get(),i=M(n).content,u=s.user_id+"@"+s.user_source,a=n.sender_id+"@"+n.sender_source,c=n.to_id+"@"+n.to_source,f=null,l=(0,o.default)(t=[a,c]).call(t,u),d=x(n),_=S(n),p=S({user_source:n.to_source});if(-1!==l||d||_){var g;n.content="string"===typeof i?v.parse(i):i;var h=1===l?n.sender_id+"@"+n.sender_source:n.to_id+"@"+n.to_source;f={user:{user_id:1===l||-1==l&&p?n.sender_id:n.to_id,user_source:1===l||-1==l&&p?n.sender_source:n.to_source,is_group:d,is_shop_mode:_,ses_top:-1!==(0,o.default)(g=r._topSessionKeyList).call(g,h)?1:0,is_first_load:!0},msg:n},_&&(f.user.shop_id=p?n.to_id:n.sender_id,f.user.shop_source=p?n.to_source:n.sender_source)}return f},_fetchSessions:function(e,t){var r=this,n=[],s=0,i=b(e.count)?1:Math.ceil(e.count/P),u=0,a=function a(){var c=n.length,f=c>0?n[c-1]:{},l=f.user&&f.user.user_id?f.user.user_id:e.last_other_id?e.last_other_id:null,d=f.user&&f.user.user_source?f.user.user_source:e.last_other_source?e.last_other_source:null,_=f.msg&&f.msg.msg_id?f.msg.msg_id:e.last_msg_id?e.last_msg_id:null,g=b(e.count)||e.count&&e.count>P?P:e.count,h=l+"@"+d+"@"+g+"@"+_+"@"+u;if(j[h])j[h].then((function(e,r){t(e,r)}),(function(){t([],!0)}));else{var m=$.Deferred();j[h]=m.promise(),function(c){var f={last_other_id:l,last_other_source:d,last_msg_id:_,count:g,special_flag:e.special_flag};O(U.get_session_list.name,f,null,(function(e){var f=1===+e.have_more;if(s=e.session_list.length,p(e.session_list,(function(e,t){var o=r._convert(t);if(o){n.push(o);var s=o.user.user_id+"@"+o.user.user_source;b(o.user.shop_id)||b(o.user.shop_source)||(s+="@@"+o.user.shop_id+"@"+o.user.shop_source),r._sessionKeyList.push(s),r._sessionKeyObj[s]=n.length-1}})),u++,u!=i)return delete j[c],void a();if((b(e.top_sessions)||0==e.top_sessions.length)&&u===i)return r.triggerEvent(T.syncUnread,n),t(n,f,s),m.resolve(n,f),void delete j[c];var l=[];if(r._topSessionList=e.top_sessions,p(r._topSessionList,(function(e,t){var s,i,u=t.other_id+"@"+t.other_source;-1==(0,o.default)(s=r._topSessionKeyList).call(s,u)&&r._topSessionKeyList.push(u),-1==(0,o.default)(i=r._sessionKeyList).call(i,u)&&l.push(t);var a=r._sessionKeyObj[u];a>0&&n.length>0&&n[a]&&(n[a].user.ses_top=1)})),0==l.length)return r.triggerEvent(T.syncUnread,n),t(n,f,s),m.resolve(n,f),void delete j[c];var d={sessions:l};r.getSpecifySessionList(d,(function(e){p(e,(function(e,t){n.push(t),r._sessionKeyList.push(t.user.user_id+"@"+t.user.user_source)})),r.triggerEvent(T.syncUnread,n),t(n,f,s),m.resolve(n,f),delete j[c]}),(function(e){r.triggerEvent(T.syncUnread,n),t(n,f,s),m.resolve(n,f),delete j[c]}))}),(function(e){t([],!0),m.reject([],!0),delete j[c]}))}(h)}};a()},_getSessions:function(e,t){var r=this._getQueryParams(e);this._fetchSessions(r,t)},getSessionsFromApi:function(e,t){var r=this,n={last_other_id:e.last_other_id?e.last_other_id:null,last_other_source:e.last_other_source?e.last_other_source:null,last_msg_id:e.last_msg_id?e.last_msg_id:null,count:e.count?e.count:r._scrollLoadNum,special_flag:e.special_flag?e.special_flag:1,received_count:e.received_count?e.received_count:0};this._fetchSessions(n,t)},getSession:function(e){for(var t=E(e),r=0;r<this.sessions.length;r++){var n=this.sessions[r]||{},o=n.user||{},s=(e=o.user_id+"@"+o.user_source,null);if(b(o.shop_id)||b(o.shop_source)||(s=o.shop_id+"@"+o.shop_source),e==t.userKey&&s==t.shopKey)return h(!0,{},n)||{}}return null},updateSession:function(e,t){for(var r=E(e),n=0;n<this.sessions.length;n++){var o=h(!0,{},this.sessions[n])||{},s=h(!0,{},o.user)||{},i=(e=s.user_id+"@"+s.user_source,null);b(s.shop_id)||b(s.shop_source)||(i=s.shop_id+"@"+s.shop_source),e==r.userKey&&i==r.shopKey&&(this.sessions[n]=t)}},getAllSessions:function(){return h(!0,[],this.sessions)},getLastSession:function(){var e=this.getAllSessions();return(0,s.default)(e).call(e,(function(e,t){return b(e.msg)||b(e.msg.msg_id)?1:b(t.msg)||b(t.msg.msg_id)?-1:y(t.msg.msg_id,e.msg.msg_id)}))},delAnonymousSessions:function(e,t,r){if(b(e)||b(e.sessions)||0==e.sessions.length)return r&&r();var n=[];if(p(e.sessions,(function(e,t){if(b(t.user_id)||b(t.user_source))return!0;var r={uid:t.user_id,user_source:k(t.user_source),register:t.register};A(r)&&n.push(t)})),0==n.length)return r&&r();this.delSessionRemote(n),t&&t()},delSessions:function(e,t,r){var n=this;if(b(e.sessions)||0==e.sessions.length)return r&&r();var o=[];if(p(e.sessions,(function(e,t){if(b(t.uid)||b(t.source))return!0;var r={uid:t.uid,source:k(t.source)};b(t.shop_id)&&b(t.shop_source)&&(r.shop_id=t.shop_id,r.shop_source=k(t.shop_source)),o.push(r)})),0==o.length)return r&&r();var s={sessions:o};O(U.del_sessions.name,null,s,(function(){n.delSessionRemote(e.sessions),t&&t()}),r)},delSessionRemote:function(e,t){var r,n=this,s=[],a=[];(0,u.default)(e).call(e,(function(e,t){var r=b(e.uid)||b(e.source)?e.user_id+"@"+e.user_source:e.uid+"@"+e.source;s.push(r)})),(0,u.default)(r=n.sessions).call(r,(function(e,t){var r,u=e.user.user_id+"@"+e.user.user_source;-1!=(0,o.default)(s).call(s,u)&&(n.sessions[t].user.is_deleted=!0,a.push(n.sessions[t]),(0,i.default)(r=n.sessions).call(r,t,1))})),0!==a.length&&(I.remove(a,(function(e){t&&t()})),n.triggerEvent(T.sessionChanged,this.getAllSessions()),n.triggerEvent(T.sessionPortChanged,h(!0,[],a)))},getLastShowMsg:function(e){return this._lastShowMsg[e]},setLastShowMsg:function(e,t){var r=this,n=l.isEmpty(t)?t:h(!0,{},t),o=E(e),s=r.getSession(e);l.isEmpty(s)?(s={msg:n,user:{user_id:o.user_id,user_source:o.user_source},sort_time:l.isEmpty(t)?(new Date).getTime():t.send_time},b(o.shopKey)||(s.user.shop_id=o.shop_id,s.user.shop_source=o.shop_source)):s.msg=n,r.insert([s],(function(){r._lastShowMsg[e]=l.isEmpty(t)?t:h(!0,{},t)}))},getLatestSession:function(){var e=this.getAllSessions(),t=(0,s.default)(e).call(e,(function(e,t){return b(e)||b(t)?0:(b(e.user)&&b(t.user)&&!b(e.sort_time)&&b(t.sort_time),t.sort_time-e.sort_time)}));return!b(t)&&t.length>0?t[0]:null},getSpecifySessionList:function(e,t,r){if(b(e)||b(e.sessions)||0==e.sessions.length)return r&&r();var n=this,o=v.stringify(e);if(C[o])C[o].then((function(e){t&&t(e)}),(function(e){r&&r(e)}));else{var s=$.Deferred();C[o]=s.promise(),function(o){O(U.get_specify_session_list.name,null,e,(function(e){var r=[];p(e.session_list,(function(e,t){var o=n._convert(t);o&&r.push(o)})),n.triggerEvent(T.syncUnread,r),t&&t(r),s.resolve(r),delete C[o]}),(function(e){r&&r(e),s.reject(e),delete C[o]}))}(o)}}})},QDXk:function(e,t,r){var n=r("4zJj");e.exports=n},QFZC:function(e,t,r){"use strict";var n=r("pevS"),o=r("9XUY"),s=r("V3kF"),i=r("7GIe"),u=r("KHTo"),a=r("AnMC"),c=r("1mbr"),f=r("A2Ma"),l=r("cEKj"),d=r("dGO/"),_=r("u4PT"),p=_.IteratorPrototype,g=_.BUGGY_SAFARI_ITERATORS,h=f("iterator"),m="keys",v="values",y="entries",b=function(){return this};e.exports=function(e,t,r,f,_,w,x){o(r,t,f);var S,k,M,E=function(e){if(e===_&&U)return U;if(!g&&e in O)return O[e];switch(e){case m:return function(){return new r(this,e)};case v:return function(){return new r(this,e)};case y:return function(){return new r(this,e)}}return function(){return new r(this)}},A=t+" Iterator",I=!1,O=e.prototype,T=O[h]||O["@@iterator"]||_&&O[_],U=!g&&T||E(_),R="Array"==t&&O.entries||T;if(R&&(S=s(R.call(new e)),p!==Object.prototype&&S.next&&(l||s(S)===p||(i?i(S,p):"function"!=typeof S[h]&&a(S,h,b)),u(S,A,!0,!0),l&&(d[A]=b))),_==v&&T&&T.name!==v&&(I=!0,U=function(){return T.call(this)}),l&&!x||O[h]===U||a(O,h,U),d[t]=U,_)if(k={values:E(v),keys:w?U:E(m),entries:E(y)},x)for(M in k)(g||I||!(M in O))&&c(O,M,k[M]);else n({target:t,proto:!0,forced:g||I},k);return k}},QIpd:function(e,t,r){var n=r("xrYK");e.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},QWBl:function(e,t,r){"use strict";var n=r("I+eb"),o=r("F8JR");n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},QYBB:function(e,t,r){var n=r("wbIY"),o=r("d7IX"),s=r("b42z"),i=r("cWgI"),u=Object.defineProperty;t.f=n?u:function(e,t,r){if(s(e),t=i(t,!0),s(r),o)try{return u(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},QYLo:function(e,t,r){var n=r("G9WS");r("rB9j"),r("EnZy");var o=n(r("ZbhI")),s=r("Uwh9"),i=s.inherits,u=r("fmT1"),a=(s.extend,s.jsonHandler),c=r("WGYn");e.exports=new(i(u,{constructor:function(){u.call(this),this._api="",this._cdn=""},upload:function(e,t,r){"string"===typeof e&&-1!==(0,o.default)(e).call(e,",")&&(e=e.split(",")[1]);var n=this,s="/nowater/webim/big/",i={"Pic-Size":"0*0","Pic-Encoding":"base64","Pic-Path":s,"Pic-Data":e};c({method:"POST",url:n._api,postparams:i,encrypt:!1,contentType:"text/plain;charset=UTF-8"},(function(e){e?t&&t(n._cdn+s+e):r&&r("")}),(function(e){r&&r(e)}))},getInfo:function(e,t,r){c({method:"GET",url:e+"?imageInfo=1",encrypt:!1,contentType:"text/plain;charset=UTF-8"},(function(e){e?t&&t(a.parse(e)):r&&r(null)}),(function(e){r&&r(e)}))}}))},QbSn:function(e,t,r){var n=r("G9WS"),o=n(r("526F")),s="",i="",u=!1,a=null,c=null,f=r("Uwh9"),l=f.isEmpty;e.exports={set:function(e,t,r){s=e,i=t,u=!!r},get:function(){return{user_id:s,user_source:i,userInfo:a,is_anonymous_login:u}},saveUserInfo:function(e){l(e)||(a||(a={}),(0,o.default)(a,e))},saveMergeAnonymousLoginInfo:function(e){l(e)||(c||(c={}),(0,o.default)(c,e))},getMergeAnonymousLoginInfo:function(){return c}}},QgIy:function(e,t,r){r("FHuo");var n=r("oWnS");e.exports=n("Array").filter},QnZw:function(e,t,r){var n=r("G9WS");r("4mDm"),r("oVuX"),r("07d7"),r("JfAA"),r("3bBZ");var o=n(r("M5Mt")),s=n(r("xlHU")),i="2",u=r("Uwh9"),a=u.jsonHandler,c={set:function(e,t){try{localStorage.setItem(e,t)}catch(r){c.clear()}},get:function(e){try{return localStorage.getItem(e)}catch(t){}},remove:function(e){try{localStorage.removeItem(e)}catch(t){}},clear:function(){try{localStorage.clear()}catch(e){}}};if(window.localStorage)try{var f=1e4,l="test_storage_key",d=new Array(f).toString();c.set(l,d),c.remove(l)}catch(p){c.clear()}var _=function(e){e=e||"default",this.filename=[e,i].join("_"),this._init()};_.prototype={_newKey:function(e){return[this.filename,e].join("_")},_addKey:function(e){for(var t=!1,r=0;r<(0,s.default)(this).length;r++)if((0,s.default)(this)[r]===e){t=!0;break}t||((0,s.default)(this).push(e),c.set(this.filename,a.stringify((0,s.default)(this))))},_delKey:function(e){for(var t=0;t<(0,s.default)(this).length;t++){var r;if((0,s.default)(this)[t]===e)(0,o.default)(r=(0,s.default)(this)).call(r,t--,1)}(0,s.default)(this).length>0?c.set(this.filename,a.stringify((0,s.default)(this))):c.remove(this.filename)},_init:function(){this.keys=a.parse(c.get(this.filename)||"[]")},setItem:function(e,t){e=this._newKey(e),c.set(e,t),this._addKey(e)},getItem:function(e){return e=this._newKey(e),c.get(e)},remove:function(e){e=c.get(e)?e:this._newKey(e),c.remove(e),this._delKey(e)},clear:function(){for(var e=0;e<(0,s.default)(this).length;e++){var t=(0,s.default)(this)[e];c.remove(t)}this.keys=[],c.remove(this.filename)}},window.localStorage||(_.prototype={_load:function(){try{this.input.load(this.filename)}catch(p){}},_save:function(){try{this.input.save()}catch(p){}},_init:function(){var e=document.createElement("INPUT");e.type="hidden",e.style.display="none",e.addBehavior("#default#userData"),document.body.appendChild(e);var t=new Date;t.setDate(t.getDate()+365),e.expires=t.toUTCString(),this.input=e},setItem:function(e,t){this._load(),this.input.setAttribute(e,t),this._save()},getItem:function(e){return this._load(),this.input.getAttribute(e)},remove:function(e){this._load(),this.input.removeAttribute(e),this._save()},clear:function(){var e=new Date;e.setMinutes(e.getMinutes()-1),this.input.expires=e.toUTCString(),this._save()}}),e.exports=_},Qo9l:function(e,t,r){var n=r("2oRo");e.exports=n},R8cT:function(e,t,r){e.exports=r("zbSC")},R9qo:function(e,t,r){r("WtsB");var n=r("dktu");e.exports=n.Object.getOwnPropertyDescriptors},RALh:function(e,t,r){var n=r("9EaA");e.exports=n},REdy:function(e,t,r){var n=r("G9WS"),o=r("iYz8"),s=r("6UaR"),i=r("Dcj1"),u=r("O0yt"),a=r("0lTi"),c=r("UtpJ");r("sMBO"),r("07d7"),r("rB9j"),r("JfAA"),r("UxlC"),r("EnZy");var f=n(r("o+MX")),l=n(r("UtpJ")),d=n(r("RXMP"));function _(e,t){var r;if("undefined"===typeof u||null==i(e)){if(s(e)||(r=p(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,l=!1;return{s:function(){r=o(e)},n:function(){var e=r.next();return f=e.done,e},e:function(e){l=!0,c=e},f:function(){try{f||null==r.return||r.return()}finally{if(l)throw c}}}}function p(e,t){var r;if(e){if("string"===typeof e)return g(e,t);var n=c(r=Object.prototype.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?a(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=r("80UC"),m=r("Uwh9"),v=r("tMi5"),y=m.fnEmpty,b=m.isEmpty,w=m.each,x=m.extend,S=m.inherits,k=(m.toString,m.jsonHandler),M=(m.strToNumCompare,m.urlConvert),E=v.covertSourceType,A=v.mergeArray,I=v.extendArray,O=v.isGroupUser,T=(r("t2eQ"),r("mNsz")),U=r("eAFf"),R=50,L=50,j=50,C={},P={},F={};e.exports=S(h,{constructor:function(){h.call(this),this._groupInfo={},this._groupMemberUsers={},this._groupMemberUserInfo={}},resetLoadedGroupInfo:y,_convert:function(e){return e&&(e.avatar=M(e.avatar+"")),e},createGroup:function(e,t,r){T(U.create_group.name,null,e,t,r)},updateGroup:function(e,t,r){var n=this,o=$.Deferred();T(U.update_group.name,null,e,(function(r){var s=e.target_id+"@"+e.target_source,i={};i[s]={group_info:{notice:e.notice}},t&&t(r),o.resolve(r),n.setGroupInfoToLocal(i)}),(function(e){r&&r(e),o.reject(e)}))},disbandGroup:function(e,t,r){var n=this;T(U.disband_group.name,null,e,(function(){t&&t();var r=n.getGroupInfoFromLocal(e.target_gid,e.target_gsource);b(r)||(r.user_name="群聊",r.group_info.current_count=0,n.setGroupInfoToLocal([r]))}),r)},applyJoinGroup:function(e,t,r){T(U.apply_join_group.name,e,null,t,r)},inviteJoinGroup:function(e,t,r){T(U.invite_join_group.name,null,e,t,r)},acceptJoinGroupApply:function(e,t,r){T(U.accept_join_group_apply.name,null,e,t,r)},acceptJoinGroupInvite:function(e,t,r){T(U.accept_join_group_invite.name,null,e,t,r)},manageGroupMember:function(e,t,r){T(U.manage_group_member.name,null,e,t,r)},quitGroup:function(e,t,r){T(U.quit_group.name,e,null,t,r)},transferGroupOwner:function(e,t,r){T(U.transfer_group_owner.name,null,e,t,r)},getGroupMember:function(e,t,r){var n=this,o=b(e.count)?1e4:e.count,s=Math.ceil(o/R),i=0,u={group_id:e.group_id,group_source:e.group_source,old_version:e.old_version,receive_count:e.receive_count,last_member_id:e.last_member_id,last_member_source:e.last_member_source,count:o>R?R:o},a=function(t){var r=0,u={};return function(c,f,l){var d=k.stringify(c);if(!C[d]||t){var _=$.Deferred();C[d]=_.promise(),function(t){T(U.get_group_member.name,null,c,(function(d){r+=d.members.length,c.last_member_id=d.last_member_id,c.last_member_source=E(d.last_member_source),c.receive_count=r,c.count=o-r>R?R:o-r;var p=b(u.members)?[]:x(!0,[],u.members);if(u=x(!0,u,d),u.members=p.length>0?A(p,d.members):u.members,i++,i!==s&&d.has_more)a(c,f,l);else{var g=e.group_id+"@"+e.group_source;n.setGroupMemberToLocal(g,u),f&&f(u),_.resolve(u),delete C[t]}}),(function(e){l&&l(e),_.reject(e),delete C[t]}))}(d)}else C[d].then((function(e){f&&f(e)}),l)}}(e.clear);a(u,t,r)},getGroupInfo:function(e,t,r){(b(e)||b(e.ids)||0===e.ids.length)&&r({});var n=this,o={},s=[],i=e.ids;if((0,d.default)(i).call(i,(function(t){var r=t.user_id,i=t.user_source,u=r+"@"+i;m.isEmpty(r)||m.isEmpty(i)||(n._groupInfo[u]&&!e.forceUpdate?o[u]=n._groupInfo[u]:s.push({user_id:r,user_source:E(i)}))})),0!==s.length)for(var u=Math.ceil(s.length/L),a=0,c=[],f=0;f<u;f++){var p=[];p=f===u-1?(0,l.default)(s).call(s,f*L):(0,l.default)(s).call(s,f*L,(f+1)*L);var g={ids:p},h=k.stringify(g);if(c.push(h),P[h])P[h].promise.then((function(e){if(o=x(!0,o,e),a++,a===u){t&&t(o);var r,n=_(c);try{for(n.s();!(r=n.n()).done;){var s=r.value;P[s]&&P[s].defer&&P[s].defer.resolve(o),delete P[s]}}catch(i){n.e(i)}finally{n.f()}}}),r);else{var v=$.Deferred();P[h]={defer:v,promise:v.promise()},function(e){T(U.get_group_info.name,null,g,(function(e){if(w(e,(function(e,t){var r=e.split("@@"),s=r[0],i=r[1];t=n._convert(t);var u=s+"@"+i;o[u]=x(!0,o[u],t),n.setGroupInfoToLocal(o)})),a++,a===u){t&&t(o);var r,s=_(c);try{for(s.s();!(r=s.n()).done;){var i=r.value;P[i]&&P[i].defer&&P[i].defer.resolve(o),delete P[i]}}catch(f){s.e(f)}finally{s.f()}}}),(function(t){u--,r&&r(t),v.reject(t),delete P[e]}))}(h)}}else t&&t(o)},getGroupMemberById:function(e,t,r){(b(e.group_req)||0===e.group_req.length)&&r&&r();var n=this,o={},s=[],i=0,u=[];if(w(e.group_req,(function(e,t){var r=t.target,a=t.group_id+"@"+t.group_source,c=[];if(w(r,(function(e,t){var r=t.user_id,s=t.user_source,i=r+"@"+s,u=a+"@@"+i;b(r)||b(s)||(n._groupMemberUserInfo[u]?o[u]=n._groupMemberUserInfo[u]:O({user_source:s})||c.push({target_id:r,target_source:s}))})),0!==c.length){var f=function e(r){var n=r.length;if(i+n<j)s.push({group_id:t.group_id,group_source:t.group_source,target:r}),i+=r.length;else{var o=j-i;s.push({group_id:t.group_id,group_source:t.group_source,target:(0,l.default)(r).call(r,0,o)}),u.push(s),s=[],i=0,r=(0,l.default)(r).call(r,o),e(r)}};f(c)}})),0==u.length&&0!=s.length&&u.push(s),0!==u.length)for(var a=u.length,c=0,f=[],d=0;d<a;d++){var p={group_req:u[d]},g=k.stringify(p);if(f.push(g),F[g])F[g].promise.then((function(e){if(o=x(!0,o,e),c++,c===a){t&&t(o);var r,n=_(f);try{for(n.s();!(r=n.n()).done;){var s=r.value;F[s]&&F[s].defer&&F[s].defer.resolve(o),delete F[s]}}catch(i){n.e(i)}finally{n.f()}}t&&t(e)}),r);else{var h=$.Deferred();F[g]={defer:h,promise:h.promise()},function(e){T(U.get_group_member_byid.name,null,p,(function(e){if(w(e,(function(e,t){var r=t.user_id+"@"+t.user_source,s=t.group_id_source.replace("@@","@"),i=s+"@@"+r;o[i]=x(!0,o[i],t),n.setGroupMemberUserInfoToLocal(i,o[i])})),c++,c===a){t&&t(o);var r,s=_(f);try{for(s.s();!(r=s.n()).done;){var i=r.value;F[i]&&F[i].defer&&F[i].defer.resolve(o),delete F[i]}}catch(u){s.e(u)}finally{s.f()}}}),(function(t){a--,r&&r(t),h.reject(t),delete F[e]}))}(g)}}else t&&t(o)},setSlient:function(e,t,r){T(U.set_slient.name,null,e,t,r)},acceptJoinGroup:function(e,t,r){T(U.accept_join_group.name,null,e,t,r)},confirmInvite:function(e,t,r){T(U.confirm_invite.name,null,e,t,r)},getQrcodeId:function(e,t,r){T(U.get_qrcode_id.name,null,e,t,r)},getQrcodeInfo:function(e,t,r){T(U.get_qrcode_info.name,null,e,t,r)},getGroupInfoFromLocal:function(e,t){var r=e+"@"+t;return this._groupInfo[r]},setGroupInfoToLocal:function(e){var t=this;w(e,(function(e,r){b(r)?t._groupInfo[e]=r:(b(t._groupInfo[e])||b(t._groupInfo[e].avatar)||(r.avatar=t._groupInfo[e].avatar),b(t._groupInfo[e])||b(t._groupInfo[e].user_name)||!b(r.user_name)||(r.user_name=t._groupInfo[e].user_name),b(t._groupInfo[e])||b(t._groupInfo[e].desc)||(r.desc=t._groupInfo[e].desc),b(t._groupInfo[e])||b(t._groupInfo[e].auth_type)||(r.auth_type=t._groupInfo[e].auth_type),b(t._groupInfo[e])||b(t._groupInfo[e].auth_notice)||(r.auth_notice=t._groupInfo[e].auth_notice),b(t._groupInfo[e])||b(t._groupInfo[e].auth_invite)||(r.auth_invite=t._groupInfo[e].auth_invite),b(t._groupInfo[e])||b(t._groupInfo[e].msg_set)||(r.msg_set=t._groupInfo[e].msg_set),t._groupInfo[e]=x(!0,t._groupInfo[e],r))}))},getGroupMemberFromLocal:function(e,t){var r=e+"@"+t;return this._groupMemberUsers[r]},setGroupMemberToLocal:function(e,t){var r=this;if(b(t))r._groupMemberUsers[e]=t;else{var n=b(r._groupMemberUsers[e])?{}:r._groupMemberUsers[e],o=!b(n)&&!b(n.members)&&n.members.length>0?x(!0,[],n.members):[];r._groupMemberUsers[e]=x(!0,n,t),r._groupMemberUsers[e].members=o.length>0?A(o,t.members):n.members,w(r._groupMemberUsers[e].members,(function(t,n){var o=e+"@@"+n.user_id+"@"+n.user_source;r.setGroupMemberUserInfoToLocal(o,n)}))}},replaceGroupMemberToLocal:function(e,t,r){var n=this;if(b(t))n._groupMemberUsers[e]=t;else{var o=b(n._groupMemberUsers[e])?{}:n._groupMemberUsers[e],s=!b(o)&&!b(o.members)&&o.members.length>0?x(!0,[],o.members):[];n._groupMemberUsers[e]=x(!0,o,t),n._groupMemberUsers[e].members=s.length>0?I(s,t.members,r):o.members,w(n._groupMemberUsers[e].members,(function(t,r){var o=e+"@@"+r.user_id+"@"+r.user_source;n.setGroupMemberUserInfoToLocal(o,r)}))}},deleteGroupMemberFromLocal:function(e,t,r){var n=this,o=b(n._groupMemberUsers[e])?{}:n._groupMemberUsers[e];if(!b(o)&&o.members)for(var s=0;s<o.members.length;s++)if(o.members[s].user_id==t&&o.members[s].user_source==r){var i,u,a;o.members=(0,f.default)(i=(0,l.default)(u=o.members).call(u,0,s)).call(i,(0,l.default)(a=o.members).call(a,s+1));break}},getGroupMemberUserInfoFromLocal:function(){var e=arguments;if(0===e.length)return this._groupMemberUserInfo;if(2===e.length){var t=e[0]+"@@"+e[1];return this._groupMemberUserInfo[t]}},setGroupMemberUserInfoToLocal:function(e,t){var r=this;if(b(t))r._groupMemberUserInfo[e]=t;else{r._groupMemberUserInfo[e]=x(!0,this._groupMemberUserInfo[e],t);var n=e.split("@@"),o=n[0],s=n[1];if(!b(r._groupMemberUsers[o])&&!b(r._groupMemberUsers[o].members)){var i=0;w(r._groupMemberUsers[o].members,(function(e,t){var r=t.user_id+"@"+t.user_source;if(s==r)return!1;i++})),i>r._groupMemberUsers[o].members.length-1&&(r._groupMemberUsers[o].members=A(r._groupMemberUsers[o].members,[t]))}}}})},RK3t:function(e,t,r){var n=r("0Dky"),o=r("xrYK"),s="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s.call(e,""):Object(e)}:Object},RLqH:function(e,t,r){var n=r("wbIY"),o=r("cEPT"),s=r("LGyv"),i=r("pCEo"),u=r("cWgI"),a=r("eOcF"),c=r("d7IX"),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=i(e),t=u(t,!0),c)try{return f(e,t)}catch(r){}if(a(e,t))return s(!o.f.call(e,t),e[t])}},RN6c:function(e,t,r){var n=r("2oRo");e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},RNIs:function(e,t,r){var n=r("tiKp"),o=r("fHMY"),s=r("m/L8"),i=n("unscopables"),u=Array.prototype;void 0==u[i]&&s.f(u,i,{configurable:!0,value:o(null)}),e.exports=function(e){u[i][e]=!0}},ROdP:function(e,t,r){var n=r("hh1v"),o=r("xrYK"),s=r("tiKp"),i=s("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},RQhY:function(e,t,r){var n=r("FWHo"),o=Math.max,s=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):s(r,t)}},RXMP:function(e,t,r){e.exports=r("JLQQ")},Rm1S:function(e,t,r){"use strict";var n=r("14Sl"),o=r("glrk"),s=r("UMSQ"),i=r("HYAF"),u=r("iqWW"),a=r("FMNM");n("match",1,(function(e,t,r){return[function(t){var r=i(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var i=o(e),c=String(this);if(!i.global)return a(i,c);var f=i.unicode;i.lastIndex=0;var l,d=[],_=0;while(null!==(l=a(i,c))){var p=String(l[0]);d[_]=p,""===p&&(i.lastIndex=u(c,s(i.lastIndex),f)),_++}return 0===_?null:d}]}))},"Rxu/":function(e,t,r){"use strict";var n=r("ZBQp"),o=r("T/97"),s=r("+qqD"),i=r("JhaV"),u=r("ZyXh"),a=r("bBVJ"),c=r("C3ug");e.exports=function(e){var t,r,f,l,d,_,p=o(e),g="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,y=c(p),b=0;if(v&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==y||g==Array&&i(y))for(t=u(p.length),r=new g(t);t>b;b++)_=v?m(p[b],b):p[b],a(r,b,_);else for(l=y.call(p),d=l.next,r=new g;!(f=d.call(l)).done;b++)_=v?s(l,m,[f.value,b],!0):f.value,a(r,b,_);return r.length=b,r}},SE4I:function(e,t,r){var n=r("pevS"),o=r("Rxu/"),s=r("feed"),i=!s((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:i},{from:o})},SEBh:function(e,t,r){var n=r("glrk"),o=r("HAuM"),s=r("tiKp"),i=s("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||void 0==(r=n(s)[i])?t:o(r)}},SJYm:function(e,t,r){var n,o=r("b42z"),s=r("wjB2"),i=r("nleh"),u=r("bpon"),a=r("7b0v"),c=r("ejc7"),f=r("su3n"),l=">",d="<",_="prototype",p="script",g=f("IE_PROTO"),h=function(){},m=function(e){return d+p+l+e+d+"/"+p+l},v=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=c("iframe"),r="java"+p+":";return t.style.display="none",a.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(m("document.F=Object")),e.close(),e.F},b=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=n?v(n):y();var e=i.length;while(e--)delete b[_][i[e]];return b()};u[g]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[_]=o(e),r=new h,h[_]=null,r[g]=e):r=b(),void 0===t?r:s(r,t)}},STAE:function(e,t,r){var n=r("0Dky");e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},SqY4:function(e,t,r){var n,o,s=r("OsYe"),i=r("lxfd"),u=s.process,a=u&&u.versions,c=a&&a.v8;c?(n=c.split("."),o=n[0]+n[1]):i&&(n=i.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=i.match(/Chrome\/(\d+)/),n&&(o=n[1]))),e.exports=o&&+o},"T/97":function(e,t,r){var n=r("GHVm");e.exports=function(e){return Object(n(e))}},TBlU:function(e,t,r){var n=r("Jqo0"),o=Array.prototype;e.exports=function(e){var t=e.concat;return e===o||e instanceof Array&&t===o.concat?n:t}},TQFr:function(e,t,r){var n=r("MKVd"),o=r("PlYH");function s(e,t){for(var r="",n=0,o=e.length;n<o;n++)r+=e.charCodeAt(n)^t.charCodeAt(n);return r}e.exports=function(e){for(var t="61e2e9e0d3e683bdfb96b66f60a07f31",r=o.encode(e+t,!1),i="",u="",a="",c="",f=[],l=0,d=r.length;l<d;l++)l<d/4?i+=r.charAt(l):l>=d/4&&l<d/4*2?u+=r.charAt(l):l>=d/4*2&&l<d/4*3?a+=r.charAt(l):c+=r.charAt(l);f.push(i),f.push(u),f.push(a),f.push(c);for(var _=[],p=1;p<f.length;p++)_.push(s(f[0],f[p]));for(var g="",h=0;h<_.length;h++)g+=_[h];return n(g+t)}},TWNs:function(e,t,r){var n=r("g6v/"),o=r("2oRo"),s=r("lMq5"),i=r("cVYH"),u=r("m/L8").f,a=r("JBy8").f,c=r("ROdP"),f=r("rW0t"),l=r("n3/R"),d=r("busE"),_=r("0Dky"),p=r("afO8").set,g=r("JiZb"),h=r("tiKp"),m=h("match"),v=o.RegExp,y=v.prototype,b=/a/g,w=/a/g,x=new v(b)!==b,S=l.UNSUPPORTED_Y,k=n&&s("RegExp",!x||S||_((function(){return w[m]=!1,v(b)!=b||v(w)==w||"/a/i"!=v(b,"i")})));if(k){var M=function(e,t){var r,n=this instanceof M,o=c(e),s=void 0===t;if(!n&&o&&e.constructor===M&&s)return e;x?o&&!s&&(e=e.source):e instanceof M&&(s&&(t=f.call(e)),e=e.source),S&&(r=!!t&&t.indexOf("y")>-1,r&&(t=t.replace(/y/g,"")));var u=i(x?new v(e,t):v(e,t),n?this:y,M);return S&&r&&p(u,{sticky:r}),u},E=function(e){e in M||u(M,e,{configurable:!0,get:function(){return v[e]},set:function(t){v[e]=t}})},A=a(v),I=0;while(A.length>I)E(A[I++]);y.constructor=M,M.prototype=y,d(o,"RegExp",M)}g("RegExp")},TWQb:function(e,t,r){var n=r("/GqU"),o=r("UMSQ"),s=r("I8vh"),i=function(e){return function(t,r,i){var u,a=n(t),c=o(a.length),f=s(i,c);if(e&&r!=r){while(c>f)if(u=a[f++],u!=u)return!0}else for(;c>f;f++)if((e||f in a)&&a[f]===r)return e||f||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},TeQF:function(e,t,r){"use strict";var n=r("I+eb"),o=r("tycR").filter,s=r("Hd5f"),i=r("rkAj"),u=s("filter"),a=i("filter");n({target:"Array",proto:!0,forced:!u||!a},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},TfTi:function(e,t,r){"use strict";var n=r("A2ZE"),o=r("ewvW"),s=r("m92n"),i=r("6VoE"),u=r("UMSQ"),a=r("hBjN"),c=r("NaFW");e.exports=function(e){var t,r,f,l,d,_,p=o(e),g="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,y=c(p),b=0;if(v&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==y||g==Array&&i(y))for(t=u(p.length),r=new g(t);t>b;b++)_=v?m(p[b],b):p[b],a(r,b,_);else for(l=y.call(p),d=l.next,r=new g;!(f=d.call(l)).done;b++)_=v?s(l,m,[f.value,b],!0):f.value,a(r,b,_);return r.length=b,r}},UMSQ:function(e,t,r){var n=r("ppGB"),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},UTVS:function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},UUWy:function(e,t,r){r("kQON");var n=r("eKLf"),o=r("OsYe"),s=r("j5XY"),i=r("AnMC"),u=r("dGO/"),a=r("A2Ma"),c=a("toStringTag");for(var f in n){var l=o[f],d=l&&l.prototype;d&&s(d)!==c&&i(d,c,f),u[f]=u.Array}},Ui3k:function(e,t,r){var n=r("OsYe"),o=r("KHTo");o(n.JSON,"JSON",!0)},UtpJ:function(e,t,r){e.exports=r("QDXk")},Uwh9:function(e,t,r){var n=r("G9WS");r("oVuX"),r("07d7"),r("TWNs"),r("rB9j"),r("JfAA"),r("UxlC"),r("EnZy");var o=n(r("7Gle")),s=n(r("D3kx")),i=n(r("o+MX")),u=n(r("+oHS")),a=n(r("UtpJ")),c=n(r("eLKs")),f=n(r("WxoT")),l=n(r("Kwsy")),d=n(r("ZbhI")),_=n(r("rPUy")),p=n(r("6UaR")),g=n(r("nhkr")),h=n(r("RXMP")),m=function(){var e={},t="Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ");return(0,h.default)(t).call(t,(function(t){e["[object "+t+"]"]=t.toLowerCase()})),e}(),v=function(e){return null==e?e+"":"object"===(0,g.default)(e)||"function"===typeof e?m[{}.toString.call(e)]||"object":(0,g.default)(e)},y=p.default,b=function(e){return"function"===v(e)},w=function(e){return"object"===v(e)},x=function e(){var t,r,n,o,s,i,u=arguments[0]||{},a=1,c=arguments.length,f=!1;for("boolean"===typeof u&&(f=u,u=arguments[a]||{},a++),"object"===(0,g.default)(u)||b(u)||(u={}),a===c&&(u=this,a--);a<c;a++)if(null!=(s=arguments[a]))for(o in s)t=u[o],n=s[o],u!==n&&(f&&n&&(w(n)||(r=y(n)))?(r?(r=!1,i=t&&y(t)?t:[]):i=t&&w(t)?t:{},u[o]=e(f,i,n)):void 0!==n&&(u[o]=n));return u},S=function(e,t){var r,n=0;if(y(e)){for(r=e.length;n<r;n++)if(!1===t.call(e[n],n,e[n]))break}else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},k=function(e){var t=[],r=arguments.length>1&&0==arguments[1]?"false":"true";for(var n in e){var o=e[n];o=null==o?"":o,t[t.length]="false"===r?n+"="+o:encodeURIComponent(n)+"="+encodeURIComponent(o)}var s=/%20/g;return t.join("&").replace(s,"+")},M=function(e,t,r){var n;return"function"===typeof t?(n=t,t=null):n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},x(n,e,r||{}),n.__super__=e.prototype,n.prototype=(0,_.default)(e.prototype),n.prototype._super=e,t&&x(!0,n.prototype,t),n},E=function(e){if(!e||"string"!==typeof e)return e;-1!==(0,d.default)(e).call(e,"c.58cdn.com.cn")&&(e=e.replace("c.58cdn.com.cn","img.58cdn.com.cn"));var t=e;return(0,d.default)(e).call(e,"https:")>-1?t=e.substr(6):(0,d.default)(e).call(e,"http:")>-1?t=e.substr(5):0===(0,d.default)(e).call(e,"//")&&(t=e),t},A=function(e,t){var r,n=0;if(!e&&!t)return n;if(isNaN(e)||isNaN(t))return null;if(e+="",t+="","-"==e.charAt(0)&&"-"!=t.charAt(0))return n=-1,n;if("-"!=e.charAt(0)&&"-"==t.charAt(0))return n=1,n;"-"==e.charAt(0)&&"-"==t.charAt(0)&&(e=e.substring(1),t=t.substring(1),r=!0);var o=e.length,s=t.length;if(o>s)n=1;else if(o<s)n=-1;else if(o==s)for(var i=0;i<o;i++){if(e[i]>t[i]){n=1;break}if(e[i]<t[i]){n=-1;break}e[i],t[i]}return r&&(n=1==n?-1:-1==n?1:0),n},I=null,O=1e4,T=function(e){"complete"===document.readyState?e&&e():(I=(0,l.default)((function(){I=null,e&&e()}),O),$(window).load((function(){I&&(clearTimeout(I),e&&e())})))},U={parse:function(e){try{e=JSON.parse(e)}catch(t){e={}}return e},stringify:function(e){try{e=(0,f.default)(e)}catch(t){e=""}return e}},R=function(){var e=function(e){var t,r;this.row=[],this.options={status:0,index:0};var n=(0,c.default)(t=this.resolve).call(t,this),o=(0,c.default)(r=this.reject).call(r,this);e&&e(n,o)};return e.prototype.of=function(){var t=new e;return t.row=this.row,t.options={status:0,index:0},t},e.prototype.resolve=function(){if(3!=this.options.status){var e=(0,a.default)(Array.prototype).apply(arguments);if(this.options.status=1,this.resolve_val=e,!(this.options.index>=this.row.length)){this.options.status=3;var t=this.row[this.options.index];t&&t.success.apply(t,e)}}},e.prototype.reject=function(e){if(3!=this.options.status){var t=(0,a.default)(Array.prototype).apply(arguments);if(this.options.status=2,this.reject_val=t,!(this.options.index>=this.row.length)){this.options.status=3;var r=this.row[this.options.index];r&&r.fail.apply(r,t)}}},e.prototype.then=function(e,t){var r=this.of(e,t);return r.options.index=this.options.index+1,r.success=e,r.fail=t,this.row.push(r),1==this.options.status?r.success.apply(r,this.resolve_val):2==this.options.status&&r.fail.apply(r,this.reject_val),r},e}(),L=function(){},j=function(e){return e+""==="null"||e+""==="undefined"||""===e},C=function(e){var t=e&&"object"===(0,g.default)(e)&&"[object Object]"===Object.prototype.toString.call(e)&&0===(0,u.default)(e).length;if(t)for(name in e)return!1;return t||!1},P=function(e){return j(e)?"":e+""},F=function(e,t){var r,n={full:!0},o={};for(r=0;r<t.length;r++){if(""!=e[t[r][0]]&&(j(e[t[r][0]])||(0,g.default)(e[t[r][0]])!=t[r][1]))break;o[t[r][0]]=e[t[r][0]]}return r!=t.length&&(n.full=!1),n.params=o,n},B=function(){var e;return function(t,r,n){var o=[];return function(s){o=(0,i.default)(o).call(o,s),o.length>=r?(e&&(clearTimeout(e),e=null),n&&n((0,i.default)(o).call(o)),o=[]):e||(e=(0,l.default)((function(){e=null,n&&n((0,i.default)(o).call(o)),o=[]}),t))}}}(),D=function(){var e=navigator.userAgent,t=(0,d.default)(e).call(e,"compatible")>-1&&(0,d.default)(e).call(e,"MSIE")>-1,r=(0,d.default)(e).call(e,"Edge")>-1&&!t,n=(0,d.default)(e).call(e,"Trident")>-1&&(0,d.default)(e).call(e,"rv:11.0")>-1;if(t){var o=new RegExp("MSIE (\\d+\\.\\d+);");o.test(e);var i=(0,s.default)(RegExp["$1"]);return 7==i?7:8==i?8:9==i?9:10==i?10:6}return r?"edge":n?11:-1},N=function e(t,r){try{var n=(0,o.default)(t),s=(0,o.default)(r);if(n.length!=s.length)return!1;for(var i=0;i<n.length;i++){var u=n[i],a=t[u],c=r[u];if(!r.hasOwnProperty(u))return!1;if("object"!==(0,g.default)(a)||j(a)){if(a!==c)return!1}else if(!e(a,c))return!1}return!0}catch(f){return!0}},G=function(e){return"[object Object]"===Object.prototype.toString.call(e)};e.exports={extend:x,each:S,param:k,inherits:M,urlConvert:E,fnEmpty:L,toString:P,onload:T,isEmpty:j,isEmptyObject:C,jsonHandler:U,strToNumCompare:A,asynchPipe:R,paramsChecker:F,actionThrottle:B,isIe:D()>0,isObject:G,isObjectValueEqual:N}},UxlC:function(e,t,r){"use strict";var n=r("14Sl"),o=r("glrk"),s=r("ewvW"),i=r("UMSQ"),u=r("ppGB"),a=r("HYAF"),c=r("iqWW"),f=r("FMNM"),l=Math.max,d=Math.min,_=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var m=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,y=m?"$":"$0";return[function(r,n){var o=a(this),s=void 0==r?void 0:r[e];return void 0!==s?s.call(r,o,n):t.call(String(o),r,n)},function(e,n){if(!m&&v||"string"===typeof n&&-1===n.indexOf(y)){var s=r(t,e,this,n);if(s.done)return s.value}var a=o(e),_=String(this),p="function"===typeof n;p||(n=String(n));var g=a.global;if(g){var w=a.unicode;a.lastIndex=0}var x=[];while(1){var S=f(a,_);if(null===S)break;if(x.push(S),!g)break;var k=String(S[0]);""===k&&(a.lastIndex=c(_,i(a.lastIndex),w))}for(var M="",E=0,A=0;A<x.length;A++){S=x[A];for(var I=String(S[0]),O=l(d(u(S.index),_.length),0),T=[],U=1;U<S.length;U++)T.push(h(S[U]));var R=S.groups;if(p){var L=[I].concat(T,O,_);void 0!==R&&L.push(R);var j=String(n.apply(void 0,L))}else j=b(I,_,O,T,R,n);O>=E&&(M+=_.slice(E,O)+j,E=O+I.length)}return M+_.slice(E)}];function b(e,r,n,o,i,u){var a=n+e.length,c=o.length,f=g;return void 0!==i&&(i=s(i),f=p),t.call(u,f,(function(t,s){var u;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(a);case"<":u=i[s.slice(1,-1)];break;default:var f=+s;if(0===f)return t;if(f>c){var l=_(f/10);return 0===l?t:l<=c?void 0===o[l-1]?s.charAt(1):o[l-1]+s.charAt(1):t}u=o[f-1]}return void 0===u?"":u}))}}))},V3kF:function(e,t,r){var n=r("eOcF"),o=r("T/97"),s=r("su3n"),i=r("9fuf"),u=s("IE_PROTO"),a=Object.prototype;e.exports=i?Object.getPrototypeOf:function(e){return e=o(e),n(e,u)?e[u]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},VdC8:function(e,t,r){var n=r("pevS"),o=r("9E9t");n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},VpIT:function(e,t,r){var n=r("xDBR"),o=r("xs3f");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},VsT0:function(e,t,r){r("qLPT");var n=r("oWnS");e.exports=n("Array").forEach},Vu81:function(e,t,r){var n=r("0GbY"),o=r("JBy8"),s=r("dBg+"),i=r("glrk");e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(i(e)),r=s.f;return r?t.concat(r(e)):t}},W1ep:function(e,t,r){var n=r("b42z"),o=r("JhaV"),s=r("ZyXh"),i=r("ZBQp"),u=r("C3ug"),a=r("ijsr"),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var f,l,d,_,p,g,h,m=r&&r.that,v=!(!r||!r.AS_ENTRIES),y=!(!r||!r.IS_ITERATOR),b=!(!r||!r.INTERRUPTED),w=i(t,m,1+v+b),x=function(e){return f&&a(f),new c(!0,e)},S=function(e){return v?(n(e),b?w(e[0],e[1],x):w(e[0],e[1])):b?w(e,x):w(e)};if(y)f=e;else{if(l=u(e),"function"!=typeof l)throw TypeError("Target is not iterable");if(o(l)){for(d=0,_=s(e.length);_>d;d++)if(p=S(e[d]),p&&p instanceof c)return p;return new c(!1)}f=l.call(e)}g=f.next;while(!(h=g.call(f)).done){try{p=S(h.value)}catch(k){throw a(f),k}if("object"==typeof p&&p&&p instanceof c)return p}return new c(!1)}},WGYn:function(e,t,r){var n=r("G9WS"),o=r("LYCE"),s=r("HnXd"),i=r("qjzJ"),u=r("RXMP"),a=r("fHi0"),c=r("5PDf"),f=r("OWCx"),l=r("+oHS");r("sMBO");var d=n(r("ZbhI")),_=n(r("04Ix")),p=n(r("M5Mt")),g=n(r("WxoT"));function h(e,t){var r=l(e);if(f){var n=f(e);t&&(n=c(n).call(n,(function(t){return a(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)u(r=h(Object(n),!0)).call(r,(function(t){(0,_.default)(e,t,n[t])}));else if(i)s(e,i(n));else{var c;u(c=h(Object(n))).call(c,(function(t){o(e,t,a(n,t))}))}}return e}var v=r("g20Y"),y=[],b=20,w=function(e){var t=(0,g.default)(e.url),r={isNeedRequest:!0};if(0===y.length)return r;for(var n=0;n<y.length;n++){var o=y[n][t];o&&(o.count>=b&&o.isConstantDelta&&o.isSameError&&(r.isNeedRequest=!1,r.error=o.error))}return r},x=function(e,t){var r=(0,g.default)(e.url),n=(new Date).getTime(),o=function(){var e={};e[r]={count:1,requestTime:n,delta:null,error:t,isSameError:!0,isConstantDelta:!0},y.push(e)};if(0!==y.length)for(var s=0;s<y.length;s++){var i=y[s][r];if(!i){if(s!==y.length-1)continue;o();break}i.count++;var u=n-i.requestTime;i.isConstantDelta=!(i&&i.delta&&Math.abs(u-i.delta)>100),i.delta=u,i.requestTime=n;var a=function(e,t){return e.data&&t.error.data&&e.data[0].value&&t.error.data[0].value&&e.data[0].value[0]&&t.error.data[0].value[0]&&e.data[0].value[0].name===t.error.data[0].value[0].name};i.isSameError=!!t.error_code&&t.error_code===i.error.error_code||a(t,i)||t===i.error,i.error=t,i.count<b&&!i.isSameError&&(0,p.default)(y).call(y,s,1)}else o()};e.exports=function(e,t,r){var n=w(e);if(!n.isNeedRequest)return r(n.error);var o={url:e.url,query:e.getparams,type:e.method,data:e.postparams,dataType:e.datatype,timeout:e.timeout,contentType:"text/plain;charset=UTF-8",encrypt:!1!==e.encrypt};e.header&&(o.header=e.header);(new Date).getTime();v(m(m({},o),{},{success:function(r){var n;t(r),r.error_code&&0!=(0,d.default)(n=["44007"]).call(n,r.error_code+"")&&x(e,r)},error:function(t,n,o){r(o),x(e,o)},complete:function(){(new Date).getTime()}}))}},WJkJ:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},WKiH:function(e,t,r){var n=r("HYAF"),o=r("WJkJ"),s="["+o+"]",i=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),a=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(u,"")),r}};e.exports={start:a(1),end:a(2),trim:a(3)}},WfN0:function(e,t,r){var n=r("Uwh9"),o=n.inherits,s=n.fnEmpty,i=n.extend;e.exports=o(s,{constructor:function(){this.apiUrl="",this.commonParams={},this.errorHandler=s},init:function(e,t,r){this.apiUrl=e,this.commonParams=t,this.errorHandler=r},getApiUrl:function(){return this.apiUrl},getCommonParams:function(){return i(!0,{},this.commonParams)},setCommonParams:function(e){this.commonParams=i(!0,{},this.commonParams,e)},getErrorHandler:function(){return this.errorHandler}})},"Wrk+":function(e,t,r){r("5RnW");var n=r("dktu");e.exports=n.Array.isArray},WtsB:function(e,t,r){var n=r("pevS"),o=r("wbIY"),s=r("FN+V"),i=r("pCEo"),u=r("RLqH"),a=r("bBVJ");n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(e){var t,r,n=i(e),o=u.f,c=s(n),f={},l=0;while(c.length>l)r=o(n,t=c[l++]),void 0!==r&&a(f,t,r);return f}})},Wvup:function(e,t,r){var n,o,s,i=r("OsYe"),u=r("Bvq2"),a=r("ZBQp"),c=r("7b0v"),f=r("ejc7"),l=r("D1mM"),d=r("AUl2"),_=i.location,p=i.setImmediate,g=i.clearImmediate,h=i.process,m=i.MessageChannel,v=i.Dispatch,y=0,b={},w="onreadystatechange",x=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},S=function(e){return function(){x(e)}},k=function(e){x(e.data)},M=function(e){i.postMessage(e+"",_.protocol+"//"+_.host)};p&&g||(p=function(e){var t=[],r=1;while(arguments.length>r)t.push(arguments[r++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(y),y},g=function(e){delete b[e]},d?n=function(e){h.nextTick(S(e))}:v&&v.now?n=function(e){v.now(S(e))}:m&&!l?(o=new m,s=o.port2,o.port1.onmessage=k,n=a(s.postMessage,s,1)):i.addEventListener&&"function"==typeof postMessage&&!i.importScripts&&_&&"file:"!==_.protocol&&!u(M)?(n=M,i.addEventListener("message",k,!1)):n=w in f("script")?function(e){c.appendChild(f("script"))[w]=function(){c.removeChild(this),x(e)}}:function(e){setTimeout(S(e),0)}),e.exports={set:p,clear:g}},WxoT:function(e,t,r){e.exports=r("DSbf")},X32N:function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},X55t:function(e,t,r){var n=r("QgIy"),o=Array.prototype;e.exports=function(e){var t=e.filter;return e===o||e instanceof Array&&t===o.filter?n:t}},X7LM:function(e,t,r){"use strict";var n=2147483647,o=36,s=1,i=26,u=38,a=700,c=72,f=128,l="-",d=/[^\0-\u007E]/,_=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",g=o-s,h=Math.floor,m=String.fromCharCode,v=function(e){var t=[],r=0,n=e.length;while(r<n){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&o)<<10)+(1023&s)+65536):(t.push(o),r--)}else t.push(o)}return t},y=function(e){return e+22+75*(e<26)},b=function(e,t,r){var n=0;for(e=r?h(e/a):e>>1,e+=h(e/t);e>g*i>>1;n+=o)e=h(e/g);return h(n+(g+1)*e/(e+u))},w=function(e){var t=[];e=v(e);var r,u,a=e.length,d=f,_=0,g=c;for(r=0;r<e.length;r++)u=e[r],u<128&&t.push(m(u));var w=t.length,x=w;w&&t.push(l);while(x<a){var S=n;for(r=0;r<e.length;r++)u=e[r],u>=d&&u<S&&(S=u);var k=x+1;if(S-d>h((n-_)/k))throw RangeError(p);for(_+=(S-d)*k,d=S,r=0;r<e.length;r++){if(u=e[r],u<d&&++_>n)throw RangeError(p);if(u==d){for(var M=_,E=o;;E+=o){var A=E<=g?s:E>=g+i?i:E-g;if(M<A)break;var I=M-A,O=o-A;t.push(m(y(A+I%O))),M=h(I/O)}t.push(m(y(M))),g=b(_,k,x==w),_=0,++x}}++_,++d}return t.join("")};e.exports=function(e){var t,r,n=[],o=e.toLowerCase().replace(_,".").split(".");for(t=0;t<o.length;t++)r=o[t],n.push(d.test(r)?"xn--"+w(r):r);return n.join(".")}},XEyi:function(e,t,r){var n=r("oM22");e.exports=n},XGwC:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},XVXW:function(e,t,r){r("UUWy");var n=r("MO/6"),o=r("j5XY"),s=Array.prototype,i={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.keys;return e===s||e instanceof Array&&t===s.keys||i.hasOwnProperty(o(e))?n:t}},XuIZ:function(e,t,r){r("EFVU"),r("Hl3M")},Y4Ys:function(e,t,r){var n=r("pCEo"),o=r("ZyXh"),s=r("RQhY"),i=function(e){return function(t,r,i){var u,a=n(t),c=o(a.length),f=s(i,c);if(e&&r!=r){while(c>f)if(u=a[f++],u!=u)return!0}else for(;c>f;f++)if((e||f in a)&&a[f]===r)return e||f||0;return!e&&-1}};e.exports={includes:i(!0),indexOf:i(!1)}},Y4yM:function(e,t,r){var n=r("Bvq2"),o=r("/EgQ"),s="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s.call(e,""):Object(e)}:Object},YF1G:function(e,t,r){var n=r("xrYK"),o=r("2oRo");e.exports="process"==n(o.process)},YG62:function(e,t,r){var n=r("X55t");e.exports=n},YNrV:function(e,t,r){"use strict";var n=r("g6v/"),o=r("0Dky"),s=r("33Wh"),i=r("dBg+"),u=r("0eef"),a=r("ewvW"),c=r("RK3t"),f=Object.assign,l=Object.defineProperty;e.exports=!f||o((function(){if(n&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){t[e]=e})),7!=f({},e)[r]||s(f({},t)).join("")!=o}))?function(e,t){var r=a(e),o=arguments.length,f=1,l=i.f,d=u.f;while(o>f){var _,p=c(arguments[f++]),g=l?s(p).concat(l(p)):s(p),h=g.length,m=0;while(h>m)_=g[m++],n&&!d.call(p,_)||(r[_]=p[_])}return r}:f},YiBS:function(e,t,r){var n=r("/EgQ");e.exports=Array.isArray||function(e){return"Array"==n(e)}},YnFm:function(e,t,r){e.exports=r("NzrZ")},"YqT+":function(e,t,r){r("hFpA");var n=r("oWnS");e.exports=n("Array").sort},YtAO:function(e,t,r){var n=r("HmPo");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},ZBQp:function(e,t,r){var n=r("zJQS");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},ZNvi:function(e,t){},ZUd8:function(e,t,r){var n=r("ppGB"),o=r("HYAF"),s=function(e){return function(t,r){var s,i,u=String(o(t)),a=n(r),c=u.length;return a<0||a>=c?e?"":void 0:(s=u.charCodeAt(a),s<55296||s>56319||a+1===c||(i=u.charCodeAt(a+1))<56320||i>57343?e?u.charAt(a):s:e?u.slice(a,a+2):i-56320+(s-55296<<10)+65536)}};e.exports={codeAt:s(!1),charAt:s(!0)}},ZbhI:function(e,t,r){e.exports=r("J6x8")},ZfDv:function(e,t,r){var n=r("hh1v"),o=r("6LWA"),s=r("tiKp"),i=s("species");e.exports=function(e,t){var r;return o(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},ZyXh:function(e,t,r){var n=r("FWHo"),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},aBPM:function(e,t,r){"use strict";var n,o,s,i,u=r("pevS"),a=r("cEKj"),c=r("OsYe"),f=r("mIMY"),l=r("81Rs"),d=r("1mbr"),_=r("Cupc"),p=r("KHTo"),g=r("04M5"),h=r("39uu"),m=r("zJQS"),v=r("X32N"),y=r("6Jnn"),b=r("W1ep"),w=r("feed"),x=r("sOpI"),S=r("Wvup").set,k=r("oOYW"),M=r("fvkw"),E=r("wvDy"),A=r("rSeq"),I=r("m40S"),O=r("L1rz"),T=r("oOVA"),U=r("A2Ma"),R=r("AUl2"),L=r("SqY4"),j=U("species"),C="Promise",P=O.get,F=O.set,B=O.getterFor(C),D=l,N=c.TypeError,G=c.document,W=c.process,q=f("fetch"),H=A.f,Y=H,J=!!(G&&G.createEvent&&c.dispatchEvent),K="function"==typeof PromiseRejectionEvent,V="unhandledrejection",X="rejectionhandled",z=0,Q=1,Z=2,$=1,ee=2,te=T(C,(function(){var e=y(D)!==String(D);if(!e){if(66===L)return!0;if(!R&&!K)return!0}if(a&&!D.prototype["finally"])return!0;if(L>=51&&/native code/.test(D))return!1;var t=D.resolve(1),r=function(e){e((function(){}),(function(){}))},n=t.constructor={};return n[j]=r,!(t.then((function(){}))instanceof r)})),re=te||!w((function(e){D.all(e)["catch"]((function(){}))})),ne=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},oe=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;k((function(){var n=e.value,o=e.state==Q,s=0;while(r.length>s){var i,u,a,c=r[s++],f=o?c.ok:c.fail,l=c.resolve,d=c.reject,_=c.domain;try{f?(o||(e.rejection===ee&&ae(e),e.rejection=$),!0===f?i=n:(_&&_.enter(),i=f(n),_&&(_.exit(),a=!0)),i===c.promise?d(N("Promise-chain cycle")):(u=ne(i))?u.call(i,l,d):l(i)):d(n)}catch(p){_&&!a&&_.exit(),d(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)}))}},se=function(e,t,r){var n,o;J?(n=G.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!K&&(o=c["on"+e])?o(n):e===V&&E("Unhandled promise rejection",r)},ie=function(e){S.call(c,(function(){var t,r=e.facade,n=e.value,o=ue(e);if(o&&(t=I((function(){R?W.emit("unhandledRejection",n,r):se(V,r,n)})),e.rejection=R||ue(e)?ee:$,t.error))throw t.value}))},ue=function(e){return e.rejection!==$&&!e.parent},ae=function(e){S.call(c,(function(){var t=e.facade;R?W.emit("rejectionHandled",t):se(X,t,e.value)}))},ce=function(e,t,r){return function(n){e(t,n,r)}},fe=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=Z,oe(e,!0))},le=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw N("Promise can't be resolved itself");var n=ne(t);n?k((function(){var r={done:!1};try{n.call(t,ce(le,r,e),ce(fe,r,e))}catch(o){fe(r,o,e)}})):(e.value=t,e.state=Q,oe(e,!1))}catch(o){fe({done:!1},o,e)}}};te&&(D=function(e){v(this,D,C),m(e),n.call(this);var t=P(this);try{e(ce(le,t),ce(fe,t))}catch(r){fe(t,r)}},n=function(e){F(this,{type:C,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:z,value:void 0})},n.prototype=_(D.prototype,{then:function(e,t){var r=B(this),n=H(x(this,D));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=R?W.domain:void 0,r.parent=!0,r.reactions.push(n),r.state!=z&&oe(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n,t=P(e);this.promise=e,this.resolve=ce(le,t),this.reject=ce(fe,t)},A.f=H=function(e){return e===D||e===s?new o(e):Y(e)},a||"function"!=typeof l||(i=l.prototype.then,d(l.prototype,"then",(function(e,t){var r=this;return new D((function(e,t){i.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof q&&u({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return M(D,q.apply(c,arguments))}}))),u({global:!0,wrap:!0,forced:te},{Promise:D}),p(D,C,!1,!0),g(C),s=f(C),u({target:C,stat:!0,forced:te},{reject:function(e){var t=H(this);return t.reject.call(void 0,e),t.promise}}),u({target:C,stat:!0,forced:a||te},{resolve:function(e){return M(a&&this===s?D:this,e)}}),u({target:C,stat:!0,forced:re},{all:function(e){var t=this,r=H(t),n=r.resolve,o=r.reject,s=I((function(){var r=m(t.resolve),s=[],i=0,u=1;b(e,(function(e){var a=i++,c=!1;s.push(void 0),u++,r.call(t,e).then((function(e){c||(c=!0,s[a]=e,--u||n(s))}),o)})),--u||n(s)}));return s.error&&o(s.value),r.promise},race:function(e){var t=this,r=H(t),n=r.reject,o=I((function(){var o=m(t.resolve);b(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},afO8:function(e,t,r){var n,o,s,i=r("f5p1"),u=r("2oRo"),a=r("hh1v"),c=r("kRJp"),f=r("UTVS"),l=r("xs3f"),d=r("93I0"),_=r("0BK2"),p=u.WeakMap,g=function(e){return s(e)?o(e):n(e,{})},h=function(e){return function(t){var r;if(!a(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(i){var m=l.state||(l.state=new p),v=m.get,y=m.has,b=m.set;n=function(e,t){return t.facade=e,b.call(m,e,t),t},o=function(e){return v.call(m,e)||{}},s=function(e){return y.call(m,e)}}else{var w=d("state");_[w]=!0,n=function(e,t){return t.facade=e,c(e,w,t),t},o=function(e){return f(e,w)?e[w]:{}},s=function(e){return f(e,w)}}e.exports={set:n,get:o,has:s,enforce:g,getterFor:h}},b0FF:function(e,t,r){var n=function(){};n=r("luha"),e.exports=n},b42z:function(e,t,r){var n=r("39uu");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},b471:function(e,t,r){var n=r("G9WS"),o=n(r("o+MX")),s=n(r("UtpJ")),i=n(r("eLKs"));(0,i.default)(Function.prototype)||(Function.prototype.bind=function(e){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=(0,s.default)(Array.prototype).call(arguments,1),r=this,n=function(){},i=function(){return r.apply(this instanceof n?this:e,(0,o.default)(t).call(t,(0,s.default)(Array.prototype).call(arguments)))};return this.prototype&&(n.prototype=this.prototype),i.prototype=new n,i})},b4mI:function(e,t){},bANI:function(e,t,r){var n=r("G9WS");r("yXV3");var o=n(r("ZbhI"));(0,o.default)(Array.prototype)||(Array.prototype.indexOf=function(e,t){var r;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return-1;var s=+t||0;if(Math.abs(s)===1/0&&(s=0),s>=o)return-1;r=Math.max(s>=0?s:o-Math.abs(s),0);while(r<o){if(r in n&&n[r]===e)return r;r++}return-1})},bBVJ:function(e,t,r){"use strict";var n=r("cWgI"),o=r("QYBB"),s=r("LGyv");e.exports=function(e,t,r){var i=n(t);i in e?o.f(e,i,s(0,r)):e[i]=r}},bF2R:function(e,t,r){var n=r("TBlU");e.exports=n},bpon:function(e,t){e.exports={}},br0Y:function(e,t,r){r("xahd");var n=r("dktu");e.exports=n.setTimeout},busE:function(e,t,r){var n=r("2oRo"),o=r("kRJp"),s=r("UTVS"),i=r("zk60"),u=r("iSVu"),a=r("afO8"),c=a.get,f=a.enforce,l=String(String).split("String");(e.exports=function(e,t,r,u){var a,c=!!u&&!!u.unsafe,d=!!u&&!!u.enumerable,_=!!u&&!!u.noTargetGet;"function"==typeof r&&("string"!=typeof t||s(r,"name")||o(r,"name",t),a=f(r),a.source||(a.source=l.join("string"==typeof t?t:""))),e!==n?(c?!_&&e[t]&&(d=!0):delete e[t],d?e[t]=r:o(e,t,r)):d?e[t]=r:i(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u(this)}))},cEKj:function(e,t){e.exports=!0},cEPT:function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!n.call({1:2},1);t.f=s?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},cRbr:function(e,t,r){"use strict";var n=r("pevS"),o=r("RQhY"),s=r("FWHo"),i=r("ZyXh"),u=r("T/97"),a=r("Q0Rw"),c=r("bBVJ"),f=r("nJYk"),l=r("MCtm"),d=f("splice"),_=l("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,h=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d||!_},{splice:function(e,t){var r,n,f,l,d,_,v=u(this),y=i(v.length),b=o(e,y),w=arguments.length;if(0===w?r=n=0:1===w?(r=0,n=y-b):(r=w-2,n=g(p(s(t),0),y-b)),y+r-n>h)throw TypeError(m);for(f=a(v,n),l=0;l<n;l++)d=b+l,d in v&&c(f,l,v[d]);if(f.length=n,r<n){for(l=b;l<y-n;l++)d=l+n,_=l+r,d in v?v[_]=v[d]:delete v[_];for(l=y;l>y-n+r;l--)delete v[l-1]}else if(r>n)for(l=y-n;l>b;l--)d=l+n-1,_=l+r-1,d in v?v[_]=v[d]:delete v[_];for(l=0;l<r;l++)v[l+b]=arguments[l+2];return v.length=y-n+r,f}})},cVYH:function(e,t,r){var n=r("hh1v"),o=r("0rvr");e.exports=function(e,t,r){var s,i;return o&&"function"==typeof(s=t.constructor)&&s!==r&&n(i=s.prototype)&&i!==r.prototype&&o(e,i),e}},cWgI:function(e,t,r){var n=r("39uu");e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},cWqo:function(e,t,r){r("jly2"),r("b4mI"),r("aBPM"),r("hNJ/"),r("dd/9"),r("NioV"),r("Pkew"),r("UUWy");var n=r("dktu");e.exports=n.Promise},cgHO:function(e,t,r){var n=r("m/sp");n("dispose")},d7IX:function(e,t,r){var n=r("wbIY"),o=r("Bvq2"),s=r("ejc7");e.exports=!n&&!o((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},dATm:function(e,t,r){var n,o=r("G9WS"),s=o(r("RXMP")),i=o(r("M5Mt")),u=o(r("ZbhI"));n=r("QnZw");var a=r("Uwh9"),c=a.isEmpty,f=a.jsonHandler,l=r("b0FF"),d=l.prefix_name,_=d+"-groupAt-idsource",p=l["prefix_name"]+"-groupAt-",g=new n(_),h=function(){return f.parse(g.getItem("idSource")||"[]")},m=function(){};m.prototype.add=function(e,t,r,o){var s=h(),i=new n(p+e);c(t.data)||c(t.id_sources)||isNaN(t.count)?o&&o():(i.setItem("contact",f.stringify(t)),(0,u.default)(s).call(s,e)<0&&(s.push(e),g.setItem("idSource",f.stringify(s))),r&&r())},m.prototype.set=function(e,t,r,o){var s=h(),i=new n(p+e);c(t.data)||c(t.id_sources)||isNaN(t.count)?o&&o():(i.setItem("contact",f.stringify(t)),(0,u.default)(s).call(s,e)>=0&&(s.push(e),g.setItem("idSource",f.stringify(s))),r&&r())},m.prototype.get=function(e,t,r){var o=new n(p+e);try{var s=f.parse(o.getItem("contact")||"{}");t&&t(s)}catch(i){r&&r(i)}},m.prototype.remove=function(e,t){var r=h(),o=new n(p+e),s=(0,u.default)(r).call(r,e);o.clear(),s>=0&&((0,i.default)(r).call(r,s,1),g.setItem("idSource",f.stringify(r))),t&&t()},m.prototype.clearAll=function(){var e,t=h();(0,s.default)(t).call(t,(function(t){e=new n(t),e.clear()})),g.setItem("idSource",f.stringify([]))},e.exports=new m},"dBg+":function(e,t){t.f=Object.getOwnPropertySymbols},"dG/n":function(e,t,r){var n=r("Qo9l"),o=r("UTVS"),s=r("5Tg+"),i=r("m/L8").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||i(t,e,{value:s.f(e)})}},"dGO/":function(e,t){e.exports={}},dP0U:function(e,t,r){var n=r("m/sp");n("observable")},"dd/9":function(e,t,r){"use strict";var n=r("pevS"),o=r("zJQS"),s=r("mIMY"),i=r("rSeq"),u=r("m40S"),a=r("W1ep"),c="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,r=i.f(t),n=r.resolve,f=r.reject,l=u((function(){var r=o(t.resolve),i=[],u=0,l=1,d=!1;a(e,(function(e){var o=u++,a=!1;i.push(void 0),l++,r.call(t,e).then((function(e){a||d||(d=!0,n(e))}),(function(e){a||d||(a=!0,i[o]=e,--l||f(new(s("AggregateError"))(i,c)))}))})),--l||f(new(s("AggregateError"))(i,c))}));return l.error&&f(l.value),r.promise}})},dktu:function(e,t){e.exports={}},doUz:function(e,t,r){var n=r("OsYe"),o=r("j60x"),s="__core-js_shared__",i=n[s]||o(s,{});e.exports=i},e7pT:function(e,t,r){var n=r("G9WS");r("sMBO"),r("qePV"),r("07d7"),r("rB9j"),r("JfAA"),r("UxlC"),r("EnZy");var o=n(r("lHQ6")),s=n(r("+oHS")),i=n(r("5PDf")),u=n(r("RXMP")),a=n(r("ZbhI")),c=n(r("M5Mt")),f=n(r("Kwsy")),l=n(r("o+MX")),d=n(r("UtpJ")),_=n(r("nhkr")),p=r("80UC"),g=r("Uwh9"),h=r("tMi5"),m=g.fnEmpty,v=g.extend,y=g.isEmpty,b=g.each,w=g.inherits,x=g.toString,S=g.jsonHandler,k=g.strToNumCompare,M=h.isGroupUser,E=h.isShopModeUser,A=h.getContactInfo,I=h.covertSourceType,O=h.getShopKey,T=r("t2eQ"),U=r("kXmp").unreadmsg,R=r("kXmp").msg,L=r("1Fqx"),j=r("mNsz"),C=r("eAFf"),P=r("QbSn"),F=r("b0FF"),B=r("xzMW"),D={},N={},G={},W=!1,q=5,H=0,Y={},J=function(e,t,r){for(var n=this,o=P.get(),s={user_id:e.params.chat_user_id,user_source:e.params.chat_user_source},i=[],u=[],a=[],c=e.msgList,f=0;f<c.length;f++)c[f].read_time+""==="0"&&(g.isEmpty(c[f].sender_id)||g.isEmpty(c[f].sender_source)||g.isEmpty(c[f].to_id)||g.isEmpty(c[f].to_source)||g.isEmpty(c[f].msg_id)||(c[f].sender_id==o.user_id&&c[f].sender_source==o.user_source?i.push(c[f].msg_id+""):u.push(c[f].msg_id+"")));if(i.length>0){var l={sender_id:o.user_id+"",sender_source:o.user_source,to_id:s.user_id+"",to_source:s.user_source,msg_ids:i};a.push(l)}if(u.length>0){var d={sender_id:s.user_id+"",sender_source:s.user_source,to_id:o.user_id+"",to_source:o.user_source,msg_ids:u};a.push(d)}0!==a.length&&n.ackMsgBatch(a,(function(){t&&t()}),(function(){r&&r()}))},K=function(e,t,r){var n=this,o=e,s=n.getLastMsg(o);if(0!==t.length){y(s)&&(s=t[0]);for(var i=t[0],u=!1,a=!y(r)&&y(r.msg_id),c=0;c<t.length;c++)k(t[c].msg_id,i.msg_id)>0&&!g.isEmpty(t[c].msg_status)&&t[c].msg_status+""!=="2"&&(y(t[c].options)||1!==t[c].options.talk_list_hide)&&(i=t[c]),k(t[c].msg_id,i.msg_id)<0&&!g.isEmpty(t[c].msg_status)&&t[c].msg_status+""!=="2"&&!g.isEmpty(i.msg_status)&&i.msg_status+""==="2"&&(y(t[c].options)||1!==t[c].options.talk_list_hide)&&(i=t[c]),0!==k(t[c].msg_id,s.msg_id)||g.isEmpty(t[c].msg_status)||t[c].msg_status+""!=="2"||(u=!0);(a||k(i.msg_id,s.msg_id)>0||k(i.msg_id,s.msg_id)<0&&u)&&(s=i),n.setLastMsg(o,s)}},V=function(e,t,r){if(y(e.sender_id)||y(e.sender_source)||y(e.to_id)||y(e.to_source)||y(e.msg_type)||y(e.show_type)||y(e.content))return r&&r();var n={sender_id:e.sender_id,sender_source:I(e.sender_source),to_id:e.to_id,to_source:I(e.to_source),msg_type:e.msg_type,show_type:e.show_type,content:e.content,options:y(e.options)?{}:e.options,show_in_app:y(e.show_in_app)?[]:e.show_in_app,refer:y(e.refer)?{}:e.refer,at_info:y(e.at_info)?"":e.at_info,kf_id:y(e.kf_id)?null:e.kf_id,kf_source:y(e.kf_source)?null:I(e.kf_source)};j(C.sendmsg.name,null,n,(function(e){t&&t(e)}),r)};e.exports=w(p,{constructor:function(){p.call(this),this._lastMsg={},this._unread={},this._refer={},this._loadedMsg={},this._deleted_msg_ids={},this._deleted_msgs=[]},_referToString:function(e){if("[object Object]"!==Object.prototype.toString.call(e))return null;if(!y(e)&&!y(e.invitation)&&"[object Object]"==Object.prototype.toString.call(e.invitation)){var t=e.invitation;t.id=x(t.id),t.title=x(t.title),t.url=x(t.url),t.rootcateid=x(t.rootcateid),t.cateid=x(t.cateid),t.role=x(t.role),t.scene=x(t.scene),t.cityid=x(t.cityid),t.cate_extra=x(t.cate_extra),t.transfer_info=x(t.transfer_info),t.flow_source="object"==(0,_.default)(t.flow_source)?S.stringify(t.flow_source):x(t.flow_source)}return e},_send:function(e,t,r){V.apply(this,(0,d.default)(Array.prototype).call(arguments))},_setUnreadToZero:function(e,t){var r=A(e),n=r.user_key,o=r.user_id,s=r.user_source,i=E(e)?n+"@@"+O(e):n;if(this._unread[i]){var u={};u[i]=0,this._unread[i]=0,this.triggerEvent(B.unreadChanged,u)}var a=o+"@"+s;if(!(g.isEmpty(e)&&g.isEmpty(e.msg_id)&&g.isEmpty(this.getLastMsg(a).msg_id))){var c=g.isEmpty(e)||g.isEmpty(e.msg_id)?this.getLastMsg(a).msg_id+"":e.msg_id;this.ackShown({sender_id:e.sender_id,sender_source:I(e.sender_source),msg_ids:[c],to_id:e.to_id,to_source:e.to_source},(function(){e.showed_count=e.msg_index,t&&t(e)}),(function(){t&&t()}))}},_saveUnreadNum:function(e){var t=this,r={};b(e,(function(e,n){var o=n.contact,s=n.num,i=t._unread[o],u=i?i+s:s;u<0&&(u=0),t._unread[o]=u,r[o]=u})),t.triggerEvent(B.unreadChanged,r)},syncUnreadNum:function(e){var t=this,r={};b(e,(function(e,n){var o=n.contact,s=n.num;s<0&&(s=0),r[o]=s,t.updateUnreadNum(o,s)}))},_getMsgRecordsRemote:function(e,t,r){var n=this,o=e.chat_user_id+"@"+e.chat_user_source+"@"+e.last_min_msg_id;if(y(e.shop_id)||y(e.shop_source)||(o=e.chat_user_id+"@"+e.chat_user_source+"@@"+e.shop_id+"@"+e.shop_source+"@"+e.last_min_msg_id),D[o])D[o].then((function(e){t&&t(e)}),r);else{var s=$.Deferred();D[o]=s.promise(),function(o){j(C.get_chat_records.name,e,null,(function(r){var i=r.msg_list;b(i,(function(e,t){"string"===typeof t.content&&(t.content=S.parse(t.content))}));var u=e.chat_user_id+"@"+e.chat_user_source;y(e.shop_id)||y(e.shop_source)||(u=e.chat_user_id+"@"+e.chat_user_source+"@@"+e.shop_id+"@"+e.shop_source);var a=n._loadedMsg[u]&&n._loadedMsg[u].msg_list?n._loadedMsg[u].msg_list:[];n._loadedMsg[u]={have_more:1==r.have_more,msg_list:(0,l.default)(a).call(a,r.msg_list)},s.resolve(i),delete D[o],J.call(n,{params:e,msgList:i}),t&&t(i)}),(function(e){s.reject(e),delete D[o],r&&r(e)}))}(o)}},_getMsgFromLocal:function(e,t,r){return!1},setUnreadToZero:function(e,t,r){if(W){var n=this;(0,f.default)((function(){n.setUnreadToZero(e,t)}),q)}else{this._setUnreadToZero(e,r),W=!0;var o=A(e).user_key,s=E(e)?o+"@@"+O(e):o;0==this._unread[s]||this._unread[s]?(H=(new Date).getTime(),U.update(s,0,(function(){W=!1}),(function(e){W=!1}))):W=!1,R.add([e],(function(){}),(function(e){})),t&&t()}},updateUnreadNum:function(e,t){if(W){var r=this;(0,f.default)((function(){r.updateUnreadNum(e,t)}),q)}else W=!0,H=(new Date).getTime(),t=t<0?0:t,U.update(e,t,(function(){W=!1}),(function(e){W=!1}))},saveUnreadNum:function(e){this._saveUnreadNum(e),H=(new Date).getTime(),this.addUnreadMsgToDB(e)},addUnreadMsgToDB:function(e,t,r){var n=this;W?(0,f.default)((function(){n.addUnreadMsgToDB(e,t,r)}),q):(W=!0,U.add(e,(function(){W=!1,t&&t()}),(function(e){W=!1,r&&r()})))},start:function(){var e=this;e._unreadTimer=new L({onElapsed:function(t){var r=(new Date).getTime();U.getAll((function(n){if(r<H)return t();var o=!1,s={};b(n,(function(t,r){var n=e._unread[t];n=n||0,n!=r&&(r<0&&(r=0),e._unread[t]=r,s[t]=r,o=!0)})),o&&e.triggerEvent(B.unreadChanged,s),t()}),(function(r){e._unreadTimer.setDuration(0),t()}))},duration:500}),e._unreadTimer.start(),"xcx"!=T.get()&&R.getAllRefer((function(t){b(t,(function(t,r){var n,o,s=t.split("@@"),i=s[0],u=i.split("@")[0],a=i.split("@")[1];if(s.length>1){var c=s[1];n=c.split("@")[0],o=c.split("@")[1]}e._refer[t]=r;var f={refer:r,user_id:u,user_source:a,shop_id:n,shop_source:o};e.triggerEvent(B.referChanged,f)}))}))},stop:function(){this._unreadTimer&&this._unreadTimer.stop()},clearAll:m,send:m,resetLoadedMsg:m,insert:function(e,t){var r=-1,n=e.length,o=t.msg_id;if(0===n||k(o,e[0].msg_id)<0)r=0;else if(k(o,e[n-1].msg_id)>0)r=n;else for(var s=0;s<n;s++){if(k(e[s].msg_id,o)<0&&k(e[s+1].msg_id,o)>0){r=s+1;break}if(0==k(e[s].msg_id,o)){r=-1;break}}-1!==r&&(0,c.default)(e).call(e,r,0,t)},ackShown:function(e,t,r){var n,o=this;if(n=S.stringify(e),N[n])N[n].then((function(e){t&&t(e)}),r);else{var s=$.Deferred();N[n]=s.promise(),function(n){j(C.ack_msg_show.name,null,e,(function(r){t&&t(r);var i=[{other_id:r.other_id,other_source:r.other_source,shop_id:e.shop_id,shop_source:e.shop_source,other_data:[{other_id:r.other_id,other_last_showed_msg_id:r.other_last_showed_msg_id,other_showed_count:r.other_showed_count,other_source:r.other_source}]}];o.saveOtherReadUpdate(i,!0),s.resolve(r),delete N[n]}),(function(e){r&&r(e),s.reject(e),delete N[n]}))}(n)}},ackRead:function(e,t,r){j(C.ack_msg_read.name,null,e,t,r)},ackMsgBatch:function(e,t,r){j(C.ack_msg_batch.name,null,e,t,r)},getMsgRecords:function(e,t,r){var n=this,o=function(e,t,r){if(!n._getMsgFromLocal(e,t,r)){if(-1!==e.option)return t([]);var o,i=e.user_id+"@"+e.user_source;y(e.shop_id)||y(e.shop_source)||(i+="@@"+e.shop_id+"@"+e.shop_source);var c=n._loadedMsg[i];if(!y(c)&&!y(c.have_more)&&!c.have_more&&!e.is_get_from_api)return y(e.msg_id)?t&&t(c.msg_list):t&&t([]);var f={chat_user_id:e.user_id,chat_user_source:e.user_source,count:e.count,last_min_msg_id:y(e.msg_id)?0:e.msg_id,forward:y(e.forward)||-1===(0,a.default)(o=["1","0"]).call(o,x(e.forward))?1:Number(e.forward),shop_id:y(e.shop_id)?null:e.shop_id,shop_source:y(e.shop_source)?null:e.shop_source};n._getMsgRecordsRemote(f,(function(r){var o=[{other_id:e.user_id,other_source:e.user_source,shop_id:y(e.shop_id)?null:e.shop_id,shop_source:y(e.shop_source)?null:e.shop_source}];if(M({user_source:e.user_source}))s(r,(function(){t&&t(r)}));else{var i=e.user_id+"@"+e.user_source,a=Y[i];y(e.msg_id)||y(a)?n.getOthersShowedCount(o,(function(e){var n=e[0];(0,u.default)(r).call(r,(function(e,t){e.other_showed_count=n.other_showed_count?n.other_showed_count:0,e.other_last_showed_msg_id=n.other_last_showed_msg_id?n.other_last_showed_msg_id:"0"})),(y(a)||!y(n)&&!y(a)&&k(n.other_last_showed_msg_id,a.other_last_showed_msg_id)>0)&&(Y[i]=n),s(r,(function(){t&&t(r)}))}),(function(){s(r,(function(){t&&t(r)}))})):((0,u.default)(r).call(r,(function(e,t){e.other_showed_count=a.other_showed_count?a.other_showed_count:0,e.other_last_showed_msg_id=a.other_last_showed_msg_id?a.other_last_showed_msg_id:"0"})),s(r,(function(){t&&t(r)})))}}),r)}},s=function(e,t){if(e=(0,i.default)(e).call(e,(function(e){return e.msg_status+""==="2"})),0===e.length)return t&&t();R.add(e,(function(){t&&t()}),(function(e){t&&t()}))},c=[],f=function(){return function(e,t,r){o(e,(function(o,s){var i,u,l=o.length;if(-1!==(0,a.default)(i=["web","wap"]).call(i,"web")){u=[];for(var _=0,p=o.length;_<p;_++){var g=o[_];n.isNeedShow(g)&&u.push(g)}}else 0;var h=e.user_id+"@"+e.user_source;y(e.shop_id)||y(e.shop_source)||(h+="@@"+e.shop_id+"@"+e.shop_source);var m=!!y(n._loadedMsg[h])||n._loadedMsg[h].have_more;if(!e.localonly&&!y(m)&&m&&0==o.length&&!y(e.option)&&-1==e.option){var v=n._loadedMsg[h],b=v.msg_list,w=b[b.length-1];return e.msg_id=w.msg_id,e.count+=10,void f(e,t,r)}Array.prototype.push.apply(c,u);var x=c.length;if(!e.localonly&&-1==e.option&&!y(m)&&!m){var S=c.length;if(S>0){var k=e.user_id+"@"+e.user_source;y(e.shop_id)||y(e.shop_source)||(k+="@@"+e.shop_id+"@"+e.shop_source),K.call(n,k,c,e)}var M=P.get(),E=M.user_id+"_"+M.user_source,A=e.user_id+"_"+e.user_source,I=E+"@"+A;if(y(e.shop_id)||y(e.shop_source)||(I=e.shop_id+"_"+e.shop_source+"@"+A),n._msgList[I])for(var O=0;O<S;O++)n.insert(n._msgList[I],c[O]);else n._msgList[I]=c;for(O=0;O<c.length;O++)n._msgIdObj[c[O].msg_id]=c[O];return t(c,s)}if(x>=e.count||(1==e.option||e.localonly)&&o.length<=e.count){k=e.user_id+"@"+e.user_source;y(e.shop_id)||y(e.shop_source)||(k+="@@"+e.shop_id+"@"+e.shop_source),K.call(n,k,c,e);var T=x>=e.count?e.count:c.length;M=P.get(),E=M.user_id+"_"+M.user_source,A=e.user_id+"_"+e.user_source,I=E+"@"+A;if(y(e.shop_id)||y(e.shop_source)||(I=e.shop_id+"_"+e.shop_source+"@"+A),n._msgList[I]){var U=(0,d.default)(c).call(c,0,T);for(O=0;O<U.length;O++)n.insert(n._msgList[I],U[O])}else n._msgList[I]=(0,d.default)(c).call(c,0,T);for(O=0;O<c.length;O++)n._msgIdObj[c[O].msg_id]=c[O];t((0,d.default)(c).call(c,0,T),s)}else{w=1==e.option?o[0]:l>0?o[l-1]:x>0?c[x-1]:null;if(y(w))return t(c,s);e.msg_id=w.msg_id,f(e,t,r)}}),(function(e){r&&r(e)}))}}();f(e,t,r)},replaceField:function(e,t){var r;(0,u.default)(r=(0,s.default)(e)).call(r,(function(r){t&&void 0!==t[r]&&(e[r]=t[r])}))},getReplaceMsgRecords:function(e,t,r){var n=this,o=function(){return function(e,t,r){n._getReplaceMsgFromLocal(e,(function(e){t(e)}),(function(e){r&&r(e)}))}}();o(e,t,r)},getDeletedMsgRecords:function(e,t,r){var n=this,o=function(){return function(e,t,r){n._getDeletedMsgFromLocal(e,(function(e){t(e)}),(function(e){r&&r(e)}))}}();o(e,t,r)},getAllUnreadAmount:function(){return this._unread},isNeedShow:m,getLastMsg:function(e){return this._lastMsg[e]},setLastMsg:function(e,t){(y(this._lastMsg[e])||!y(this._lastMsg[e])&&!y(t.msg_id))&&(this._lastMsg[e]=t)},getUnreceviedMsgNum:function(e,t){j(C.get_total_unread_msg_count.name,null,null,(function(t){e&&e((0,o.default)(t))}),(function(e){t&&t(null)}))},setEvaluation:function(e,t,r){j(C.set_evaluation.name,null,e,t,r)},call:function(e,t,r){j(C.call.name,null,e,t,r)},update_call:function(e,t,r){j(C.update_call.name,null,e,t,r)},update_event:function(e,t,r){j(C.update_event.name,null,e,t,r)},delMsg:function(e,t,r){var n=this;j(C.del_msg.name,null,e,(function(){var o,s=P.get(),i=s.user_id+"_"+s.user_source,u=e.sender_id+"_"+e.sender_source,a=e.to_id+"_"+e.to_source,c=i+"@"+u;if(E(e)&&i!==u&&i!==a){var f=E({user_source:e.to_source})?a:E({user_source:e.sender_source})?u:null;o=E({user_source:e.to_source})?e.to_id+"@"+e.to_source:E({user_source:e.sender_source})?e.sender_id+"@"+e.sender_source:null;var l=f==u?a:u;c=f+"@"+l}else c=M({user_source:e.to_source})||i==u?i+"@"+a:c;var d=v(!0,[],n._msgList[c]);n.getDeletedMsgsFromLocal(e,(function(){for(var r=d.length,i=r-1;i>=0;i--)g.isEmpty(d[i].msg_id)||(g.isEmpty(e.msg_id)||0!==k(d[i].msg_id,e.msg_id)||(d[i].msg_status=2,n._msgList[c][i].msg_status=2),n._deleted_msg_ids[d[i].msg_id]&&(d[i].msg_status=2,n._msgList[c][i].msg_status=2));var u=e.to_id,a=e.to_source;M({user_source:e.to_source})||e.sender_id+"@"+e.sender_source===s.user_id+"@"+s.user_source||(u=e.sender_id,a=e.sender_source);var f=u+"@"+a;y(o)||(f+="@@"+o),K.call(n,f,d),R.add(d,(function(){}),(function(e){})),t&&t()}),(function(){r&&r()}))}),r)},setDeletedMsgs:function(e){if(this.saveDeletedMsgs(e),e instanceof Array)for(var t=0,r=e.length;t<r;t++){var n=e[t],o=n.msg_id;this._deleted_msg_ids[o]?F["is_not_sync_page"]&&(oldrecord._deleted_send_time||(oldrecord._deleted_send_time={},oldrecord._deleted_send_time[oldrecord.send_time]=!0),oldrecord._deleted_send_time[n.send_time]=!0,n._deleted_send_time=oldrecord._deleted_send_time,this._deleted_msg_ids[o]=n):(this._deleted_msg_ids[o]=n,F["is_not_sync_page"]&&this._deleted_msgs.push(n))}},getDeletedMsgsFromLocal:function(e,t,r){var n=this;return F["is_not_sync_page"]?t&&t(n._deleted_msgs):R.deletedMsgFind(e,(function(e){if(e instanceof Array)for(var r=0,o=e.length;r<o;r++){var s=e[r],i=s.msg_id;n._deleted_msg_ids[i]||(n._deleted_msg_ids[i]=!0)}t&&t(e)}),(function(e){r&&r(e)})),!0},getAllDeletedMsgs:function(){return this._deleted_msg_ids},getOthersShowedCount:function(e,t,r){if(y(e)||0==e.length)return r&&r();var n=[];if(b(e,(function(e,t){var r={};y(t.other_id)||y(t.other_source)||(r.other_id=t.other_id,r.other_source=I(t.other_source)),y(t.shop_id)||y(t.shop_source)||(r.shop_id=t.shop_id,r.shop_source=I(t.shop_source)),n.push(r)})),0==n.length)return r&&r();j(C.get_others_showed_count.name,null,n,(function(e){t&&t(e)}),r)},saveOtherReadUpdate:function(e,t){var r=this,n=[];b(e,(function(e,o){b(o.other_data,(function(e,o){var s=P.get(),i=s.user_id+"_"+s.user_source,u=o.other_id+"_"+o.other_source,a=i+"@"+u;if(y(o.shop_id)||y(o.shop_source)||(a=o.shop_id+"_"+o.shop_source+"@"+u),r._msgList[a]){var c=r._msgList[a];if(F["is_not_sync_page"])for(var f=0;f<c.length;f++)c[f]=v(!0,c[f],o),n.push(c[f]);else b(c,(function(e,t){var r=v(!0,t,o);n.push(r)}))}else t||(o.user_key=a.replace(/@/g,"@@").replace(/_/g,"@"),R.addField(o,(function(){}),(function(e){})))}))})),0!=n.length&&R.add(n,(function(){}),(function(e){}))},getSessionUnreadMsgCount:function(e,t,r){j(C.get_session_unread_msg_count.name,null,null,t,r)},clearAllUnreadMsgs:function(e,t,r){j(C.clear_all_unread_msgs.name,null,e,(function(e){t&&t(e)}),r)},getForwardMsg:function(e,t,r){j(C.get_forward_msg.name,null,e,(function(e){t&&t(e)}),r)},collection:function(e,t,r){j(C.collection.name,null,e,(function(e){t&&t(e)}),r)},delCollection:function(e,t,r){j(C.del_collection.name,null,e,(function(e){t&&t(e)}),r)},getCollection:function(e,t,r){var n=e.last_collect_id+"@"+e.count+"@"+e.type;if(G[n])G[n].then((function(e){t&&t(e)}),r);else{var o=$.Deferred();G[n]=o.promise(),function(n){j(C.get_collection.name,null,e,(function(e){o.resolve(e),delete G[n],t&&t(e)}),(function(){o.reject(),delete G[n],r&&r()}))}(n)}},getUnreadIndexDB:function(e,t){R.getUnreadIndex(e,t)},setUnreadIndexDB:function(e,t,r){R.setUnreadIndex(e,t,r)}})},eAFf:function(e,t,r){r("sMBO");var n={init:{url:"user/init",method:"get"},get_userinfo:{url:"user/get_userinfo",method:"get"},get_userinfo_batch:{url:"user/get_user_info_batch",method:"post"},get_user_online_info:{url:"user/get_user_online_info",method:"get"},get_users_online_info:{url:"user/get_users_online_info",method:"post"},add_black_list:{url:"user/add_black_list",method:"get"},del_black_list:{url:"user/del_black_list",method:"get"},is_blacked:{url:"user/is_blacked",method:"get"},msg_set:{url:"user/msg_set",method:"post"},remark:{url:"user/remark",method:"post"},sendmsg:{url:"msg/sendmessage",method:"post",sign:!0},send_msg_js:{url:"msg/send_msg_js",method:"post",sign:!0},withdraw_msg:{url:"msg/withdraw_msg",method:"post"},ack_msg_batch:{url:"msg/ack_msg_batch",method:"post"},ack_msg_read:{url:"msg/ack_msg_read",method:"post"},ack_msg_show:{url:"msg/ack_msg_show",method:"post"},get_session_list:{url:"msg/get_session_list",method:"get"},get_specify_session_list:{url:"msg/get_specify_session_list",method:"post"},get_chat_records:{url:"msg/get_chat_records",method:"get"},get_unrecv_msgs:{url:"msg/get_unrecv_msgs",method:"get"},get_captcha:{url:"msg/get_captcha",method:"get"},validate_captcha:{url:"msg/validate_captcha",method:"get"},get_session_unread_msg_count:{url:"msg/get_session_unread_msg_count",method:"get"},exchange_xid:{url:"common/js/exchange_xid",method:"post"},get_total_unread_msg_count:{url:"msg/get_total_unread_msg_count",method:"get"},clear_all_unread_msgs:{url:"msg/clear_all_unread_msgs",method:"post"},get_others_showed_count:{url:"msg/get_others_showed_count",method:"post"},get_wostoken:{url:"rich_text/get_wostoken",method:"post"},notify_hunter:{url:"rich_text/notify_hunter",method:"post"},check_file:{url:"rich_text/check_file",method:"post"},set_evaluation:{url:"msg/set_evaluation",method:"post"},del_sessions:{url:"msg/del_sessions",method:"post"},call:{url:"msg/call",method:"post"},update_call:{url:"msg/update_call",method:"post"},update_event:{url:"msg/update_event",method:"post"},call_join_room:{url:"join/",method:"post",api_type:"call"},call_get_room:{url:"room/getroomid",method:"post",api_type:"call"},del_msg:{url:"msg/delete_msg",method:"post"},create_group:{url:"group/create_group",method:"post"},update_group:{url:"group/update_group",method:"post"},disband_group:{url:"group/disband_group",method:"post"},apply_join_group:{url:"group/apply_join_group",method:"get"},invite_join_group:{url:"group/invite_join_group",method:"post"},accept_join_group_apply:{url:"group/accept_join_group_apply",method:"post"},accept_join_group_invite:{url:"group/accept_join_group_invite",method:"post"},manage_group_member:{url:"group/manage_group_member",method:"post"},quit_group:{url:"group/quit_group",method:"get"},transfer_group_owner:{url:"group/transfer_group_owner",method:"post"},get_group_member:{url:"group/get_group_member",method:"post"},get_group_member_byid:{url:"group/get_group_member_byid",method:"post"},get_group_info:{url:"group/get_group_info",method:"post"},set_slient:{url:"group/set_slient",method:"post"},accept_join_group:{url:"group/accept_join_group",method:"post"},confirm_invite:{url:"group/confirm_invite",method:"post"},get_qrcode_id:{url:"group/get_qrcode_id",method:"post"},get_qrcode_info:{url:"group/get_qrcode_info",method:"post"},report_msg:{url:"msg/reportmsg",method:"post"},ack_contactinfo:{url:"user/ask_contactinfo",method:"get"},provide_contactinfo:{url:"user/provide_contactinfo",method:"post"},glance_contactinfo:{url:"user/glance_contactinfo",method:"get"},get_self_contactinfo:{url:"user/get_self_contactinfo",method:"get"},get_forward_msg:{url:"msg/get_forward_msg",method:"post"},collection:{url:"msg/collection",method:"post"},del_collection:{url:"msg/del_collection",method:"post"},get_collection:{url:"msg/get_collection",method:"post"},set_template_msg:{url:"im/settemplatemsg",method:"post"},get_template_msg:{url:"im/gettemplatemsg",method:"post"},update_template_msg:{url:"im/updatetemplatemsg",method:"post"},delete_template_msg:{url:"im/deletetemplatemsg",method:"post"},add_notice_task:{url:"user/add_notice_task",method:"post"},update_notice_task:{url:"user/update_notice_task",method:"post"},get_notice_task_batch:{url:"user/get_notice_task_batch",method:"post"},merge_user:{url:"user/merge_user",method:"get"}};for(var o in n)n.hasOwnProperty(o)&&(n[o].name=o);e.exports=n},eBtS:function(e,t){e.exports=window.jQuery},"eDl+":function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},eKLf:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},eLKs:function(e,t,r){e.exports=r("tbMQ")},eOcF:function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},eTws:function(e,t,r){r("r4HA");var n=r("dktu");e.exports=n.parseInt},ejc7:function(e,t,r){var n=r("OsYe"),o=r("39uu"),s=n.document,i=o(s)&&o(s.createElement);e.exports=function(e){return i?s.createElement(e):{}}},ewvW:function(e,t,r){var n=r("HYAF");e.exports=function(e){return Object(n(e))}},f5p1:function(e,t,r){var n=r("2oRo"),o=r("iSVu"),s=n.WeakMap;e.exports="function"===typeof s&&/native code/.test(o(s))},fHMY:function(e,t,r){var n,o=r("glrk"),s=r("N+g0"),i=r("eDl+"),u=r("0BK2"),a=r("G+Rx"),c=r("zBJ4"),f=r("93I0"),l=">",d="<",_="prototype",p="script",g=f("IE_PROTO"),h=function(){},m=function(e){return d+p+l+e+d+"/"+p+l},v=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=c("iframe"),r="java"+p+":";return t.style.display="none",a.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(m("document.F=Object")),e.close(),e.F},b=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=n?v(n):y();var e=i.length;while(e--)delete b[_][i[e]];return b()};u[g]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h[_]=o(e),r=new h,h[_]=null,r[g]=e):r=b(),void 0===t?r:s(r,t)}},fHi0:function(e,t,r){e.exports=r("uDyp")},fbCW:function(e,t,r){"use strict";var n=r("I+eb"),o=r("tycR").find,s=r("RNIs"),i=r("rkAj"),u="find",a=!0,c=i(u);u in[]&&Array(1)[u]((function(){a=!1})),n({target:"Array",proto:!0,forced:a||!c},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s(u)},fdAy:function(e,t,r){"use strict";var n=r("I+eb"),o=r("ntOU"),s=r("4WOD"),i=r("0rvr"),u=r("1E5z"),a=r("kRJp"),c=r("busE"),f=r("tiKp"),l=r("xDBR"),d=r("P4y1"),_=r("rpNk"),p=_.IteratorPrototype,g=_.BUGGY_SAFARI_ITERATORS,h=f("iterator"),m="keys",v="values",y="entries",b=function(){return this};e.exports=function(e,t,r,f,_,w,x){o(r,t,f);var S,k,M,E=function(e){if(e===_&&U)return U;if(!g&&e in O)return O[e];switch(e){case m:return function(){return new r(this,e)};case v:return function(){return new r(this,e)};case y:return function(){return new r(this,e)}}return function(){return new r(this)}},A=t+" Iterator",I=!1,O=e.prototype,T=O[h]||O["@@iterator"]||_&&O[_],U=!g&&T||E(_),R="Array"==t&&O.entries||T;if(R&&(S=s(R.call(new e)),p!==Object.prototype&&S.next&&(l||s(S)===p||(i?i(S,p):"function"!=typeof S[h]&&a(S,h,b)),u(S,A,!0,!0),l&&(d[A]=b))),_==v&&T&&T.name!==v&&(I=!0,U=function(){return T.call(this)}),l&&!x||O[h]===U||a(O,h,U),d[t]=U,_)if(k={values:E(v),keys:w?U:E(m),entries:E(y)},x)for(M in k)(g||I||!(M in O))&&c(O,M,k[M]);else n({target:t,proto:!0,forced:g||I},k);return k}},feed:function(e,t,r){var n=r("A2Ma"),o=n("iterator"),s=!1;try{var i=0,u={next:function(){return{done:!!i++}},return:function(){s=!0}};u[o]=function(){return this},Array.from(u,(function(){throw 2}))}catch(a){}e.exports=function(e,t){if(!t&&!s)return!1;var r=!1;try{var n={};n[o]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(a){}return r}},fmT1:function(e,t,r){var n=r("80UC"),o=r("Uwh9"),s=o.extend,i=o.inherits,u=o.fnEmpty;o.jsonHandler;e.exports=i(n,{constructor:function(){n.call(this)},init:function(e){var t={api:"",cdn:"https://pic3.58cdn.com.cn"};s(t,e),this._api=t.api,this._cdn=t.cdn},upload:u,getInfo:u,resizeImg:function(e){var t=e.defaultValue||e.scale?120*e.scale:120;if(!e.originalSize||!e.originalSize.width||!e.originalSize.height)return{width:t,height:t};var r=e.originalSize.height,n=e.originalSize.width,o=e.max||e.scale?160*e.scale:160,s=e.max||e.scale?160*e.scale:160,i=n/r,u=s/o;if(r>o||n>s)i<u?(i=o/r,n*=i,r=o):i>u?(i=s/n,r*=i,n=s):(n=s,r=o);else{var a=e.min||e.scale?80*e.scale:80,c=e.min||e.scale?80*e.scale:80;n=n<c?c:n,r=r<a?a:r}return{width:n,height:r}}})},fvkw:function(e,t,r){var n=r("b42z"),o=r("39uu"),s=r("rSeq");e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=s.f(e),i=r.resolve;return i(t),r.promise}},g20Y:function(e,t,r){var n=r("Uwh9"),o=r("yz84"),s=r("Uwh9").param,i=(r("Uwh9").isObject,n.jsonHandler),u=(r("b0FF"),r("eBtS")),a=function(e){var t="jsonp"===e.dataType||e.jsonp;e.type=(e.type||"GET").toUpperCase();e.user_id;e.data=e.data&&i.stringify(e.data),e.query=s(e.query),e.encrypt&&e.data&&(e.data=o(e.data));var r={url:e.url,method:e.type,type:e.type,dataType:e.dataType,cache:!1,data:e.data,error:e.error,success:e.success,complete:e.complete};e.timeout&&(r.timeout=e.timeout),t&&(r.jsonp=e.jsonp||"callback"),e.header&&(r.header=e.header),e.query&&(e.encrypt?r.url=e.url=e.url+"?params="+o(e.query)+"&version="+o.getVersion():r.url=e.url=e.url+"?"+e.query),u.ajax(r)};e.exports=a},g4Mb:function(e,t,r){var n=r("eTws");e.exports=n},"g6v/":function(e,t,r){var n=r("0Dky");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},gByu:function(e,t,r){r("i3tW");var n=r("dktu");e.exports=n.Object.getOwnPropertySymbols},gXaK:function(e,t){},"gfA+":function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},glrk:function(e,t,r){var n=r("hh1v");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},guyh:function(e,t,r){e.exports=r("E7Zm")},hBjN:function(e,t,r){"use strict";var n=r("wE6v"),o=r("m/L8"),s=r("XGwC");e.exports=function(e,t,r){var i=n(t);i in e?o.f(e,i,s(0,r)):e[i]=r}},hFpA:function(e,t,r){"use strict";var n=r("pevS"),o=r("zJQS"),s=r("T/97"),i=r("Bvq2"),u=r("n2Hk"),a=[],c=a.sort,f=i((function(){a.sort(void 0)})),l=i((function(){a.sort(null)})),d=u("sort"),_=f||!l||!d;n({target:"Array",proto:!0,forced:_},{sort:function(e){return void 0===e?c.call(s(this)):c.call(s(this),o(e))}})},hIjh:function(e,t,r){var n={};n=r("ia6J"),e.exports=n},"hNJ/":function(e,t,r){"use strict";var n=r("pevS"),o=r("zJQS"),s=r("rSeq"),i=r("m40S"),u=r("W1ep");n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=s.f(t),n=r.resolve,a=r.reject,c=i((function(){var r=o(t.resolve),s=[],i=0,a=1;u(e,(function(e){var o=i++,u=!1;s.push(void 0),a++,r.call(t,e).then((function(e){u||(u=!0,s[o]={status:"fulfilled",value:e},--a||n(s))}),(function(e){u||(u=!0,s[o]={status:"rejected",reason:e},--a||n(s))}))})),--a||n(s)}));return c.error&&a(c.value),r.promise}})},hdMt:function(e,t,r){e.exports=r("mhMO")},hh1v:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},i3tW:function(e,t,r){"use strict";var n=r("pevS"),o=r("OsYe"),s=r("mIMY"),i=r("cEKj"),u=r("wbIY"),a=r("HmPo"),c=r("YtAO"),f=r("Bvq2"),l=r("eOcF"),d=r("YiBS"),_=r("39uu"),p=r("b42z"),g=r("T/97"),h=r("pCEo"),m=r("cWgI"),v=r("LGyv"),y=r("SJYm"),b=r("oBZR"),w=r("DPDV"),x=r("jhEP"),S=r("ogVW"),k=r("RLqH"),M=r("QYBB"),E=r("cEPT"),A=r("AnMC"),I=r("1mbr"),O=r("1lkh"),T=r("su3n"),U=r("bpon"),R=r("PoCt"),L=r("A2Ma"),j=r("vuoM"),C=r("m/sp"),P=r("KHTo"),F=r("L1rz"),B=r("3uAa").forEach,D=T("hidden"),N="Symbol",G="prototype",W=L("toPrimitive"),q=F.set,H=F.getterFor(N),Y=Object[G],J=o.Symbol,K=s("JSON","stringify"),V=k.f,X=M.f,z=x.f,Q=E.f,Z=O("symbols"),$=O("op-symbols"),ee=O("string-to-symbol-registry"),te=O("symbol-to-string-registry"),re=O("wks"),ne=o.QObject,oe=!ne||!ne[G]||!ne[G].findChild,se=u&&f((function(){return 7!=y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=V(Y,t);n&&delete Y[t],X(e,t,r),n&&e!==Y&&X(Y,t,n)}:X,ie=function(e,t){var r=Z[e]=y(J[G]);return q(r,{type:N,tag:e,description:t}),u||(r.description=t),r},ue=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof J},ae=function(e,t,r){e===Y&&ae($,t,r),p(e);var n=m(t,!0);return p(r),l(Z,n)?(r.enumerable?(l(e,D)&&e[D][n]&&(e[D][n]=!1),r=y(r,{enumerable:v(0,!1)})):(l(e,D)||X(e,D,v(1,{})),e[D][n]=!0),se(e,n,r)):X(e,n,r)},ce=function(e,t){p(e);var r=h(t),n=b(r).concat(pe(r));return B(n,(function(t){u&&!le.call(r,t)||ae(e,t,r[t])})),e},fe=function(e,t){return void 0===t?y(e):ce(y(e),t)},le=function(e){var t=m(e,!0),r=Q.call(this,t);return!(this===Y&&l(Z,t)&&!l($,t))&&(!(r||!l(this,t)||!l(Z,t)||l(this,D)&&this[D][t])||r)},de=function(e,t){var r=h(e),n=m(t,!0);if(r!==Y||!l(Z,n)||l($,n)){var o=V(r,n);return!o||!l(Z,n)||l(r,D)&&r[D][n]||(o.enumerable=!0),o}},_e=function(e){var t=z(h(e)),r=[];return B(t,(function(e){l(Z,e)||l(U,e)||r.push(e)})),r},pe=function(e){var t=e===Y,r=z(t?$:h(e)),n=[];return B(r,(function(e){!l(Z,e)||t&&!l(Y,e)||n.push(Z[e])})),n};if(a||(J=function(){if(this instanceof J)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),r=function(e){this===Y&&r.call($,e),l(this,D)&&l(this[D],t)&&(this[D][t]=!1),se(this,t,v(1,e))};return u&&oe&&se(Y,t,{configurable:!0,set:r}),ie(t,e)},I(J[G],"toString",(function(){return H(this).tag})),I(J,"withoutSetter",(function(e){return ie(R(e),e)})),E.f=le,M.f=ae,k.f=de,w.f=x.f=_e,S.f=pe,j.f=function(e){return ie(L(e),e)},u&&(X(J[G],"description",{configurable:!0,get:function(){return H(this).description}}),i||I(Y,"propertyIsEnumerable",le,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:J}),B(b(re),(function(e){C(e)})),n({target:N,stat:!0,forced:!a},{for:function(e){var t=String(e);if(l(ee,t))return ee[t];var r=J(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ue(e))throw TypeError(e+" is not a symbol");if(l(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),n({target:"Object",stat:!0,forced:!a,sham:!u},{create:fe,defineProperty:ae,defineProperties:ce,getOwnPropertyDescriptor:de}),n({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:_e,getOwnPropertySymbols:pe}),n({target:"Object",stat:!0,forced:f((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(g(e))}}),K){var ge=!a||f((function(){var e=J();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}));n({target:"JSON",stat:!0,forced:ge},{stringify:function(e,t,r){var n,o=[e],s=1;while(arguments.length>s)o.push(arguments[s++]);if(n=t,(_(t)||void 0!==e)&&!ue(e))return d(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ue(t))return t}),o[1]=t,K.apply(null,o)}})}J[G][W]||A(J[G],W,J[G].valueOf),P(J,N),U[D]=!0},iSVu:function(e,t,r){var n=r("xs3f"),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},iYz8:function(e,t,r){e.exports=r("FvEI")},ia6J:function(e,t,r){r("07d7"),r("JfAA");var n=r("REdy"),o=r("Uwh9"),s=o.inherits;o.each,o.toString,o.strToNumCompare,r("t2eQ").get(),r("xzMW"),r("mNsz"),r("eAFf"),r("QbSn"),r("b0FF");e.exports=new(s(n,{constructor:function(){n.call(this)},resetLoadedGroupInfo:function(){this._groupInfo={},this._groupMemberUsers={},this._groupMemberUserInfo={}}}))},ijsr:function(e,t,r){var n=r("b42z");e.exports=function(e){var t=e["return"];if(void 0!==t)return n(t.call(e)).value}},iqWW:function(e,t,r){"use strict";var n=r("ZUd8").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},j5XY:function(e,t,r){var n=r("1jut"),o=r("/EgQ"),s=r("A2Ma"),i=s("toStringTag"),u="Arguments"==o(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(r){}};e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=a(t=Object(e),i))?r:u?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},j60x:function(e,t,r){var n=r("OsYe"),o=r("AnMC");e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}},jJcI:function(e,t,r){var n=r("G9WS");r("TeQF");var o=n(r("5PDf"));(0,o.default)(Array.prototype)||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),r=t.length>>>0;if("function"!==typeof e)throw new TypeError;for(var n=[],o=arguments.length>=2?arguments[1]:void 0,s=0;s<r;s++)if(s in t){var i=t[s];e.call(o,i,s,t)&&n.push(i)}return n})},jP3w:function(e,t,r){var n=r("MycS"),o=Function.prototype;e.exports=function(e){var t=e.bind;return e===o||e instanceof Function&&t===o.bind?n:t}},jQUo:function(e,t,r){var n=r("m/sp");n("toPrimitive")},jhEP:function(e,t,r){var n=r("pCEo"),o=r("DPDV").f,s={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(e){try{return o(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==s.call(e)?u(e):o(n(e))}},jly2:function(e,t,r){"use strict";var n=r("pevS"),o=r("V3kF"),s=r("7GIe"),i=r("SJYm"),u=r("AnMC"),a=r("LGyv"),c=r("W1ep"),f=function(e,t){var r=this;if(!(r instanceof f))return new f(e,t);s&&(r=s(new Error(void 0),o(r))),void 0!==t&&u(r,"message",String(t));var n=[];return c(e,n.push,{that:n}),u(r,"errors",n),r};f.prototype=i(Error.prototype,{constructor:a(5,f),message:a(5,""),name:a(5,"AggregateError")}),n({global:!0},{AggregateError:f})},kE3c:function(e,t,r){var n=r("uC8H");e.exports=n},kIAf:function(e,t,r){var n=r("m/sp");n("isConcatSpreadable")},kOOl:function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},kQON:function(e,t,r){"use strict";var n=r("pCEo"),o=r("xE4W"),s=r("dGO/"),i=r("L1rz"),u=r("QFZC"),a="Array Iterator",c=i.set,f=i.getterFor(a);e.exports=u(Array,"Array",(function(e,t){c(this,{type:a,target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},kRJp:function(e,t,r){var n=r("g6v/"),o=r("m/L8"),s=r("XGwC");e.exports=n?function(e,t,r){return o.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},kWLn:function(e,t,r){var n={};n=r("85q9"),e.exports=n},kXmp:function(e,t,r){var n=r("FB6T"),o=r("mqnv"),s=r("KUyc"),i=r("N+ku"),u=r("dATm"),a=r("b0FF"),c=r("QnZw"),f=r("Uwh9"),l=f.jsonHandler,d=a.storage_version,_=a["prefix_name"]+"-version",p=new c(_),g=function(){var e=p.getItem(_);if(e){if(e=l.parse(e),e!==d){n.clearAll(),o.clearAll(),s.clearAll(),i.clearAll(),u.clearAll();try{localStorage&&localStorage.clear()}catch(t){}p.setItem(_,l.stringify(d))}}else p.setItem(_,l.stringify(d))};e.exports={msg:n,session:o,syn:s,unreadmsg:i,init:g,groupAt:u}},kmMV:function(e,t,r){"use strict";var n=r("rW0t"),o=r("n3/R"),s=RegExp.prototype.exec,i=String.prototype.replace,u=s,a=function(){var e=/a/,t=/b*/g;return s.call(e,"a"),s.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=o.UNSUPPORTED_Y||o.BROKEN_CARET,f=void 0!==/()??/.exec("")[1],l=a||f||c;l&&(u=function(e){var t,r,o,u,l=this,d=c&&l.sticky,_=n.call(l),p=l.source,g=0,h=e;return d&&(_=_.replace("y",""),-1===_.indexOf("g")&&(_+="g"),h=String(e).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==e[l.lastIndex-1])&&(p="(?: "+p+")",h=" "+h,g++),r=new RegExp("^(?:"+p+")",_)),f&&(r=new RegExp("^"+p+"$(?!\\s)",_)),a&&(t=l.lastIndex),o=s.call(d?r:l,h),d?o?(o.input=o.input.slice(g),o[0]=o[0].slice(g),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:a&&o&&(l.lastIndex=l.global?o.index+o[0].length:t),f&&o&&o.length>1&&i.call(o[0],r,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),e.exports=u},ks2j:function(e,t,r){r("HTq5");var n=r("oWnS");e.exports=n("Array").slice},kw5h:function(e,t,r){r("lRVh");var n=r("dktu"),o=n.Object,s=e.exports=function(e,t){return o.defineProperties(e,t)};o.defineProperties.sham&&(s.sham=!0)},lHQ6:function(e,t,r){e.exports=r("g4Mb")},lMq5:function(e,t,r){var n=r("0Dky"),o=/#|\.prototype\./,s=function(e,t){var r=u[i(e)];return r==c||r!=a&&("function"==typeof t?n(t):!!t)},i=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=s.data={},a=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},lRVh:function(e,t,r){var n=r("pevS"),o=r("wbIY"),s=r("wjB2");n({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperties:s})},lmK3:function(e,t,r){var n={};n=r("05LJ"),e.exports=n},luha:function(e,t,r){var n=r("G9WS");r("rB9j"),r("UxlC");var o=n(r("ZbhI")),s={prefix_name:"webim",storage_version:22,appid:null,"audio-converter":function(e){var t;return"string"===typeof e&&(0,o.default)(e).call(e,"audioconvert.58.com")>-1?0===(0,o.default)(e).call(e,"http://audioconvert.58.com")?t=e.replace("http","https"):0===(0,o.default)(e).call(e,"//audioconvert.58.com")?t="https:"+e:0===(0,o.default)(e).call(e,"audioconvert.58.com")?t="https://"+e:0===(0,o.default)(e).call(e,"https://audioconvert.58.com")&&(t=e):t="https://audioconvert.58.com/convert?amrurl="+encodeURIComponent(e),t}};s["groupchat-info"]={user_name:"",avatar:"",desc:"",auth_type:0,auth_modify:0,auth_notice:0,auth_invite:0,invitee_agreement:0,invite_cnt:0,notice:"",group_type:0,custom_info:"",owner:{user_id:"",user_source:2},creater:{user_id:"",user_source:2},member_info:{authority:3,nick_name:"",nick_spell:"",forbidden:0,add_time:(new Date).getTime},create_time:(new Date).getTime,update_time:(new Date).getTime,current_count:0,max_count:100,authority:4,self_info:{authority:3,nick_name:"",nick_spell:"",forbidden:0,add_time:(new Date).getTime}},s["is_show_audio_video"]=!1,s["is_new_encrypt"]=!1,s["new_encrypt_watcher"]=null,s["encrypt_bizid"]=null,e.exports=s},lulC:function(e,t,r){var n=r("OsYe"),o=r("6Jnn"),s=n.WeakMap;e.exports="function"===typeof s&&/native code/.test(o(s))},lxfd:function(e,t,r){var n=r("mIMY");e.exports=n("navigator","userAgent")||""},"m/L8":function(e,t,r){var n=r("g6v/"),o=r("DPsx"),s=r("glrk"),i=r("wE6v"),u=Object.defineProperty;t.f=n?u:function(e,t,r){if(s(e),t=i(t,!0),s(r),o)try{return u(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},"m/sp":function(e,t,r){var n=r("dktu"),o=r("eOcF"),s=r("vuoM"),i=r("QYBB").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||i(t,e,{value:s.f(e)})}},m40S:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},m7iD:function(e,t,r){var n=r("pevS"),o=r("Bvq2"),s=r("pCEo"),i=r("RLqH").f,u=r("wbIY"),a=o((function(){i(1)})),c=!u||a;n({target:"Object",stat:!0,forced:c,sham:!u},{getOwnPropertyDescriptor:function(e,t){return i(s(e),t)}})},m92n:function(e,t,r){var n=r("glrk"),o=r("KmKo");e.exports=function(e,t,r,s){try{return s?t(n(r)[0],r[1]):t(r)}catch(i){throw o(e),i}}},mA47:function(e,t,r){var n=r("m/sp");n("search")},mAJt:function(e,t,r){var n=r("m/sp");n("replaceAll")},mGGf:function(e,t,r){"use strict";r("4mDm");var n=r("I+eb"),o=r("0GbY"),s=r("DTth"),i=r("busE"),u=r("4syw"),a=r("1E5z"),c=r("ntOU"),f=r("afO8"),l=r("GarU"),d=r("UTVS"),_=r("A2ZE"),p=r("9d/t"),g=r("glrk"),h=r("hh1v"),m=r("fHMY"),v=r("XGwC"),y=r("mh/w"),b=r("NaFW"),w=r("tiKp"),x=o("fetch"),S=o("Headers"),k=w("iterator"),M="URLSearchParams",E=M+"Iterator",A=f.set,I=f.getterFor(M),O=f.getterFor(E),T=/\+/g,U=Array(4),R=function(e){return U[e-1]||(U[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},L=function(e){try{return decodeURIComponent(e)}catch(t){return e}},j=function(e){var t=e.replace(T," "),r=4;try{return decodeURIComponent(t)}catch(n){while(r)t=t.replace(R(r--),L);return t}},C=/[!'()~]|%20/g,P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(e){return P[e]},B=function(e){return encodeURIComponent(e).replace(C,F)},D=function(e,t){if(t){var r,n,o=t.split("&"),s=0;while(s<o.length)r=o[s++],r.length&&(n=r.split("="),e.push({key:j(n.shift()),value:j(n.join("="))}))}},N=function(e){this.entries.length=0,D(this.entries,e)},G=function(e,t){if(e<t)throw TypeError("Not enough arguments")},W=c((function(e,t){A(this,{type:E,iterator:y(I(e).entries),kind:t})}),"Iterator",(function(){var e=O(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),q=function(){l(this,q,M);var e,t,r,n,o,s,i,u,a,c=arguments.length>0?arguments[0]:void 0,f=this,_=[];if(A(f,{type:M,entries:_,updateURL:function(){},updateSearchParams:N}),void 0!==c)if(h(c))if(e=b(c),"function"===typeof e){t=e.call(c),r=t.next;while(!(n=r.call(t)).done){if(o=y(g(n.value)),s=o.next,(i=s.call(o)).done||(u=s.call(o)).done||!s.call(o).done)throw TypeError("Expected sequence with length 2");_.push({key:i.value+"",value:u.value+""})}}else for(a in c)d(c,a)&&_.push({key:a,value:c[a]+""});else D(_,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},H=q.prototype;u(H,{append:function(e,t){G(arguments.length,2);var r=I(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){G(arguments.length,1);var t=I(this),r=t.entries,n=e+"",o=0;while(o<r.length)r[o].key===n?r.splice(o,1):o++;t.updateURL()},get:function(e){G(arguments.length,1);for(var t=I(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){G(arguments.length,1);for(var t=I(this).entries,r=e+"",n=[],o=0;o<t.length;o++)t[o].key===r&&n.push(t[o].value);return n},has:function(e){G(arguments.length,1);var t=I(this).entries,r=e+"",n=0;while(n<t.length)if(t[n++].key===r)return!0;return!1},set:function(e,t){G(arguments.length,1);for(var r,n=I(this),o=n.entries,s=!1,i=e+"",u=t+"",a=0;a<o.length;a++)r=o[a],r.key===i&&(s?o.splice(a--,1):(s=!0,r.value=u));s||o.push({key:i,value:u}),n.updateURL()},sort:function(){var e,t,r,n=I(this),o=n.entries,s=o.slice();for(o.length=0,r=0;r<s.length;r++){for(e=s[r],t=0;t<r;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===r&&o.push(e)}n.updateURL()},forEach:function(e){var t,r=I(this).entries,n=_(e,arguments.length>1?arguments[1]:void 0,3),o=0;while(o<r.length)t=r[o++],n(t.value,t.key,this)},keys:function(){return new W(this,"keys")},values:function(){return new W(this,"values")},entries:function(){return new W(this,"entries")}},{enumerable:!0}),i(H,k,H.entries),i(H,"toString",(function(){var e,t=I(this).entries,r=[],n=0;while(n<t.length)e=t[n++],r.push(B(e.key)+"="+B(e.value));return r.join("&")}),{enumerable:!0}),a(q,M),n({global:!0,forced:!s},{URLSearchParams:q}),s||"function"!=typeof x||"function"!=typeof S||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,o=[e];return arguments.length>1&&(t=arguments[1],h(t)&&(r=t.body,p(r)===M&&(n=t.headers?new S(t.headers):new S,n.has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=m(t,{body:v(0,String(r)),headers:v(0,n)}))),o.push(t)),x.apply(this,o)}}),e.exports={URLSearchParams:q,getState:I}},mIMY:function(e,t,r){var n=r("dktu"),o=r("OsYe"),s=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?s(n[e])||s(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},mNsz:function(e,t,r){var n={};n=r("s0Qz"),e.exports=n},maQk:function(e,t,r){"use strict";var n=r("3uAa").forEach,o=r("n2Hk"),s=r("MCtm"),i=o("forEach"),u=s("forEach");e.exports=i&&u?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"mh/w":function(e,t,r){var n=r("glrk"),o=r("NaFW");e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},mhMO:function(e,t,r){var n=r("o4zr");e.exports=n},mqnv:function(e,t,r){var n,o=r("G9WS"),s=o(r("M5Mt")),i=o(r("ZbhI")),u=o(r("guyh"));n=r("QnZw");var a=r("Uwh9"),c=a.jsonHandler,f=a.strToNumCompare,l=a.isEmpty,d=r("tMi5"),_=d.isShopModeUser,p=d.getShopKey,g=r("b0FF"),h=g.prefix_name,m=h+"-session-ids",v=g["prefix_name"]+"-session-",y=new n(m),b=function(){return c.parse(y.getItem("ids")||"[]")},w=function(e){var t=new n(v+e);return c.parse(t.getItem("session"))},x=function(){};x.prototype.add=function(e,t,r){if(!l(g["is_not_sync_page"])&&g["is_not_sync_page"])return t&&t(e.length);for(var o=b(),s={},i=0,a=o.length;i<a;i++){var d=o[i];s[d]=!0}for(i=0;i<e.length;i++){var h=e[i],m=h.user;if(l(m))return;d=m.user_id+"@"+m.user_source;l(m.shop_id)||l(m.shop_source)?_(h.msg)&&(d+="@@"+p(h.msg)):d+="@@"+m.shop_id+"@"+m.shop_source,s[d]||(s[d]=!0,o.push(d));var w=new n(v+d);w.setItem("session",c.stringify(h))}(0,u.default)(o).call(o,(function(e,t){return f(e,t)>0?1:f(e,t)<0?-1:0})),y.setItem("ids",c.stringify(o)),t&&t(e.length)},x.prototype.remove=function(e,t,r){for(var o=b(),a=0;a<e.length;a++){var d=e[a],_=d.user,p=_.user_id+"@"+_.user_source;l(_.shop_id)||l(_.shop_source)||(p+="@@"+_.shop_id+"@"+_.shop_source),-1!=(0,i.default)(o).call(o,p)&&(0,s.default)(o).call(o,(0,i.default)(o).call(o,p),1);var g=new n(v+p);g.remove("session")}(0,u.default)(o).call(o,(function(e,t){return f(e,t)>0?1:f(e,t)<0?-1:0})),y.setItem("ids",c.stringify(o)),t&&t(e.length)},x.prototype.getAll=function(e,t){for(var r=[],n=b(),o=0,s=n.length;o<s;o++){var i=n[o],u=w(i);u&&u.msg&&u.msg.msg_id&&r.push(u)}e&&e(r)},x.prototype.get=function(e,t,r){for(var n=[],o=0,s=e.length;o<s;o++){var i=e[o],u=w(i);u&&u.msg&&u.msg.msg_id&&n.push(u)}t&&t(n)},x.prototype.clearAll=function(e,t){for(var r=b(),o=0;o<r.length;o++){var s=r[o],i=new n(v+s);i.clear("session")}y.clear("ids");i=new n;i.remove("sessionKey"),i.remove("openState"),e&&e()},e.exports=new x},msS4:function(e,t,r){var n=r("m/sp");n("species")},n2Hk:function(e,t,r){"use strict";var n=r("Bvq2");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},"n3/R":function(e,t,r){"use strict";var n=r("0Dky");function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},nJYk:function(e,t,r){var n=r("Bvq2"),o=r("A2Ma"),s=r("SqY4"),i=o("species");e.exports=function(e){return s>=51||!n((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},nhkr:function(e,t,r){var n=r("YnFm"),o=r("q4g7");function s(t){return e.exports=s="function"===typeof o&&"symbol"===typeof n?function(e){return typeof e}:function(e){return e&&"function"===typeof o&&e.constructor===o&&e!==o.prototype?"symbol":typeof e},s(t)}e.exports=s},nleh:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},ntOU:function(e,t,r){"use strict";var n=r("rpNk").IteratorPrototype,o=r("fHMY"),s=r("XGwC"),i=r("1E5z"),u=r("P4y1"),a=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=o(n,{next:s(1,r)}),i(e,c,!1,!0),u[c]=a,e}},"o+MX":function(e,t,r){e.exports=r("bF2R")},o4zr:function(e,t,r){r("Pkdo");var n=r("dktu"),o=n.Object,s=e.exports=function(e,t,r){return o.defineProperty(e,t,r)};o.defineProperty.sham&&(s.sham=!0)},oBZR:function(e,t,r){var n=r("syO3"),o=r("nleh");e.exports=Object.keys||function(e){return n(e,o)}},oM22:function(e,t,r){r("CqEA");var n=r("dktu");e.exports=n.Object.keys},oOVA:function(e,t,r){var n=r("Bvq2"),o=/#|\.prototype\./,s=function(e,t){var r=u[i(e)];return r==c||r!=a&&("function"==typeof t?n(t):!!t)},i=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=s.data={},a=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},oOYW:function(e,t,r){var n,o,s,i,u,a,c,f,l=r("OsYe"),d=r("RLqH").f,_=r("Wvup").set,p=r("D1mM"),g=r("AUl2"),h=l.MutationObserver||l.WebKitMutationObserver,m=l.document,v=l.process,y=l.Promise,b=d(l,"queueMicrotask"),w=b&&b.value;w||(n=function(){var e,t;g&&(e=v.domain)&&e.exit();while(o){t=o.fn,o=o.next;try{t()}catch(r){throw o?i():s=void 0,r}}s=void 0,e&&e.enter()},!p&&!g&&h&&m?(u=!0,a=m.createTextNode(""),new h(n).observe(a,{characterData:!0}),i=function(){a.data=u=!u}):y&&y.resolve?(c=y.resolve(void 0),f=c.then,i=function(){f.call(c,n)}):i=g?function(){v.nextTick(n)}:function(){_.call(l,n)}),e.exports=w||function(e){var t={fn:e,next:void 0};s&&(s.next=t),o||(o=t,i()),s=t}},oVuX:function(e,t,r){"use strict";var n=r("I+eb"),o=r("RK3t"),s=r("/GqU"),i=r("pkCn"),u=[].join,a=o!=Object,c=i("join",",");n({target:"Array",proto:!0,forced:a||!c},{join:function(e){return u.call(s(this),void 0===e?",":e)}})},oWnS:function(e,t,r){var n=r("dktu");e.exports=function(e){return n[e+"Prototype"]}},ogVW:function(e,t){t.f=Object.getOwnPropertySymbols},ooPF:function(e,t,r){"use strict";var n=r("G9WS"),o=n(r("6UaR")),s=function(e){var t,r={};if(!(e instanceof Object)||(0,o.default)(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(r[t]=t);return r};e.exports=s},pCEo:function(e,t,r){var n=r("Y4yM"),o=r("GHVm");e.exports=function(e){return n(o(e))}},pNMO:function(e,t,r){"use strict";var n=r("I+eb"),o=r("2oRo"),s=r("0GbY"),i=r("xDBR"),u=r("g6v/"),a=r("STAE"),c=r("/b8u"),f=r("0Dky"),l=r("UTVS"),d=r("6LWA"),_=r("hh1v"),p=r("glrk"),g=r("ewvW"),h=r("/GqU"),m=r("wE6v"),v=r("XGwC"),y=r("fHMY"),b=r("33Wh"),w=r("JBy8"),x=r("BX/b"),S=r("dBg+"),k=r("Bs8V"),M=r("m/L8"),E=r("0eef"),A=r("kRJp"),I=r("busE"),O=r("VpIT"),T=r("93I0"),U=r("0BK2"),R=r("kOOl"),L=r("tiKp"),j=r("5Tg+"),C=r("dG/n"),P=r("1E5z"),F=r("afO8"),B=r("tycR").forEach,D=T("hidden"),N="Symbol",G="prototype",W=L("toPrimitive"),q=F.set,H=F.getterFor(N),Y=Object[G],J=o.Symbol,K=s("JSON","stringify"),V=k.f,X=M.f,z=x.f,Q=E.f,Z=O("symbols"),$=O("op-symbols"),ee=O("string-to-symbol-registry"),te=O("symbol-to-string-registry"),re=O("wks"),ne=o.QObject,oe=!ne||!ne[G]||!ne[G].findChild,se=u&&f((function(){return 7!=y(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=V(Y,t);n&&delete Y[t],X(e,t,r),n&&e!==Y&&X(Y,t,n)}:X,ie=function(e,t){var r=Z[e]=y(J[G]);return q(r,{type:N,tag:e,description:t}),u||(r.description=t),r},ue=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof J},ae=function(e,t,r){e===Y&&ae($,t,r),p(e);var n=m(t,!0);return p(r),l(Z,n)?(r.enumerable?(l(e,D)&&e[D][n]&&(e[D][n]=!1),r=y(r,{enumerable:v(0,!1)})):(l(e,D)||X(e,D,v(1,{})),e[D][n]=!0),se(e,n,r)):X(e,n,r)},ce=function(e,t){p(e);var r=h(t),n=b(r).concat(pe(r));return B(n,(function(t){u&&!le.call(r,t)||ae(e,t,r[t])})),e},fe=function(e,t){return void 0===t?y(e):ce(y(e),t)},le=function(e){var t=m(e,!0),r=Q.call(this,t);return!(this===Y&&l(Z,t)&&!l($,t))&&(!(r||!l(this,t)||!l(Z,t)||l(this,D)&&this[D][t])||r)},de=function(e,t){var r=h(e),n=m(t,!0);if(r!==Y||!l(Z,n)||l($,n)){var o=V(r,n);return!o||!l(Z,n)||l(r,D)&&r[D][n]||(o.enumerable=!0),o}},_e=function(e){var t=z(h(e)),r=[];return B(t,(function(e){l(Z,e)||l(U,e)||r.push(e)})),r},pe=function(e){var t=e===Y,r=z(t?$:h(e)),n=[];return B(r,(function(e){!l(Z,e)||t&&!l(Y,e)||n.push(Z[e])})),n};if(a||(J=function(){if(this instanceof J)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=R(e),r=function(e){this===Y&&r.call($,e),l(this,D)&&l(this[D],t)&&(this[D][t]=!1),se(this,t,v(1,e))};return u&&oe&&se(Y,t,{configurable:!0,set:r}),ie(t,e)},I(J[G],"toString",(function(){return H(this).tag})),I(J,"withoutSetter",(function(e){return ie(R(e),e)})),E.f=le,M.f=ae,k.f=de,w.f=x.f=_e,S.f=pe,j.f=function(e){return ie(L(e),e)},u&&(X(J[G],"description",{configurable:!0,get:function(){return H(this).description}}),i||I(Y,"propertyIsEnumerable",le,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:J}),B(b(re),(function(e){C(e)})),n({target:N,stat:!0,forced:!a},{for:function(e){var t=String(e);if(l(ee,t))return ee[t];var r=J(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ue(e))throw TypeError(e+" is not a symbol");if(l(te,e))return te[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),n({target:"Object",stat:!0,forced:!a,sham:!u},{create:fe,defineProperty:ae,defineProperties:ce,getOwnPropertyDescriptor:de}),n({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:_e,getOwnPropertySymbols:pe}),n({target:"Object",stat:!0,forced:f((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(g(e))}}),K){var ge=!a||f((function(){var e=J();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}));n({target:"JSON",stat:!0,forced:ge},{stringify:function(e,t,r){var n,o=[e],s=1;while(arguments.length>s)o.push(arguments[s++]);if(n=t,(_(t)||void 0!==e)&&!ue(e))return d(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ue(t))return t}),o[1]=t,K.apply(null,o)}})}J[G][W]||A(J[G],W,J[G].valueOf),P(J,N),U[D]=!0},pRFJ:function(e,t,r){var n=r("G9WS"),o=n(r("HnXd")),s=n(r("rPUy"));"function"!=typeof s.default&&(Object.create=function(e){var t=function(){};return function(r,n){if(r!==Object(r)&&null!==r)throw TypeError("Argument must be an object, or null");t.prototype=r||{};var s=new t;return t.prototype=null,n!==e&&(0,o.default)(s,n),null===r&&(s.__proto__=null),s}}())},pVHv:function(e,t,r){var n=r("pevS"),o=r("Bvq2"),s=r("jhEP").f,i=o((function(){return!Object.getOwnPropertyNames(1)}));n({target:"Object",stat:!0,forced:i},{getOwnPropertyNames:s})},pevS:function(e,t,r){"use strict";var n=r("OsYe"),o=r("RLqH").f,s=r("oOVA"),i=r("dktu"),u=r("ZBQp"),a=r("AnMC"),c=r("eOcF"),f=function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,l,d,_,p,g,h,m,v,y=e.target,b=e.global,w=e.stat,x=e.proto,S=b?n:w?n[y]:(n[y]||{}).prototype,k=b?i:i[y]||(i[y]={}),M=k.prototype;for(_ in t)r=s(b?_:y+(w?".":"#")+_,e.forced),l=!r&&S&&c(S,_),g=k[_],l&&(e.noTargetGet?(v=o(S,_),h=v&&v.value):h=S[_]),p=l&&h?h:t[_],l&&typeof g===typeof p||(m=e.bind&&l?u(p,n):e.wrap&&l?f(p):x&&"function"==typeof p?u(Function.call,p):p,(e.sham||p&&p.sham||g&&g.sham)&&a(m,"sham",!0),k[_]=m,x&&(d=y+"Prototype",c(i,d)||a(i,d,{}),i[d][_]=p,e.real&&M&&!M[_]&&a(M,_,p)))}},pkCn:function(e,t,r){"use strict";var n=r("0Dky");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},"pl/f":function(e,t,r){var n={};n=r("QYLo"),e.exports=n},ppGB:function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},pxJS:function(e,t,r){var n=r("G9WS");r("QWBl"),r("FZtP");var o=n(r("RXMP"));(0,o.default)(Array.prototype)||(Array.prototype.forEach=function(e,t){var r,n;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),s=o.length>>>0;if("function"!==typeof e)throw new TypeError(e+" is not a function");arguments.length>1&&(r=t),n=0;while(n<s){var i;n in o&&(i=o[n],e.call(r,i,n,o)),n++}})},"q/LL":function(e,t,r){var n=r("HCkw");e.exports=n},q4g7:function(e,t,r){e.exports=r("tfHg")},qLPT:function(e,t,r){"use strict";var n=r("pevS"),o=r("maQk");n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},qQKe:function(e,t,r){r("AFTl");var n=r("dktu");n.JSON||(n.JSON={stringify:JSON.stringify}),e.exports=function(e,t,r){return n.JSON.stringify.apply(null,arguments)}},qRXW:function(e,t,r){var n=r("gByu");e.exports=n},qePV:function(e,t,r){"use strict";var n=r("g6v/"),o=r("2oRo"),s=r("lMq5"),i=r("busE"),u=r("UTVS"),a=r("xrYK"),c=r("cVYH"),f=r("wE6v"),l=r("0Dky"),d=r("fHMY"),_=r("JBy8").f,p=r("Bs8V").f,g=r("m/L8").f,h=r("WKiH").trim,m="Number",v=o[m],y=v.prototype,b=a(d(y))==m,w=function(e){var t,r,n,o,s,i,u,a,c=f(e,!1);if("string"==typeof c&&c.length>2)if(c=h(c),t=c.charCodeAt(0),43===t||45===t){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(s=c.slice(2),i=s.length,u=0;u<i;u++)if(a=s.charCodeAt(u),a<48||a>o)return NaN;return parseInt(s,n)}return+c};if(s(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,S=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof S&&(b?l((function(){y.valueOf.call(r)})):a(r)!=m)?c(new v(w(t)),r,S):w(t)},k=n?_(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),M=0;k.length>M;M++)u(v,x=k[M])&&!u(S,x)&&g(S,x,p(v,x));S.prototype=y,y.constructor=S,i(o,m,S)}},qhvP:function(e,t,r){var n=r("m/sp");n("unscopables")},qjzJ:function(e,t,r){e.exports=r("2uPm")},qpuQ:function(e,t,r){var n=r("Wrk+");e.exports=n},r4HA:function(e,t,r){var n=r("pevS"),o=r("GWfs");n({global:!0,forced:parseInt!=o},{parseInt:o})},rB9j:function(e,t,r){"use strict";var n=r("I+eb"),o=r("kmMV");n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},rPUy:function(e,t,r){e.exports=r("RALh")},rSeq:function(e,t,r){"use strict";var n=r("zJQS"),o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},rW0t:function(e,t,r){"use strict";var n=r("glrk");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},rXEH:function(e,t,r){var n={};n=r("zc5g"),e.exports=n},rkAj:function(e,t,r){var n=r("g6v/"),o=r("0Dky"),s=r("UTVS"),i=Object.defineProperty,u={},a=function(e){throw e};e.exports=function(e,t){if(s(u,e))return u[e];t||(t={});var r=[][e],c=!!s(t,"ACCESSORS")&&t.ACCESSORS,f=s(t,0)?t[0]:a,l=s(t,1)?t[1]:void 0;return u[e]=!!r&&!o((function(){if(c&&!n)return!0;var e={length:-1};c?i(e,1,{enumerable:!0,get:a}):e[1]=1,r.call(e,f,l)}))}},rpNk:function(e,t,r){"use strict";var n,o,s,i=r("4WOD"),u=r("kRJp"),a=r("UTVS"),c=r("tiKp"),f=r("xDBR"),l=c("iterator"),d=!1,_=function(){return this};[].keys&&(s=[].keys(),"next"in s?(o=i(i(s)),o!==Object.prototype&&(n=o)):d=!0),void 0==n&&(n={}),f||a(n,l)||u(n,l,_),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},s0Qz:function(e,t,r){var n=r("G9WS");r("sMBO"),r("TWNs"),r("rB9j"),r("JfAA"),r("Rm1S");var o=n(r("nhkr")),s=r("eAFf"),i=r("TQFr"),u=r("lmK3"),a=r("Uwh9"),c=a.isEmpty,f=a.extend,l=a.jsonHandler,d=(r("b0FF"),r("WGYn")),_=function(e){var t,r=null;return document.cookie&&(t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)")),null!=t&&(r=decodeURIComponent(t[2]))),r};e.exports=function(){var e,t,r,n,p,g,h,m;arguments.length>=6?(e=arguments[0],t=arguments[1],r=arguments[2],n=arguments[3],p=arguments[4],g=arguments[5]):(t=arguments[0],r=arguments[1],n=arguments[2],p=arguments[3],g=arguments[4]),"string"===typeof t?h=t:"object"!==(0,o.default)(t)||c(t.name)||c(t.api_url)||(h=t.name,m=t.api_url);var v=u.getCommonParams();v.xxzl_smartid=_("xxzl_smartid")?_("xxzl_smartid"):"",v.id58=_("id58")?_("id58"):"";var y,b,w=s[h];if("object"!=(0,o.default)(t)||a.isEmpty(t.url)||a.isEmpty(t.method)||(w={url:t.url,method:t.method,api_url:t.api_url}),!w)return g("not found config.[api:"+h+"]");"get"===w.method?(b=f({},v,r),w.sign&&(b.content_sign=i(l.stringify(r)))):"post"===w.method&&(b=f({},v,r),w.sign&&(b.content_sign=i(l.stringify(n)))),y=c(m)?c(w.api_url)?u.getApiUrl()+"/"+w.url:w.api_url+("/"!==w.url[0]?"/":"")+w.url:m+("/"!==w.url[0]?"/":"")+w.url;var x=$.Deferred(),S={url:y,method:w.method,datatype:"json",getparams:b,postparams:n};return e&&e.header&&(S.header=e.header),d(S,(function(e){switch(e&&e.error_code){case 0:p&&p(e.data),x.resolve(e.data);break;default:var t=u.getErrorHandler();t(e),g&&g(e),x.reject(e);break}}),(function(e,t){g&&g(e,t),x.reject(e)})),x.promise()}},sEFX:function(e,t,r){"use strict";var n=r("AO7/"),o=r("9d/t");e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},sMBO:function(e,t,r){var n=r("g6v/"),o=r("m/L8").f,s=Function.prototype,i=s.toString,u=/^\s*function ([^ (]*)/,a="name";n&&!(a in s)&&o(s,a,{configurable:!0,get:function(){try{return i.call(this).match(u)[1]}catch(e){return""}}})},sOpI:function(e,t,r){var n=r("b42z"),o=r("zJQS"),s=r("A2Ma"),i=s("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||void 0==(r=n(s)[i])?t:o(r)}},su3n:function(e,t,r){var n=r("1lkh"),o=r("PoCt"),s=n("keys");e.exports=function(e){return s[e]||(s[e]=o(e))}},syO3:function(e,t,r){var n=r("eOcF"),o=r("pCEo"),s=r("Y4Ys").indexOf,i=r("bpon");e.exports=function(e,t){var r,u=o(e),a=0,c=[];for(r in u)!n(i,r)&&n(u,r)&&c.push(r);while(t.length>a)n(u,r=t[a++])&&(~s(c,r)||c.push(r));return c}},t2eQ:function(e,t){var r="";e.exports={get:function(){return r},set:function(e){r=e}}},tMi5:function(e,t,r){var n=r("G9WS");r("4mDm"),r("sMBO"),r("qePV"),r("07d7"),r("TWNs"),r("rB9j"),r("JfAA"),r("PKPk"),r("UxlC"),r("EnZy"),r("3bBZ"),r("Kz25");var o=n(r("5PDf")),s=n(r("ZbhI")),i=n(r("guyh")),u=n(r("R8cT")),a=n(r("D3kx")),c=n(r("UtpJ")),f=r("Uwh9"),l=r("QbSn"),d=r("Bwsg"),_=f.each,p=f.isEmpty,g=f.jsonHandler,h=f.strToNumCompare,m=f.extend,v=f.isIe,y="1005",b="SYSTEM_GROUP@1999",w="9999",x=[1,3],S=["standard_evaluate_card1","standard_evaluate_card2"],k=["operation_tip","auth_tip"],M="//pic1.58cdn.com.cn/p1/n_v1bkuymc2tsxlfo5wrgb7a.png",E=["1","2","3","7","8","9","12","13","14","15","16","18","1005","10011"],A=function(e){return!p(e)&&Number(e)>1e4},I=function(e){return!p(e)&&Number(e)==w},O=function(e){var t=!1;if(p(e))t=!1;else if(!p(e.is_group)&&e.is_group)t=!0;else if(p(e.sender_source)||p(e.to_source)||p(e.msg_type))p(e.user_source)||(t=A(e.user_source));else{var r=A(e.sender_source)||A(e.to_source),n=e.msg_type;t=n+""===y&&r}return t},T=function(e){var t=!1;if(p(e))t=!1;else if(!p(e.is_shop_mode)&&e.is_shop_mode)t=!0;else if(p(e.sender_source)||p(e.to_source))p(e.user_source)||(t=I(e.user_source));else{var r=I(e.sender_source)||I(e.to_source),n=e.sender_id+"@"+e.sender_source,o=e.to_id+"@"+e.to_source,s=l.get(),i=s.user_id+"@"+s.user_source;t=r&&n!=i&&o!=i}return t},U=function(e,t){return e["authority"]===t["authority"]&&e["add_time"]===t["add_time"]?h(e["user_id"],t["user_id"]):e["authority"]===t["authority"]&&e["add_time"]!==t["add_time"]?e["add_time"]-t["add_time"]:e["authority"]!==t["authority"]?e["authority"]-t["authority"]:void 0},R=function(e,t,r,n,o){if(!e||0===e.length||e.length<2)return o({data:M});t=t||30,r=r||30,n=n||4,e=e.length<4?e:(0,c.default)(e).call(e,0,4);var s=t/2,i=r/2,f=s-n/2,l=i-n/2,_=[],p=e.length,g=0,h=function e(c,g){var h=new Image;h.setAttribute("crossOrigin","anonymous"),h.src=c[g];var m=navigator.userAgent,y=new RegExp("MSIE (\\d+\\.\\d+);");y.test(m);var b=(0,a.default)(RegExp["$1"]);if(b<10)o({data:"https://pic1.58cdn.com.cn/p1/n_v1bkuymc2tsxlfo5wrgb7a.png"});else if(v||"Safari"==d.name){var w=new XMLHttpRequest;w.onload=function(){var a=u.default.createObjectURL(this.response);h.src=a,h.onload=function(){if(g++,_.push(h),g<p)e(c,g);else{var d=document.createElement("canvas"),m=d.getContext("2d");d.width=t,d.height=r,m.clearRect(0,0,t,r),m.strokeStyle="#eeeeee",m.save(),m.beginPath(),m.arc(s,i,s,0,2*Math.PI,!1),m.clip(),2===p?(m.drawImage(_[0],0,i/2,f,l),m.drawImage(_[1],f+n,i/2,f,l)):3===p?(m.drawImage(_[0],s-f/2,0,f,l),m.drawImage(_[1],0,l+n,f,l),m.drawImage(_[2],f+n,l+n,f,l)):4===p&&(m.drawImage(_[0],0,0,f,l),m.drawImage(_[1],f+n,0,f,l),m.drawImage(_[2],0,l+n,f,l),m.drawImage(_[3],f+n,l+n,f,l)),o({data:d.toDataURL("image/png")})}u.default.revokeObjectURL(a)},h.onerror=function(){c[g]="https://pic1.58cdn.com.cn/p1/n_v1bkuymc2tsxlfo5wrgb7a.png",e(c,g)}},w.onerror=function(){c[g]="https://pic1.58cdn.com.cn/p1/n_v1bkuymc2tsxlfo5wrgb7a.png",e(c,g)},w.open("GET",c[g],!0),w.responseType="blob",w.send()}else h.onload=function(){if(g++,_.push(h),g<p)e(c,g);else{var u=document.createElement("canvas"),a=u.getContext("2d");u.width=t,u.height=r,a.clearRect(0,0,t,r),a.strokeStyle="#eeeeee",a.save(),a.beginPath(),a.arc(s,i,s,0,2*Math.PI,!1),a.clip(),2===p?(a.drawImage(_[0],0,i/2,f,l),a.drawImage(_[1],f+n,i/2,f,l)):3===p?(a.drawImage(_[0],s-f/2,0,f,l),a.drawImage(_[1],0,l+n,f,l),a.drawImage(_[2],f+n,l+n,f,l)):4===p&&(a.drawImage(_[0],0,0,f,l),a.drawImage(_[1],f+n,0,f,l),a.drawImage(_[2],0,l+n,f,l),a.drawImage(_[3],f+n,l+n,f,l)),o({data:u.toDataURL("image/png")})}},h.onerror=function(){c[g]="https://pic1.58cdn.com.cn/p1/n_v1bkuymc2tsxlfo5wrgb7a.png",e(c,g)}};h(e,g)},L=function(e){return"string"===typeof e?Number(e):e},j=function(e,t){if(p(e)||p(t)||0===t.length)return e;var r=e;(0,i.default)(t).call(t,(function(e,t){return t.rule.pos_start-e.rule.pos_start}));var n=e.length;return _(t,(function(t,o){var i=o.rule,u=i.pos_start,a=i.pos_end,c=i.name;(e.substring(u,a)===c||u==a&&-1!==(0,s.default)(e).call(e,c))&&(r=r.substring(0,u)+o.replaceText+r.substring(a,n),n=r.length)})),r},C=function(e){var t,r=l.get(),n=e.sender_id+"@"+e.sender_source,o=e.to_id+"@"+e.to_source,s=r.user_id+"@"+r.user_source,i=e.kf_id+"@"+e.kf_source;return t=s===n||s==i&&s!==o&&s!==n&&e.sender_source==w,t},P=function(e){var t,r,n,o=l.get(),i=e.sender_id+"@"+e.sender_source,u=e.to_id+"@"+e.to_source,a=o.user_id+"@"+o.user_source;(t=C(e),t||i===b||!t&&a!==u)?r=-1==(0,s.default)(n=[i,u]).call(n,a)&&T(e)&&T({user_source:e.to_source})?i:u:r=i;return{isMeSender:t,user_id:r.split("@")[0],user_source:r.split("@")[1],user_key:r}},F=function(e,t){var r=[],n="";_(e,(function(e,t){t.avatar=p(t.avatar)?M:t.avatar,r.push(t.avatar),n+=p(t.remark)||p(t.remark.remark_name)?p(t.nick_name)?t.user_name+"、":t.nick_name+"、":t.remark.remark_name+"、"}));var o=n.length-1;n="、"===n[o]?n.substring(0,o):n,R(r,30,30,1,(function(e){var r={avatar:e.data,user_name:n};t(r)}))},B=function(e,t,r){if(p(e)||p(e.content))return e;var n,i=[],u=l.get(),a=u.user_id+"@"+u.user_source,c="string"===typeof e.content?g.parse(e.content):p(e.content)?{}:e.content;if(-1!==(0,s.default)(k).call(k,e.show_type)||-1!==(0,s.default)(k).call(k,c.type))switch(c.op_type){case"change_group_name":case"join_invite":case"invite_join":case"join":case"tranfer_group_owner":case"quit_group":case"rm_from_group":a=u.user_id+"@"+u.user_source;var f=c.operator,d=p(r)?P(e).user_key:r.user_id+"@"+r.user_source,h=p(f)||p(f.id)||p(f.source)?"":f.id+"@"+f.source,v=d+"@@"+h,y=p(t)||p(t[v])?null:t[v],b=a===h?"你":p(y)||p(y.remark)||p(y.remark.remark_name)?p(y)||p(y.nick_name)?"":y.nick_name:y.remark.remark_name;p(b)||i.push({rule:f,replaceText:b});var w=c.targets;!p(w)&&w.length>0&&_(w,(function(e,r){var n=p(r)||p(r.id)||p(r.source)?"":r.id+"@"+r.source,o=d+"@@"+n,s=p(t)||p(t[o])?null:t[o],u=a===n&&"tranfer_group_owner"==c.op_type?"您":a===n?"你":p(s)||p(s.remark)||p(s.remark.remark_name)?p(s)||p(s.nick_name)?"":s.nick_name:s.remark.remark_name;p(u)||i.push({rule:r,replaceText:u})}));var M=c.default_text.length;if(c.default_text=j(c.default_text,i),M&&!p(c.action_text)&&!p(c.action_text.pos_start)&&!p(c.action_text.pos_end)){var E=M-c.default_text.length;c.action_text.pos_start-=E,c.action_text.pos_end-=E}break;default:break}if(-1!==(0,s.default)(x).call(x,e.msg_status)&&!p(e.replace)){e.replace="string"===typeof e.replace?g.parse(e.replace):e.replace,"string"===typeof e.replace.content&&(e.replace.content=g.parse(e.replace.content));var A=e.replace.content;if(i.length>0&&(A.text=j(A.text,i)),n=A.text,c=A,(-1==(0,s.default)(S).call(S,e.show_type)||-1!==(0,s.default)(S).call(S,e.show_type)&&"modify_msg"===c.type)&&(e.show_type="modify_msg"),e.sender_id+"@"+e.sender_source===a&&p(e.original_content)){var I="string"===typeof e.content?g.parse(e.content):p(e.content)?{}:e.content;e.original_content=m(!0,{},I)}h=p(A.operator)?"":e.sender_id+"@"+e.sender_source,y=p(t)||p(t[h])?null:t[h];var O=p(y)||p(y.remark)?p(e.sender_info)||p(e.sender_info.remark)?null:e.sender_info.remark:y.remark;b=a===h?"你":p(y)||p(y.nick_name)?p(O)||p(O.remark_name)?"":O.remark_name:y.nick_name;p(b)||p(n)||p(A.operator.pos_start)||(c._replaceMsg=n,n=n.substring(0,A.operator.pos_start)+b+n.substring(A.operator.pos_end),c.text=n,c._operator={pos_start:c.operator.pos_start,pos_end:c.operator.pos_end},c.operator={})}if(!p(e.replace)){var T,U=function(e){return e.at_info="{}",e.at_index=-1,e.at_msg_id="0",e.extendAt=!1,e},R=e.at_info_origin||e.at_info,L=g.parse(R);if(!p(L)&&!p(L.targets)&&L.targets.length){var C,F=l.get();a=F.user_id+"@"+F.user_source;T=(0,o.default)(C=L.targets).call(C,(function(e){var t=e.id+"@"+e.source;return a==t}))}!p(T)&&T.length>0&&U(e)}return e.content="string"===typeof e.content?g.stringify(c):c,e},D=function(e,t){for(var r=new Array,n=0;n<e.length;n++)r.push(e[n]);for(n=0;n<t.length;n++){for(var o=!0,s=0;s<e.length;s++)if(g.stringify(t[n])==g.stringify(e[s])){o=!1;break}o&&r.push(t[n])}return r},N=function(e,t,r){for(var n=new Array,o=0;o<e.length;o++)n.push(e[o]);for(o=0;o<t.length;o++){for(var s=!0,i=0;i<n.length;i++){if(r&&"function"==typeof r&&r(n[i],t[o])){n[i]=m(!0,{},n[i],t[o]),s=!1;break}if(g.stringify(t[o])==g.stringify(n[i])){s=!1;break}}s&&n.push(t[o])}return n},G=function(e){if(p(e)||!T(e))return null;var t=e.sender_id+"@"+e.sender_source,r=e.to_id+"@"+e.to_source;return I(e.sender_source)?t:I(e.to_source)?r:null},W=function(e){var t,r,n,o,i,u,a;if(-1!==(0,s.default)(e).call(e,"@@")){var c=e.split("@@");n=c[0],i=c[0].split("@"),o=c[1]}else i=e.split("@"),n=e;t=i[0],r=i[1];var f={user_id:t,user_source:r,userKey:n};if(!p(o)){u=o.split("@")[0],a=o.split("@")[1];var l={shop_id:u,shop_source:a,shopKey:o};f=m(!0,{},f,l)}return f},q=function(e){return e&&0==e.register&&!O(e)};e.exports={isGroupSource:A,modifyMsgStatus:x,groupMsgType:y,isGroupUser:O,isShopModeUser:T,showMsgTypeArr:E,sortGroupMember:U,createGroupThumb:R,covertSourceType:L,defaultNullUserAvatar:M,systemGroupKey:b,getContactInfo:P,createGroupInfo:F,msgOperatorReplace:B,mergeArray:D,extendArray:N,getShopKey:G,getUserAndShopInfo:W,isMeSender:C,shopModeUserSource:w,isAnonymousSession:q}},tTn0:function(e,t,r){var n=r("5jX9");e.exports=n},tXUg:function(e,t,r){var n,o,s,i,u,a,c,f,l=r("2oRo"),d=r("Bs8V").f,_=r("LPSS").set,p=r("HNyW"),g=r("YF1G"),h=l.MutationObserver||l.WebKitMutationObserver,m=l.document,v=l.process,y=l.Promise,b=d(l,"queueMicrotask"),w=b&&b.value;w||(n=function(){var e,t;g&&(e=v.domain)&&e.exit();while(o){t=o.fn,o=o.next;try{t()}catch(r){throw o?i():s=void 0,r}}s=void 0,e&&e.enter()},!p&&!g&&h&&m?(u=!0,a=m.createTextNode(""),new h(n).observe(a,{characterData:!0}),i=function(){a.data=u=!u}):y&&y.resolve?(c=y.resolve(void 0),f=c.then,i=function(){f.call(c,n)}):i=g?function(){v.nextTick(n)}:function(){_.call(l,n)}),e.exports=w||function(e){var t={fn:e,next:void 0};s&&(s.next=t),o||(o=t,i()),s=t}},tbMQ:function(e,t,r){var n=r("jP3w");e.exports=n},tfHg:function(e,t,r){var n=r("HCkw");r("DIJN"),r("cgHO"),r("dP0U"),r("Jm8n"),r("mAJt"),e.exports=n},tiKp:function(e,t,r){var n=r("2oRo"),o=r("VpIT"),s=r("UTVS"),i=r("kOOl"),u=r("STAE"),a=r("/b8u"),c=o("wks"),f=n.Symbol,l=a?f:f&&f.withoutSetter||i;e.exports=function(e){return s(c,e)||(u&&s(f,e)?c[e]=f[e]:c[e]=l("Symbol."+e)),c[e]}},toAj:function(e,t,r){"use strict";var n=r("I+eb"),o=r("ppGB"),s=r("QIpd"),i=r("EUja"),u=r("0Dky"),a=1..toFixed,c=Math.floor,f=function(e,t,r){return 0===t?r:t%2===1?f(e,t-1,r*e):f(e*e,t/2,r)},l=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},d=a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!u((function(){a.call({})}));n({target:"Number",proto:!0,forced:d},{toFixed:function(e){var t,r,n,u,a=s(this),d=o(e),_=[0,0,0,0,0,0],p="",g="0",h=function(e,t){var r=-1,n=t;while(++r<6)n+=e*_[r],_[r]=n%1e7,n=c(n/1e7)},m=function(e){var t=6,r=0;while(--t>=0)r+=_[t],_[t]=c(r/e),r=r%e*1e7},v=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==_[e]){var r=String(_[e]);t=""===t?r:t+i.call("0",7-r.length)+r}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(p="-",a=-a),a>1e-21)if(t=l(a*f(2,69,1))-69,r=t<0?a*f(2,-t,1):a/f(2,t,1),r*=4503599627370496,t=52-t,t>0){h(0,r),n=d;while(n>=7)h(1e7,0),n-=7;h(f(10,n,1),0),n=t-1;while(n>=23)m(1<<23),n-=23;m(1<<n),h(1,1),m(2),g=v()}else h(0,r),h(1<<-t,0),g=v()+i.call("0",d);return d>0?(u=g.length,g=p+(u<=d?"0."+i.call("0",d-u)+g:g.slice(0,u-d)+"."+g.slice(u-d))):g=p+g,g}})},tycR:function(e,t,r){var n=r("A2ZE"),o=r("RK3t"),s=r("ewvW"),i=r("UMSQ"),u=r("ZfDv"),a=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,f=4==e,l=6==e,d=7==e,_=5==e||l;return function(p,g,h,m){for(var v,y,b=s(p),w=o(b),x=n(g,h,3),S=i(w.length),k=0,M=m||u,E=t?M(p,S):r||d?M(p,0):void 0;S>k;k++)if((_||k in w)&&(v=w[k],y=x(v,k,b),e))if(t)E[k]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return k;case 2:a.call(E,v)}else switch(e){case 4:return!1;case 7:a.call(E,v)}return l?-1:c||f?f:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},"u+ON":function(e,t,r){"use strict";var n=r("pevS"),o=r("Y4Ys").indexOf,s=r("n2Hk"),i=r("MCtm"),u=[].indexOf,a=!!u&&1/[1].indexOf(1,-0)<0,c=s("indexOf"),f=i("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:a||!c||!f},{indexOf:function(e){return a?u.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},u4PT:function(e,t,r){"use strict";var n,o,s,i=r("V3kF"),u=r("AnMC"),a=r("eOcF"),c=r("A2Ma"),f=r("cEKj"),l=c("iterator"),d=!1,_=function(){return this};[].keys&&(s=[].keys(),"next"in s?(o=i(i(s)),o!==Object.prototype&&(n=o)):d=!0),void 0==n&&(n={}),f||a(n,l)||u(n,l,_),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},uC8H:function(e,t,r){r("VdC8");var n=r("dktu");e.exports=n.Object.assign},uDyp:function(e,t,r){var n=r("uIdd");e.exports=n},uIdd:function(e,t,r){r("m7iD");var n=r("dktu"),o=n.Object,s=e.exports=function(e,t){return o.getOwnPropertyDescriptor(e,t)};o.getOwnPropertyDescriptor.sham&&(s.sham=!0)},uxZ0:function(e,t,r){var n=r("G9WS"),o=r("iYz8"),s=r("6UaR"),i=r("Dcj1"),u=r("O0yt"),a=r("0lTi"),c=r("UtpJ");r("oVuX"),r("sMBO"),r("TWNs"),r("rB9j"),r("JfAA"),r("Rm1S"),r("EnZy");var f=n(r("UtpJ")),l=n(r("RXMP"));function d(e,t){var r;if("undefined"===typeof u||null==i(e)){if(s(e)||(r=_(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,f=!0,l=!1;return{s:function(){r=o(e)},n:function(){var e=r.next();return f=e.done,e},e:function(e){l=!0,c=e},f:function(){try{f||null==r.return||r.return()}finally{if(l)throw c}}}}function _(e,t){var r;if(e){if("string"===typeof e)return p(e,t);var n=c(r=Object.prototype.toString.call(e)).call(r,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?a(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=r("80UC"),h=(r("t2eQ"),r("Uwh9")),m=r("tMi5"),v=h.fnEmpty,y=h.each,b=h.inherits,w=h.urlConvert,x=h.jsonHandler,S=h.param,k=h.extend,M=h.isEmpty,E=m.isGroupUser,A=m.systemGroupKey,I=(E=m.isGroupUser,m.isShopModeUser,r("mNsz")),O=r("eAFf"),T=r("lmK3"),U=r("MKVd"),R=r("kXmp").syn,L=r("QbSn"),j={},C={},P=function(e){var t,r=null;return document.cookie&&(t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)")),null!=t&&(r=decodeURIComponent(t[2]))),r};e.exports=b(g,{constructor:function(){g.call(this),this._users={}},_convert:function(e){return e&&(e.avatar=w(e.avatar+"")),e},start:v,stop:v,resetLoadedUser:v,clearAll:function(e,t){R.clearAll(e,t)},setLoginInfo:function(e,t,r){R.set({name:"loginInfo",value:{status:e,user:{user_id:L.get().user_id,user_source:L.get().user_source,is_anonymous_login:L.get().is_anonymous_login}}},t,r)},getLoginInfo:function(e,t){R.get("loginInfo",e,t)},setImToken:function(e,t,r){R.set({name:"imToken",value:e},t,r)},getImToken:function(e,t){R.get("imToken",e,t)},addUser:function(e){var t=e.user_id+"@"+e.user_source;this._users[t]=k(!0,this._users[t],e)},getUserRemote:function(e,t){var r=e+"@"+t;return this._users[r]},getAllUserRemote:function(){return this._users},getUserinfo:function(e,t,r){var n=e.target_user_id+"@"+e.target_user_source,o=this._users[n],s=this;if(o&&!e.isCacha)return t(o);I(O.get_userinfo.name,e,null,(function(e){e=s._convert(e),s._users[n]=M(s._users[n])?e:k(!0,s._users[n],e),t(e);var r=L.get();r.user_id&&r.user_source&&r.user_id+"@"+r.user_source===n&&L.saveUserInfo(s._users[n])}),r)},getUserinfos:function(e,t,r,n){var o={},s=this,i=[],u={};if((0,l.default)(e).call(e,(function(e){var t=e.user_id,r=e.user_source,a=t+"@"+r;M(e.shop_id)||M(e.shop_source)||(a+="@@"+e.shop_id+"@"+e.shop_source),h.isEmpty(t)||h.isEmpty(r)||(n||(!s._users[a]||E({user_source:r})&&(h.isEmpty(s._users[a].avatar)||h.isEmpty(s._users[a].user_name)))&&a!=A?M(e.shop_id)||M(e.shop_source)?i.push(t+":"+r):(u.has_shop_ids=!0,M(u[e.shop_id+":"+e.shop_source])&&(u[e.shop_id+":"+e.shop_source]=[]),u[e.shop_id+":"+e.shop_source].push(t+":"+r+":"+e.shop_id+":"+e.shop_source)):o[a]=s._users[a])})),0!==i.length||u.has_shop_ids){var a=50,c=Math.ceil(i.length/a),_=[],p=0,g=[],m=[],v=!1;if(u.has_shop_ids){for(var b=0;b<c;b++)m=[],m=b===c-1?(0,f.default)(i).call(i,b*a):(0,f.default)(i).call(i,b*a,(b+1)*a),g.push(m);for(var w in u)if(u[w]instanceof Array){var S=u[w],T=Math.ceil(S.length/a);for(b=0;b<T;b++)m=[],m=b===T-1?(0,f.default)(S).call(S,b*a):(0,f.default)(S).call(S,b*a,(b+1)*a),g.push(m);c+=T,v=!0}}var U=function(){R=[],R=v&&u.has_shop_ids&&g.length?g[b]:b===c-1?(0,f.default)(i).call(i,b*a):(0,f.default)(i).call(i,b*a,(b+1)*a);var e={ids:R};if(j=x.stringify(e),_.push(j),C[j])return C[j].promise.then((function(e){if(p++,p===c){o=k(!0,o,e);var r,n=d(_);try{for(n.s();!(r=n.n()).done;){var s=r.value;C[s]&&C[s].defer&&C[s].defer.resolve(o),delete C[s]}}catch(i){n.e(i)}finally{n.f()}t&&t(o)}}),r),"continue";P=$.Deferred(),C[j]={defer:P,promise:P.promise()},function(n){I(O.get_userinfo_batch.name,null,e,(function(e){var r=L.get();if(y(e,(function(e,t){var n=e.split(":"),i=n[0],u=n[1];t=s._convert(t);var a,c=i+"@"+u;n.length&&4==n.length&&(a=n[2]+"@"+n[3],c+="@@"+a),o[c]=k(!0,o[c],t),s._users[c]=k(!0,s._users[c],t),r.user_id+":"+r.user_source===e&&L.saveUserInfo(s._users[c])})),p++,p===c){var n,i=d(_);try{for(i.s();!(n=i.n()).done;){var u=n.value;C[u]&&C[u].defer&&C[u].defer.resolve(o),delete C[u]}}catch(a){i.e(a)}finally{i.f()}t&&t(o)}}),(function(e){r&&r(e),P.reject(e),delete C[n]}))}(j)};for(b=0;b<c;b++){var R,j,P;U()}}else t(k(!0,{},o))},exchangeXid:function(e,t,r){var n=k(!0,{},T.getCommonParams());n.xxzl_smartid=P("xxzl_smartid")?P("xxzl_smartid"):"",n.id58=P("id58")?P("id58"):"",n.targets=e.join(",");var o=S(n,!1),s=U(U(o)+n.appid),i=e.join("@");if(j[i])j[i].then((function(e){t&&t(e.result)}),(function(e){r&&r(null)}));else{var u=$.Deferred();j[i]=u.promise(),function(n){I(O.exchange_xid.name,{targets:e.join(",")},{key:s},(function(e){delete j[n],t&&t(e.result),u.resolve(e)}),(function(e){delete j[n],u.reject(e),r&&r(null)}))}(i)}},addBlackList:function(e,t,r,n){I(O.add_black_list.name,{contact_id:e,contact_source:t},null,r,n)},delBlackList:function(e,t,r,n){I(O.del_black_list.name,{contact_id:e,contact_source:t},null,r,n)},isBlacked:function(e,t,r,n){I(O.is_blacked.name,{target_user_id:e,target_user_source:t},null,r,n)},msgSet:function(e,t,r){var n=this,o=e.target_id+"@"+e.target_source;I(O.msg_set.name,null,e,(function(){E({user_source:e.target_source})||(n._users[o]=k(!0,n._users[o],{msg_set:e.msg_set})),t&&t()}),r)},setUserRemark:function(e,t,r){if(M(e.target_id)||M(e.target_source))return r&&r();I(O.remark.name,{target_id:e.target_id,target_source:e.target_source},{remark:e.remark},(function(e){t&&t(e)}),r)},askContactinfo:function(e,t,r){if(M(e.other_user_id)||M(e.other_user_source))return r&&r();I(O.ack_contactinfo.name,e,null,(function(e){t&&t(e)}),r)},provideContactinfo:function(e,t,r){if(M(e.other_user_id)||M(e.other_user_source))return r&&r();I(O.provide_contactinfo.name,null,e,(function(e){t&&t(e)}),r)},glanceContactinfo:function(e,t,r){if(M(e.other_user_id)||M(e.other_user_source))return r&&r();I(O.glance_contactinfo.name,e,null,(function(e){t&&t(e)}),r)},getSelfContactinfo:function(e,t,r){I(O.get_self_contactinfo.name,e,null,(function(e){t&&t(e)}),r)},addNoticeTask:function(e,t,r){if(M(e.run_time)||M(e.to_users)||0==e.to_users.length||M(e.msgs)||0==e.msgs.length)return r&&r();I(O.add_notice_task.name,null,e,(function(e){t&&t(e)}),r)},updateNoticeTask:function(e,t,r){if(M(e.notice_id)||M(e.run_time)||M(e.to_users)||0==e.to_users.length||M(e.msgs)||0==e.msgs.length)return r&&r();I(O.update_notice_task.name,null,e,(function(e){t&&t(e)}),r)},getNoticeTaskBatch:function(e,t,r){I(O.get_notice_task_batch.name,null,e,(function(e){t&&t(e)}),r)},mergeUser:function(e,t,r){I(O.merge_user.name,e,null,(function(e){t&&t(e)}),r)},deleteRemoteUser:function(e){if(!M(e.user_id)&&!M(e.user_source)){var t=e.user_id+"@"+e.user_source;M(e.shop_id)||M(e.shop_source)||(t+="@@"+item.shop_id+"@"+item.shop_source),delete this._users[t]}}})},vA1p:function(e,t,r){var n=r("VsT0");e.exports=n},vFlH:function(e,t,r){r("Pkew"),r("SE4I");var n=r("dktu");e.exports=n.Array.from},vLop:function(e,t,r){var n={};n=r("Jf4P"),e.exports=n},vf3k:function(e,t){window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange},vfRR:function(e,t,r){"use strict";var n=r("pevS"),o=r("3uAa").find,s=r("xE4W"),i=r("MCtm"),u="find",a=!0,c=i(u);u in[]&&Array(1)[u]((function(){a=!1})),n({target:"Array",proto:!0,forced:a||!c},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s(u)},vuoM:function(e,t,r){var n=r("A2Ma");t.f=n},vxnP:function(e,t,r){"use strict";var n=r("I+eb");n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},wE6v:function(e,t,r){var n=r("hh1v");e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},wbIY:function(e,t,r){var n=r("Bvq2");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},wjB2:function(e,t,r){var n=r("wbIY"),o=r("QYBB"),s=r("b42z"),i=r("oBZR");e.exports=n?Object.defineProperties:function(e,t){s(e);var r,n=i(t),u=n.length,a=0;while(u>a)o.f(e,r=n[a++],t[r]);return e}},wvDy:function(e,t,r){var n=r("OsYe");e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},xDBR:function(e,t){e.exports=!1},xE4W:function(e,t){e.exports=function(){}},xWeK:function(e,t,r){var n=r("Bvq2"),o=r("A2Ma"),s=r("cEKj"),i=o("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t["delete"]("b"),r+=n+e})),s&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},xahd:function(e,t,r){var n=r("pevS"),o=r("OsYe"),s=r("lxfd"),i=[].slice,u=/MSIE .\./.test(s),a=function(e){return function(t,r){var n=arguments.length>2,o=n?i.call(arguments,2):void 0;return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,r)}};n({global:!0,bind:!0,forced:u},{setTimeout:a(o.setTimeout),setInterval:a(o.setInterval)})},xjr5:function(e,t,r){var n=r("G9WS");r("07d7"),r("JfAA");var o=n(r("6UaR"));o.default||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)})},xlHU:function(e,t,r){e.exports=r("XVXW")},xrYK:function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},xs3f:function(e,t,r){var n=r("2oRo"),o=r("zk60"),s="__core-js_shared__",i=n[s]||o(s,{});e.exports=i},xzMW:function(e,t,r){var n=r("ooPF"),o={login:null,logout:null,imTokenExpired:null,connectchange:null,msgReceived:null,cmdmsgReceived:null,replaceMsgReceived:null,callMsgReceived:null,otherReadUpdate:null,unreadUpdate:null,userOperation:null,contactOnlineStatusChanged:null,syncAppData:null,unreadChanged:null,referChanged:null,vrorderInfoReceived:null,vrchatInfoReceived:null,sessionChanged:null,sessionPortChanged:null,syncUnread:null,newSessionLoaded:null,userChanged:null,falseNews:null,mainPageChanged:null,changed:null,FIRST:null,MORE:null,wsCallReceived:null,uploadauditChange:null,contactInfoChanged:null,cometReceived:null,loginUserChanged:null,heartBeat:null,anonymousContactLogined:null,mergeUser:null};o=n(o),e.exports=o},y9AQ:function(e,t,r){var n=r("FWHo"),o=r("GHVm"),s=function(e){return function(t,r){var s,i,u=String(o(t)),a=n(r),c=u.length;return a<0||a>=c?e?"":void 0:(s=u.charCodeAt(a),s<55296||s>56319||a+1===c||(i=u.charCodeAt(a+1))<56320||i>57343?e?u.charAt(a):s:e?u.slice(a,a+2):i-56320+(s-55296<<10)+65536)}};e.exports={codeAt:s(!1),charAt:s(!0)}},yFJG:function(module,exports,__webpack_require__){var _interopRequireDefault=__webpack_require__("G9WS");__webpack_require__("oVuX"),__webpack_require__("07d7"),__webpack_require__("rB9j"),__webpack_require__("JfAA"),__webpack_require__("UxlC"),__webpack_require__("vxnP");var _typeof2=_interopRequireDefault(__webpack_require__("nhkr")),_isArray=_interopRequireDefault(__webpack_require__("6UaR"));window.JSON||(window.JSON={parse:function parse(sJSON){return eval("("+sJSON+")")},stringify:function(){var e=Object.prototype.toString,t=_isArray.default||function(t){return"[object Array]"===e.call(t)},r={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},n=function(e){return r[e]||"\\u"+(e.charCodeAt(0)+65536).toString(16).substr(1)},o=/[\\"\u0000-\u001F\u2028\u2029]/g;return function r(s){if(null==s)return"null";if("number"===typeof s)return isFinite(s)?s.toString():"null";if("boolean"===typeof s)return s.toString();if("object"===(0,_typeof2.default)(s)){if("function"===typeof s.toJSON)return r(s.toJSON());if(t(s)){for(var i="[",u=0;u<s.length;u++)i+=(u?", ":"")+r(s[u]);return i+"]"}if("[object Object]"===e.call(s)){var a=[];for(var c in s)s.hasOwnProperty(c)&&a.push(r(c)+": "+r(s[c]));return"{"+a.join(", ")+"}"}}return'"'+s.toString().replace(o,n)+'"'}}()})},yLpj:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},yWZl:function(e,t,r){var n=r("G9WS"),o=r("LYCE"),s=r("HnXd"),i=r("qjzJ"),u=r("RXMP"),a=r("fHi0"),c=r("5PDf"),f=r("OWCx"),l=r("+oHS");r("oVuX"),r("sMBO"),r("07d7"),r("rB9j"),r("JfAA"),r("EnZy");var d=n(r("M5Mt")),_=n(r("04Ix")),p=n(r("UtpJ")),g=n(r("guyh")),h=n(r("5PDf")),m=n(r("/FZm"));function v(e,t){var r=l(e);if(f){var n=f(e);t&&(n=c(n).call(n,(function(t){return a(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r,n=null!=arguments[t]?arguments[t]:{};if(t%2)u(r=v(Object(n),!0)).call(r,(function(t){(0,_.default)(e,t,n[t])}));else if(i)s(e,i(n));else{var c;u(c=v(Object(n))).call(c,(function(t){o(e,t,a(n,t))}))}}return e}var b=r("e7pT"),w=(r("1Fqx"),r("Uwh9")),x=r("tMi5"),S=x.getContactInfo,k=w.inherits,M=w.isEmpty,E=(w.each,w.toString),A=w.strToNumCompare,I=x.isShopModeUser,O=x.shopModeUserSource,T=x.getShopKey,U=x.getUserAndShopInfo,R=x.isMeSender,L=r("kXmp").msg,j=r("kXmp").unreadmsg,C=(r("t2eQ").get(),r("xzMW")),P=r("mNsz"),F=r("eAFf"),B=r("QbSn"),D=r("b0FF");e.exports=new(k(b,{constructor:function(){b.call(this),this._unread={},this._msgList={},this._unreadTimer=null,this._msgIdObj={},this._replaceMsgList={}},_getMsgFromLocal:function(e,t,r){if(e.localonly||1==e.option){var n={sender_id:e.user_id,sender_source:e.user_source,to_id:M(e.shop_id)?B.get().user_id:e.shop_id,to_source:M(e.shop_source)?B.get().user_source:e.shop_source,msgid:e.msg_id,count:e.count,option:e.option},o=this;return(0,m.default)(L).call(L,n,(function(r,s){if(o.updateCacheMsgList(r),M(D["is_not_sync_page"])||M(r)||0!=r.length)t&&t(r,s);else{var i=[],u=B.get().user_id+"_"+B.get().user_source,a=e.user_id+"_"+e.user_source;M(e.shop_id)||M(e.shop_source)||(u=e.shop_id+"_"+e.shop_source);var c=u+"@"+a;if(1==n.option){for(var f in o._msgList)if(f==c){var l;i=(0,h.default)(l=o._msgList[f]).call(l,(function(e){return R(e)&&(M(s)||!M(e.other_last_showed_msg_id)&&A(e.other_last_showed_msg_id,s)>0)&&(s=e.other_last_showed_msg_id),A(e.msg_id,n.msgid)>0}));break}t&&t(i,s)}else if(-1==n.option){for(var f in o._msgList)if(f==c){var d;i=(0,h.default)(d=o._msgList[f]).call(d,(function(e){return A(e.msg_id,n.msgid)<0}));break}i=(0,g.default)(i).call(i,(function(e,t){return A(t.msg_id,e.msgid)})),i=(0,p.default)(i).call(i,0,n.count),t&&t(i,s)}else t&&t(r,s)}}),(function(e){r&&r(e)})),!0}return!1},_getReplaceMsgFromLocal:function(e,t,r){var n=this,o={sender_id:e.user_id,sender_source:e.user_source,to_id:B.get().user_id,to_source:B.get().user_source,shop_id:e.shop_id,shop_source:e.shop_source,msgid:e.msg_id,count:e.count,option:e.option};return L.replaceMsgFind(o,(function(r){if(M(D["is_not_sync_page"])||M(r)||0!=r.length)t&&t(r);else if(1==o.option){var s=[],i=e.user_id+"@"+e.user_source;for(var u in n._replaceMsgList)if(u==i){var a;s=(0,h.default)(a=n._replaceMsgList[u]).call(a,(function(e){return A(e.msg_id,o.msgid)>0}));break}t&&t(s)}else t&&t(r)}),(function(e){r&&r(e)})),!0},_getDeletedMsgFromLocal:function(e,t,r){var n={sender_id:e.user_id,sender_source:e.user_source,to_id:B.get().user_id,to_source:B.get().user_source,shop_id:e.shop_id,shop_source:e.shop_source};return this.getDeletedMsgsFromLocal(n,t,r)},send:function(e,t,r){var n=e,o=this;this._send(e,(function(e){n.msg_id=e.msg_id,n.send_time=e.send_time,n.link_msg_id=e.link_msg_id,n.msg_index=e.msg_index,n.showed_count=e.showed_count,n.msg_status=0,o.addMsgToDB([n]);var r=n.sender_id+"_"+n.sender_source+"@"+n.to_id+"_"+n.to_source;o._msgList[r]?o.insert(o._msgList[r],n):o._msgList[r]=[n],o._msgIdObj[n.msg_id]=n;var s=n.to_id+"@"+n.to_source;s=I(n)?s+"@@"+T(n):s,o.setLastMsg(s,n),t&&t(e)}),r)},isNeedShow:function(e){var t;B.get();if(e.options&&e.options.show_in_app&&0!=e.options.show_in_app.length){t=!1;for(var r=D["appid"].split("-")[0],n=0,o=e.options.show_in_app.length;n<o;n++)if(e.options.show_in_app[n]==r){t=!0;break}}else t=!0;return R(e)&&e.options&&e.options.sender_hide&&"1"===E(e.options.sender_hide)&&(t=!1),I(e)&&e.sender_source+""===O&&e.options&&e.options.sender_hide&&"1"===E(e.options.sender_hide)&&(t=!1),M(e.msg_status)||e.msg_status+""!=="2"||(t=!1),e.options&&e.options.sdk_hide&&e.options.sdk_hide+""=="1"&&(t=!1),t},addMsgToDB:function(e,t,r){for(var n=this,o=0;o<e.length;o++){var s=e[o];n._msgIdObj[s.msg_id]=s}L.add(e,(function(){t&&t()}),(function(e){r&&r()}))},addReplaceMsgToDB:function(e,t,r){for(var n=this,o=0;o<e.length;o++){var s=e[o],i=S(s),u=i.user_key;M(n._replaceMsgList[u])&&(n._replaceMsgList[u]=[]),n._replaceMsgList[u].push(y({},s))}L.addReplace(e,(function(){t&&t()}),(function(e){r&&r()}))},addDeletedMsgToDb:function(e,t,r){L.addDeleted(e,(function(){t&&t()}),(function(e){r&&r()}))},getUnrecvMsgs:function(e,t,r){P(F.get_unrecv_msgs.name,e,null,t,r)},saveMsgs:function(e){0!=e.length&&(this.updateCacheMsgList(e),this.addMsgToDB(e))},getMsgById:function(e,t){return t&&"function"===typeof t&&t(this._msgIdObj[e]),this._msgIdObj[e]},getMsgByIdFromDb:function(e,t){var r={msgid:e,option:0};(0,m.default)(L).call(L,r,(function(e){t&&t(e)}))},saveReplaceMsgs:function(e){0!=e.length&&this.addReplaceMsgToDB(e)},saveDeletedMsgs:function(e){0!=e.length&&this.addDeletedMsgToDb(e)},getMsgRecordsRemote:function(e,t,r){this._getMsgRecordsRemote(e,t,r)},syncAppMsgRecords:function(e){var t=this;t.updateCacheMsgList([e]);var r=B.get().user_id+"_"+B.get().user_source+"@"+e.to_id+"_"+e.to_source,n=t._msgList[r],o=n.length>1?n[n.length-2].msg_id:null;0!=A(e.link_msg_id,o)&&t.loopHandleSynAppMsg(e,o)},loopHandleSynAppMsg:function(e,t){var r=this,n=0,o=[],s=!1,i={chat_user_id:e.to_id,chat_user_source:e.to_source,count:20,last_min_msg_id:e.last_min_msg_id},u=function u(){n<5?r.getMsgRecordsRemote(i,(function(e){if(0!=e.length){for(var r=0;r<e.length;r++){if(0==A(e[r].msg_id,t)){s=!0;break}o.unshift(e[r])}s?(n=5,u()):(n++,i.last_min_msg_id=o[0].msg_id,u())}}),(function(){})):r.saveSynAppMsg(e,t,s,o)};u()},saveSynAppMsg:function(e,t,r,n){var o=this,s=B.get().user_id+"_"+B.get().user_source+"@"+e.to_id+"_"+e.to_source;if(r)o.updateCacheMsgList(n),o.addMsgToDB(n,(function(){var t={msglist:n,user_id:e.to_id,user_source:e.to_source,delete_msg_id:null};o.triggerEvent(C.syncAppData,t)}),(function(){}));else{var i;(0,d.default)(i=o._msgList[s]).call(i,0,o._msgList[s].length-1),o.updateCacheMsgList(n);var u=t,a={talk:s,msgid:u,count:null,is_close_range:!0};o.removeOld(a,(function(){o.addMsgToDB(n,(function(){var t={msglist:n,user_id:e.to_id,user_source:e.to_source,delete_msg_id:u};o.triggerEvent(C.syncAppData,t)}),(function(){}))}))}},updateCacheMsgList:function(e){var t,r,n,o,s=this,i=B.get(),u=i.user_id,a=i.user_source,c=[u,a].join("_");if(e.length>0){var f=S(e[0]);t=f.user_id,r=f.user_source,o=t+"@"+r,n=s.getLastMsg(t,r)}for(var l=0;l<e.length;l++){var d=e[l],_=d.to_id==u&&d.to_source==a,p=(_?[d.sender_id,d.sender_source]:[d.to_id,d.to_source]).join("_"),g=[c,p].join("@");if(s._msgList[g]?s.insert(s._msgList[g],d):s._msgList[g]=[d],s._msgIdObj[d.msg_id]=d,n&&d&&n.msg_id&&d.msg_id&&A(n.msg_id,d.msg_id)<0){var h=I(d)?o+"@@"+T(d):o;s.setLastMsg(h,d)}}},clearAll:function(e,t){L.clearAll((function(){j.clearAll((function(){e&&e()}),(function(e){t&&t(e)}))}),(function(e){t&&t(e)}))},removeOld:function(e,t,r){L.removeOld(e,(function(){t&&t()}),(function(e){r&&r()}))},setRefer:function(e,t){var r=this,n=e;t.invitation&&t.invitation.refer_time&&(r._refer[n]&&t&&r._refer[n].invitation&&t.invitation&&r._refer[n].invitation.refer_time&&t.invitation.refer_time&&r._refer[n].invitation.refer_time>=t.invitation.refer_time||(t=r._referToString(t),L.setRefer(t,n,(function(){r._refer[n]=t;var o=U(e),s={refer:t,user_id:o.user_id,user_source:o.user_source};M(o.shopKey)||(s.shop_id=o.shop_id,s.shop_source=o.shop_source),r.triggerEvent(C.referChanged,s)}))))},getRefer:function(e){var t=e;return this._refer[t]=this._referToString(this._refer[t]),this._refer[t]?this._refer[t]:null},getWosToken:function(e,t,r){P(F.get_wostoken.name,null,e,t,r)},notifyHunter:function(e,t,r){P(F.notify_hunter.name,null,e,t,r)},checkFile:function(e,t,r){P(F.check_file.name,null,e,t,r)},withdrawMessage:function(e,t,r){P(F.withdraw_msg.name,null,e,t,r)},cardAjax:function(e,t,r,n,o){P(e,t,r,n,o)},resetData:function(){this._unread={},this._lastMsg={},this._events={},this._loadedMsg={},this._msgList={},this._msgIdObj={}},resetLoadedMsg:function(){this._msgList={},this._msgIdObj={},this._lastMsg={},this._loadedMsg={},L.clearAll()},resetEvents:function(){this._events={}}}))},yXV3:function(e,t,r){"use strict";var n=r("I+eb"),o=r("TWQb").indexOf,s=r("pkCn"),i=r("rkAj"),u=[].indexOf,a=!!u&&1/[1].indexOf(1,-0)<0,c=s("indexOf"),f=i("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:a||!c||!f},{indexOf:function(e){return a?u.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},yoRg:function(e,t,r){var n=r("UTVS"),o=r("/GqU"),s=r("TWQb").indexOf,i=r("0BK2");e.exports=function(e,t){var r,u=o(e),a=0,c=[];for(r in u)!n(i,r)&&n(u,r)&&c.push(r);while(t.length>a)n(u,r=t[a++])&&(~s(c,r)||c.push(r));return c}},yz84:function(e,t,r){var n=r("G9WS");r("rB9j"),r("UxlC");var o=n(r("ZbhI")),s=r("PlYH"),i=function(e){if(null==e||0==e.length)return"";var t=s.encode(e),r=0,n=(0,o.default)(t).call(t,"=");-1!==n&&(r=t.length-n,t=t.substring(0,n)),t+=r,t=t.replace(/\+/g,"-").replace(/\//g,"_");var i=Math.floor(t.length/2),u=t.substring(i),a=t.substring(0,i),c=u+a;return c};i.getVersion=function(){return"j1.0"},e.exports=i},zBJ4:function(e,t,r){var n=r("2oRo"),o=r("hh1v"),s=n.document,i=o(s)&&o(s.createElement);e.exports=function(e){return i?s.createElement(e):{}}},zJQS:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},zbSC:function(e,t,r){var n=r("1l3Y");e.exports=n},zc5g:function(e,t,r){var n=r("G9WS"),o=n(r("UtpJ")),s=n(r("o+MX")),i=n(r("guyh")),u=n(r("M5Mt")),a=n(r("ZbhI")),c=r("Q8I8"),f=r("Uwh9"),l=f.extend,d=f.inherits,_=f.isEmpty,p=f.strToNumCompare,g=r("1Fqx"),h=r("kXmp").session,m=(r("t2eQ"),r("xzMW")),v=r("b0FF"),y=20,b=50,w=function(e){var t=this,r=e.length,n=[],o=t.sessions.length;if(r&&o){var s=[];(function(){for(var t=0;t<r;t++){var n=e[t];if(n.user&&n.user.user_id&&n.user.user_source){var o=n.user.user_id+"@"+n.user.user_source;s.push(o)}}})(),function(){for(var e=t.sessions.length,r=e-1;r>=0;r--){var o,i=t.sessions[r],c=i.user.user_id+"@"+i.user.user_source;if(i.user&&i.user.user_id&&i.user.user_source&&-1==(0,a.default)(s).call(s,c)&&!_(i.msg))n.push(t.sessions[r]),(0,u.default)(o=t.sessions).call(o,r,1)}}()}if(0==r&&0!==o)for(var i=o-1;i>=0;i--){var c,f=t.sessions[i];if(f.msg&&f.content)n.push(t.sessions[i]),(0,u.default)(c=t.sessions).call(c,i,1)}return n.length>0&&t.triggerEvent(m.sessionChanged,t.getAllSessions()),n},x=function(e){for(var t=this,r=[],n=e.length,o=[],s={},i={},u=0;u<n;u++){var a=e[u],c=a.user.user_id+"@"+a.user.user_source;a.user.shop_id&&a.user.shop_source&&(c+="@@"+a.shop_id+"@"+a.shop_source),o.push(c),a.msg&&a.msg.msg_id&&(s[c]=a.msg.msg_id,i[c]=u)}if(0==o.length)return[];var f=t.sessions.length;for(u=0;u<f;u++){a=t.sessions[u],c=a.user.user_id+"@"+a.user.user_source;if(a.user.shop_id&&a.user.shop_source&&(c+="@@"+a.user.shop_id+"@"+a.user.shop_source),s[c]&&a.msg.msg_id&&0!=p(s[c],a.msg.msg_id)){var d=l(!0,{},e[i[c]]);d.sort_time=d.msg.send_time,r.push(d),t.sessions[u]=d}}return r};e.exports=new(d(c,{constructor:function(){c.call(this),this._getSessionViaDBTimer=null,this.hasReadFromLocal,function(e){e._getSessionViaDBTimer=new g({onElapsed:function(t){h.getAll((function(r){r=(0,i.default)(r).call(r,e._sortCompare),w.call(e,r),e.insert(r,(function(){e._getSessionViaDBTimer.setDuration(1e3),t()}))}),(function(r){e._getSessionViaDBTimer.setDuration(50),t()}))},duration:1e3})}(this)},_synNewSessions:function(e){var t=[],r=!1,n=this;(function o(i,u){n._getSessions(t,(function(a,c){var f=a.length;if(f&&n.sessions.length){var l=a[f-1],d=l.msg,g=function(){for(var e=null,t=0,r=n.sessions.length;t<r;t++){var o=n.sessions[t];if(o.msg){e=o;break}}return e}(),h=g&&g.msg?g.msg:null;h&&d&&d.msg_id&&h.msg_id&&p(d.msg_id,h.msg_id)<=0&&(r=!0),l&&g&&l.user&&g.user&&l.user.user_id+"@"+l.user.user_source==g.user.user_id+"@"+g.user.user_source&&(r=!0)}t=(0,s.default)(t).call(t,a);for(var m=0;m<t.length;m++){var v=t[m].msg,y=t[m].user,b=y.user_id+"@"+y.user_source;if(!_(v)&&(_(v.at_info)||"{}"==v.at_info))for(var w=0,x=n.sessions.length;w<x;w++){var S=n.sessions[w],k=S.user,M=k.user_id+"@"+k.user_source,E=S.msg;M!=b||_(E)||_(E.at_info)||(t[m].msg.at_info=E.at_info,t[m].msg.at_index=E.at_index,t[m].msg.at_msg_id=E.at_msg_id)}}r||0===f||0===n.sessions.length||!h&&0!==n.sessions.length||u++>=i?n.insert(t,(function(){e&&e(t,c)})):o(i,u)}))})(y,0)},insert:function(e,t){var r=this;r._insert(e,(function(e){e&&e.length>0?r.updateSessionDB(e,t):t&&t()}))},updateSessionDB:function(e,t){h.add(e,(function(){t&&t()}),(function(e){t&&t()}))},getSessions:function(e,t){var r=this;if(_(e)||_(e.count)||(r._scrollLoadNum=e.count),this.hasReadFromLocal)this._getSessions(this.sessions,(function(e,n,o){r.insert(e,(function(){t(e,n,o)}))}));else{var n=e.count>b?e.count:b;h.getAll((function(e){e=(0,i.default)(e).call(e,r._sortCompare),r.hasReadFromLocal=!0;var s=e.length,u=s>n?(0,o.default)(e).call(e,0,n):e;r.sessions=f.extend(!0,[],u),r._synNewSessions((function(i,u){h.remove((0,o.default)(e).call(e,n,s),(function(e){i=(0,o.default)(i).call(i,0,n);var t=x.call(r,i),s=w.call(r,i),u=function(){v["is_not_sync_page"]||r._getSessionViaDBTimer.start()};h.remove(s,(function(e){h.add(t,u,u)}),(function(){h.add(t,u,u)}))})),r.triggerEvent(m.sessionChanged,r.getAllSessions()),r.triggerEvent(m.sessionPortChanged,r.getAllSessions()),t(r.getAllSessions(),u)})),r.triggerEvent(m.newSessionLoaded,m.FIRST,e)}),(function(e){t([],!0)}))}},clearAll:function(e,t){this.sessions=[],h.clearAll(e,(function(e){t&&t(e)}))},stop:function(){this._getSessionViaDBTimer&&this._getSessionViaDBTimer.stop()}}))},zfnd:function(e,t,r){var n=r("glrk"),o=r("hh1v"),s=r("8GlL");e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=s.f(e),i=r.resolve;return i(t),r.promise}},zk60:function(e,t,r){var n=r("2oRo"),o=r("kRJp");e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}}});
//# sourceMappingURL=sdk.js.map